!function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{enumerable:!0,get:d})},b.r=function(a){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},b.t=function(a,c){if(1&c&&(a=b(a)),8&c)return a;if(4&c&&"object"==typeof a&&a&&a.__esModule)return a;var d=Object.create(null);if(b.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:a}),2&c&&"string"!=typeof a)for(var e in a)b.d(d,e,function(b){return a[b]}.bind(null,e));return d},b.n=function(a){var c=a&&a.__esModule?function(){return a["default"]}:function(){return a};return b.d(c,"a",c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p="",b(b.s=574)}([function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),(b.SuperMap=window.SuperMap=window.SuperMap||{}).Widgets=window.SuperMap.Widgets||{}},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Util=void 0;var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},e=c(0);c(66);var f,g,h;b.Util=e.SuperMap.Util=e.SuperMap.Util||{},e.SuperMap.Util.extend=function(a,b){if(a=a||{},b){for(var c in b){var d=b[c];void 0!==d&&(a[c]=d)}!("function"==typeof window.Event&&b instanceof window.Event)&&b.hasOwnProperty&&b.hasOwnProperty("toString")&&(a.toString=b.toString)}return a},e.SuperMap.Util.copy=function(a,b){var c;if(a=a||{},b)for(var d in a)void 0!==(c=b[d])&&(a[d]=c)},e.SuperMap.Util.reset=function(a){for(var b in a=a||{})if(a.hasOwnProperty(b)){if("object"===d(a[b])&&a[b]instanceof Array){for(var c in a[b])a[b][c].destroy&&a[b][c].destroy();a[b].length=0}else"object"===d(a[b])&&a[b]instanceof Object&&a[b].destroy&&a[b].destroy();a[b]=null}},e.SuperMap.Util.getElement=function(){for(var a=[],b=0,c=arguments.length;c>b;b++){var d=arguments[b];if("string"==typeof d&&(d=document.getElementById(d)),1===arguments.length)return d;a.push(d)}return a},e.SuperMap.Util.isElement=function(a){return!(!a||1!==a.nodeType)},e.SuperMap.Util.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)},e.SuperMap.Util.removeItem=function(a,b){for(var c=a.length-1;c>=0;c--)a[c]===b&&a.splice(c,1);return a},e.SuperMap.Util.indexOf=function(a,b){if(null==a)return-1;if("function"==typeof a.indexOf)return a.indexOf(b);for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},e.SuperMap.Util.modifyDOMElement=function(a,b,c,d,e,f,g,h){b&&(a.id=b),c&&(a.style.left=c.x+"px",a.style.top=c.y+"px"),d&&(a.style.width=d.w+"px",a.style.height=d.h+"px"),e&&(a.style.position=e),f&&(a.style.border=f),g&&(a.style.overflow=g),parseFloat(h)>=0&&parseFloat(h)<1?(a.style.filter="alpha(opacity="+100*h+")",a.style.opacity=h):1===parseFloat(h)&&(a.style.filter="",a.style.opacity="")},e.SuperMap.Util.applyDefaults=function(a,b){a=a||{};var c="function"==typeof window.Event&&b instanceof window.Event;for(var d in b)(void 0===a[d]||!c&&b.hasOwnProperty&&b.hasOwnProperty(d)&&!a.hasOwnProperty(d))&&(a[d]=b[d]);return!c&&b&&b.hasOwnProperty&&b.hasOwnProperty("toString")&&!a.hasOwnProperty("toString")&&(a.toString=b.toString),a},e.SuperMap.Util.getParameterString=function(a){var b=[];for(var c in a){var e=a[c];if(null!=e&&"function"!=typeof e){var f;if("object"===(void 0===e?"undefined":d(e))&&e.constructor===Array){for(var g,h=[],i=0,j=e.length;j>i;i++)g=e[i],h.push(encodeURIComponent(null===g||void 0===g?"":g));f=h.join(",")}else f=encodeURIComponent(e);b.push(encodeURIComponent(c)+"="+f)}}return b.join("&")},e.SuperMap.Util.urlAppend=function(a,b){var c=a;if(b){var d=(a+" ").split(/[?&]/);c+=" "===d.pop()?b:d.length?"&"+b:"?"+b}return c},e.SuperMap.Util.DEFAULT_PRECISION=14,e.SuperMap.Util.toFloat=function(a,b){return null==b&&(b=e.SuperMap.Util.DEFAULT_PRECISION),"number"!=typeof a&&(a=parseFloat(a)),0===b?a:parseFloat(a.toPrecision(b))},e.SuperMap.Util.rad=function(a){return a*Math.PI/180},e.SuperMap.Util.getParameters=function(a){a=null===a||void 0===a?window.location.href:a;var b="";if(e.SuperMap.String.contains(a,"?")){var c=a.indexOf("?")+1,d=e.SuperMap.String.contains(a,"#")?a.indexOf("#"):a.length;b=a.substring(c,d)}for(var f={},g=b.split(/[&;]/),h=0,i=g.length;i>h;++h){var j=g[h].split("=");if(j[0]){var k=j[0];try{k=decodeURIComponent(k)}catch(a){k=unescape(k)}var l=(j[1]||"").replace(/\+/g," ");try{l=decodeURIComponent(l)}catch(a){l=unescape(l)}1==(l=l.split(",")).length&&(l=l[0]),f[k]=l}}return f},e.SuperMap.Util.lastSeqID=0,e.SuperMap.Util.createUniqueID=function(a){return null==a&&(a="id_"),e.SuperMap.Util.lastSeqID+=1,a+e.SuperMap.Util.lastSeqID},e.SuperMap.INCHES_PER_UNIT={inches:1,ft:12,mi:63360,m:39.3701,km:39370.1,dd:4374754,yd:36},e.SuperMap.INCHES_PER_UNIT["in"]=e.SuperMap.INCHES_PER_UNIT.inches,e.SuperMap.INCHES_PER_UNIT.degrees=e.SuperMap.INCHES_PER_UNIT.dd,e.SuperMap.INCHES_PER_UNIT.nmi=1852*e.SuperMap.INCHES_PER_UNIT.m,e.SuperMap.METERS_PER_INCH=.0254000508001016,e.SuperMap.Util.extend(e.SuperMap.INCHES_PER_UNIT,{Inch:e.SuperMap.INCHES_PER_UNIT.inches,Meter:1/e.SuperMap.METERS_PER_INCH,Foot:.3048006096012192/e.SuperMap.METERS_PER_INCH,IFoot:.3048/e.SuperMap.METERS_PER_INCH,ClarkeFoot:.3047972651151/e.SuperMap.METERS_PER_INCH,SearsFoot:.30479947153867626/e.SuperMap.METERS_PER_INCH,GoldCoastFoot:.3047997101815088/e.SuperMap.METERS_PER_INCH,IInch:.0254/e.SuperMap.METERS_PER_INCH,MicroInch:254e-7/e.SuperMap.METERS_PER_INCH,Mil:2.54e-8/e.SuperMap.METERS_PER_INCH,Centimeter:.01/e.SuperMap.METERS_PER_INCH,Kilometer:1e3/e.SuperMap.METERS_PER_INCH,Yard:.9144018288036576/e.SuperMap.METERS_PER_INCH,SearsYard:.914398414616029/e.SuperMap.METERS_PER_INCH,IndianYard:.9143985307444408/e.SuperMap.METERS_PER_INCH,IndianYd37:.91439523/e.SuperMap.METERS_PER_INCH,IndianYd62:.9143988/e.SuperMap.METERS_PER_INCH,IndianYd75:.9143985/e.SuperMap.METERS_PER_INCH,IndianFoot:.30479951/e.SuperMap.METERS_PER_INCH,IndianFt37:.30479841/e.SuperMap.METERS_PER_INCH,IndianFt62:.3047996/e.SuperMap.METERS_PER_INCH,IndianFt75:.3047995/e.SuperMap.METERS_PER_INCH,Mile:1609.3472186944373/e.SuperMap.METERS_PER_INCH,IYard:.9144/e.SuperMap.METERS_PER_INCH,IMile:1609.344/e.SuperMap.METERS_PER_INCH,NautM:1852/e.SuperMap.METERS_PER_INCH,"Lat-66":110943.31648893273/e.SuperMap.METERS_PER_INCH,"Lat-83":110946.25736872235/e.SuperMap.METERS_PER_INCH,Decimeter:.1/e.SuperMap.METERS_PER_INCH,Millimeter:.001/e.SuperMap.METERS_PER_INCH,Dekameter:10/e.SuperMap.METERS_PER_INCH,Decameter:10/e.SuperMap.METERS_PER_INCH,Hectometer:100/e.SuperMap.METERS_PER_INCH,GermanMeter:1.0000135965/e.SuperMap.METERS_PER_INCH,CaGrid:.999738/e.SuperMap.METERS_PER_INCH,ClarkeChain:20.1166194976/e.SuperMap.METERS_PER_INCH,GunterChain:20.11684023368047/e.SuperMap.METERS_PER_INCH,BenoitChain:20.116782494375872/e.SuperMap.METERS_PER_INCH,SearsChain:20.11676512155/e.SuperMap.METERS_PER_INCH,ClarkeLink:.201166194976/e.SuperMap.METERS_PER_INCH,GunterLink:.2011684023368047/e.SuperMap.METERS_PER_INCH,BenoitLink:.20116782494375873/e.SuperMap.METERS_PER_INCH,SearsLink:.2011676512155/e.SuperMap.METERS_PER_INCH,Rod:5.02921005842012/e.SuperMap.METERS_PER_INCH,IntnlChain:20.1168/e.SuperMap.METERS_PER_INCH,IntnlLink:.201168/e.SuperMap.METERS_PER_INCH,Perch:5.02921005842012/e.SuperMap.METERS_PER_INCH,Pole:5.02921005842012/e.SuperMap.METERS_PER_INCH,Furlong:201.1684023368046/e.SuperMap.METERS_PER_INCH,Rood:3.778266898/e.SuperMap.METERS_PER_INCH,CapeFoot:.3047972615/e.SuperMap.METERS_PER_INCH,Brealey:375/e.SuperMap.METERS_PER_INCH,ModAmFt:.304812252984506/e.SuperMap.METERS_PER_INCH,Fathom:1.8288/e.SuperMap.METERS_PER_INCH,"NautM-UK":1853.184/e.SuperMap.METERS_PER_INCH,"50kilometers":5e4/e.SuperMap.METERS_PER_INCH,"150kilometers":15e4/e.SuperMap.METERS_PER_INCH}),e.SuperMap.Util.extend(e.SuperMap.INCHES_PER_UNIT,{mm:e.SuperMap.INCHES_PER_UNIT.Meter/1e3,cm:e.SuperMap.INCHES_PER_UNIT.Meter/100,dm:100*e.SuperMap.INCHES_PER_UNIT.Meter,km:1e3*e.SuperMap.INCHES_PER_UNIT.Meter,kmi:e.SuperMap.INCHES_PER_UNIT.nmi,fath:e.SuperMap.INCHES_PER_UNIT.Fathom,ch:e.SuperMap.INCHES_PER_UNIT.IntnlChain,link:e.SuperMap.INCHES_PER_UNIT.IntnlLink,"us-in":e.SuperMap.INCHES_PER_UNIT.inches,"us-ft":e.SuperMap.INCHES_PER_UNIT.Foot,"us-yd":e.SuperMap.INCHES_PER_UNIT.Yard,"us-ch":e.SuperMap.INCHES_PER_UNIT.GunterChain,"us-mi":e.SuperMap.INCHES_PER_UNIT.Mile,"ind-yd":e.SuperMap.INCHES_PER_UNIT.IndianYd37,"ind-ft":e.SuperMap.INCHES_PER_UNIT.IndianFt37,"ind-ch":20.11669506/e.SuperMap.METERS_PER_INCH}),e.SuperMap.DOTS_PER_INCH=96,e.SuperMap.Util.normalizeScale=function(a){return a>1?1/a:a},e.SuperMap.Util.getResolutionFromScale=function(a,b){var c;return a&&(null==b&&(b="degrees"),c=1/(e.SuperMap.Util.normalizeScale(a)*e.SuperMap.INCHES_PER_UNIT[b]*e.SuperMap.DOTS_PER_INCH)),c},e.SuperMap.Util.getScaleFromResolution=function(a,b){return null==b&&(b="degrees"),a*e.SuperMap.INCHES_PER_UNIT[b]*e.SuperMap.DOTS_PER_INCH},e.SuperMap.IS_GECKO=-1===(f=navigator.userAgent.toLowerCase()).indexOf("webkit")&&-1!==f.indexOf("gecko"),e.SuperMap.Browser=function(){var a,b="",c="",d="pc",e=navigator.userAgent.toLowerCase();return e.indexOf("msie")>-1||e.indexOf("trident")>-1&&e.indexOf("rv")>-1?(b="msie",a=e.match(/msie ([\d.]+)/)||e.match(/rv:([\d.]+)/)):e.indexOf("chrome")>-1?(b="chrome",a=e.match(/chrome\/([\d.]+)/)):e.indexOf("firefox")>-1?(b="firefox",a=e.match(/firefox\/([\d.]+)/)):e.indexOf("opera")>-1?(b="opera",a=e.match(/version\/([\d.]+)/)):e.indexOf("safari")>-1&&(b="safari",a=e.match(/version\/([\d.]+)/)),c=a?a[1]:"",e.indexOf("ipad")>-1||e.indexOf("ipod")>-1||e.indexOf("iphone")>-1?d="apple":e.indexOf("android")>-1&&(c=(a=e.match(/version\/([\d.]+)/))?a[1]:"",d="android"),{name:b,version:c,device:d}}(),e.SuperMap.Util.getBrowser=function(){return e.SuperMap.Browser},e.SuperMap.Util.isSupportCanvas=(g=!0,h=e.SuperMap.Util.getBrowser(),document.createElement("canvas").getContext?("firefox"===h.name&&parseFloat(h.version)<5&&(g=!1),"safari"===h.name&&parseFloat(h.version)<4&&(g=!1),"opera"===h.name&&parseFloat(h.version)<10&&(g=!1),"msie"===h.name&&parseFloat(h.version)<9&&(g=!1)):g=!1,g),e.SuperMap.Util.supportCanvas=function(){return e.SuperMap.Util.isSupportCanvas},e.SuperMap.INCHES_PER_UNIT.degree=e.SuperMap.INCHES_PER_UNIT.dd,e.SuperMap.INCHES_PER_UNIT.meter=e.SuperMap.INCHES_PER_UNIT.m,e.SuperMap.INCHES_PER_UNIT.foot=e.SuperMap.INCHES_PER_UNIT.ft,e.SuperMap.INCHES_PER_UNIT.inch=e.SuperMap.INCHES_PER_UNIT.inches,e.SuperMap.INCHES_PER_UNIT.mile=e.SuperMap.INCHES_PER_UNIT.mi,e.SuperMap.INCHES_PER_UNIT.kilometer=e.SuperMap.INCHES_PER_UNIT.km,e.SuperMap.INCHES_PER_UNIT.yard=e.SuperMap.INCHES_PER_UNIT.yd,e.SuperMap.Util.isInTheSameDomain=function(a){if(!a)return!0;var b=a.indexOf("//"),c=document.location.toString(),d=c.indexOf("//");if(-1===b)return!0;var e,f=e=a.substring(0,b),g=c.substring(d+2);d=g.indexOf("/");var h=g.indexOf(":"),i=g.substring(0,d),j=document.location.protocol;if(-1!==h||(i+=":"+("http:"===j.toLowerCase()?80:443)),j.toLowerCase()!==f.toLowerCase())return!1;var k=(f=a.substring(b+2)).indexOf(":");b=f.indexOf("/");var l,m=f.substring(0,b);return-1!==k?l=f.substring(0,k):(l=f.substring(0,b),m+=":"+("http:"===e.toLowerCase()?80:443)),l===document.domain&&m===i},e.SuperMap.Util.calculateDpi=function(a,b,c,d,e){if(a&&b&&c){var f,g=a.getWidth(),h=a.getHeight(),i=b.w,j=b.h;if(e=e||6378137,"degree"===(d=d||"degrees").toLowerCase()||"degrees"===d.toLowerCase()||"dd"===d.toLowerCase()){var k=g/i,l=h/j;f=254/(k>l?k:l)/c/(2*Math.PI*e/360)/1e4}else f=254/(g/i)/c/1e4;return f}},e.SuperMap.Util.toJSON=function(a){var b=a;if(null==b)return null;switch(b.constructor){case String:return b=(b=(b=(b=(b=(b=(b='"'+b.replace(/(["\\])/g,"\\$1")+'"').replace(/\n/g,"\\n")).replace(/\r/g,"\\r")).replace("<","&lt;")).replace(">","&gt;")).replace(/%/g,"%25")).replace(/&/g,"%26");case Array:for(var c=[],f=0,g=b.length;g>f;f++)c.push(e.SuperMap.Util.toJSON(b[f]));return"["+c.join(",")+"]";case Number:return isFinite(b)?String(b):null;case Boolean:return String(b);case Date:return"{'__type':\"System.DateTime\",'Year':"+b.getFullYear()+",'Month':"+(b.getMonth()+1)+",'Day':"+b.getDate()+",'Hour':"+b.getHours()+",'Minute':"+b.getMinutes()+",'Second':"+b.getSeconds()+",'Millisecond':"+b.getMilliseconds()+",'TimezoneOffset':"+b.getTimezoneOffset()+"}";default:if(null!=b.toJSON&&"function"==typeof b.toJSON)return b.toJSON();if("object"===(void 0===b?"undefined":d(b))){if(b.length){for(var h=[],i=0,j=b.length;j>i;i++)h.push(e.SuperMap.Util.toJSON(b[i]));return"["+h.join(",")+"]"}var k=[];for(var l in b)"function"!=typeof b[l]&&"CLASS_NAME"!==l&&"parent"!==l&&k.push("'"+l+"':"+e.SuperMap.Util.toJSON(b[l]));return k.length>0?"{"+k.join(",")+"}":"{}"}return b.toString()}},e.SuperMap.Util.getResolutionFromScaleDpi=function(a,b,c,d){return d=d||6378137,c=c||"",a>0&&b>0?(a=e.SuperMap.Util.normalizeScale(a),"degree"===c.toLowerCase()||"degrees"===c.toLowerCase()||"dd"===c.toLowerCase()?254/b/a/(2*Math.PI*d/360)/1e4:254/b/a/1e4):-1},e.SuperMap.Util.getScaleFromResolutionDpi=function(a,b,c,d){return d=d||6378137,c=c||"",a>0&&b>0?"degree"===c.toLowerCase()||"degrees"===c.toLowerCase()||"dd"===c.toLowerCase()?254/b/a/(2*Math.PI*d/360)/1e4:254/b/a/1e4:-1},e.SuperMap.Util.transformResult=function(a){return a.responseText&&"string"==typeof a.responseText&&(a=JSON.parse(a.responseText)),a},e.SuperMap.Util.copyAttributes=function(a,b){if(a=a||{},b)for(var c in b){var d=b[c];void 0!==d&&"CLASS_NAME"!==c&&"function"!=typeof d&&(a[c]=d)}return a},e.SuperMap.Util.copyAttributesWithClip=function(a,b,c){if(a=a||{},b)for(var d in b){var e=!1;if(c&&c.length)for(var f=0,g=c.length;g>f;f++)if(d===c[f]){e=!0;break}if(!0!==e){var h=b[d];void 0!==h&&"CLASS_NAME"!==d&&"function"!=typeof h&&(a[d]=h)}}return a},e.SuperMap.Util.cloneObject=function(a){if(null===a||"object"!==(void 0===a?"undefined":d(a)))return a;if(a instanceof Date){var b=new Date;return b.setTime(a.getTime()),b}if(a instanceof Array)return a.slice(0);if(a instanceof Object){var c={};for(var f in a)a.hasOwnProperty(f)&&(c[f]=e.SuperMap.Util.cloneObject(a[f]));return c}throw new Error("Unable to copy obj! Its type isn't supported.")},e.SuperMap.Util.lineIntersection=function(a,b,c,d){var f,g,h=null,i=(d.x-c.x)*(a.y-c.y)-(d.y-c.y)*(a.x-c.x),j=(b.x-a.x)*(a.y-c.y)-(b.y-a.y)*(a.x-c.x),k=(d.y-c.y)*(b.x-a.x)-(d.x-c.x)*(b.y-a.y);if(0!=k)g=j/k,h=(f=i/k)>=0&&1>=g&&1>=f&&g>=0?new e.SuperMap.Geometry.Point(a.x+f*(b.x-a.x),a.y+f*(b.y-a.y)):"No Intersection";else if(0==i&&0==j){var l=Math.max(a.y,b.y),m=Math.min(a.y,b.y),n=Math.max(a.x,b.x),o=Math.min(a.x,b.x);h=(c.y>=m&&c.y<=l||d.y>=m&&d.y<=l)&&c.x>=o&&c.x<=n||d.x>=o&&d.x<=n?"Coincident":"Parallel"}else h="Parallel";return h},e.SuperMap.Util.getTextBounds=function(a,b,c){document.body.appendChild(c),c.style.width="auto",c.style.height="auto",a.fontSize&&(c.style.fontSize=a.fontSize),a.fontFamily&&(c.style.fontFamily=a.fontFamily),a.fontWeight&&(c.style.fontWeight=a.fontWeight),c.style.position="relative",c.style.visibility="hidden",c.style.display="inline-block",c.innerHTML=b;var d=c.clientWidth,e=c.clientHeight;return document.body.removeChild(c),{textWidth:d,textHeight:e}}},function(a,b){a.exports=L},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}var e=d(c(2));c(108),c(183),c(173);var f=d(c(11));e["default"].supermap=e["default"].supermap||{},e["default"].supermap.control=e["default"].supermap.control||{},e["default"].supermap.widgets=e["default"].supermap.widgets||{},e["default"].Control.Attribution.include({options:{position:"bottomright",prefix:f["default"].Prefix}}),[e["default"].Polyline,e["default"].Polygon,e["default"].Marker,e["default"].CircleMarker,e["default"].Circle,e["default"].LayerGroup].map(function(a){return a.defaultFunction=a.prototype.toGeoJSON,a.include({toGeoJSON:function(b){return a.defaultFunction.call(this,b||10)}}),a})},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.GetFeatureMode=b.AggregationQueryBuilderType=b.AggregationType=b.TopologyValidatorRule=b.SummaryType=b.StatisticAnalystMode=b.AnalystSizeUnit=b.AnalystAreaUnit=b.ClipAnalystMode=b.ChartType=b.ClientType=b.Exponent=b.VariogramMode=b.InterpolationAlgorithmType=b.SearchMode=b.PixelFormat=b.StatisticMode=b.UGCLayerType=b.LayerType=b.ColorSpaceType=b.GridType=b.TransferPreference=b.TransferTactic=b.EditType=b.DataReturnMode=b.SurfaceAnalystMethod=b.SmoothMethod=b.OutputType=b.OverlayOperationType=b.BufferEndType=b.TurnType=b.SupplyCenterType=b.SideType=b.DirectionType=b.LabelOverLengthMode=b.LabelBackShape=b.AlongLineDirection=b.FillGradientMode=b.TextAlignment=b.ColorGradientType=b.ThemeType=b.RangeMode=b.GraduatedMode=b.GraphAxesTextDisplayMode=b.ThemeGraphType=b.ThemeGraphTextFormat=b.EngineType=b.BufferRadiusUnit=b.Unit=b.MeasureMode=b.SpatialRelationType=b.SpatialQueryMode=b.JoinType=b.QueryOption=b.GeometryType=b.ServerType=b.DataFormat=void 0;var d=c(0),e=d.SuperMap.DataFormat={GEOJSON:"GEOJSON",ISERVER:"ISERVER"};b.DataFormat=e;var f=d.SuperMap.ServerType={ISERVER:"ISERVER",IPORTAL:"IPORTAL",ONLINE:"ONLINE"};b.ServerType=f;var g=d.SuperMap.GeometryType={LINE:"LINE",LINEM:"LINEM",POINT:"POINT",REGION:"REGION",POINTEPS:"POINTEPS",LINEEPS:"LINEEPS",REGIONEPS:"REGIONEPS",ELLIPSE:"ELLIPSE",CIRCLE:"CIRCLE",TEXT:"TEXT",RECTANGLE:"RECTANGLE",UNKNOWN:"UNKNOWN"};b.GeometryType=g;var h=d.SuperMap.QueryOption={ATTRIBUTE:"ATTRIBUTE",ATTRIBUTEANDGEOMETRY:"ATTRIBUTEANDGEOMETRY",GEOMETRY:"GEOMETRY"};b.QueryOption=h;var i=d.SuperMap.JoinType={INNERJOIN:"INNERJOIN",LEFTJOIN:"LEFTJOIN"};b.JoinType=i;var j=d.SuperMap.SpatialQueryMode={CONTAIN:"CONTAIN",CROSS:"CROSS",DISJOINT:"DISJOINT",IDENTITY:"IDENTITY",INTERSECT:"INTERSECT",NONE:"NONE",OVERLAP:"OVERLAP",TOUCH:"TOUCH",WITHIN:"WITHIN"};b.SpatialQueryMode=j;var k=d.SuperMap.SpatialRelationType={CONTAIN:"CONTAIN",INTERSECT:"INTERSECT",WITHIN:"WITHIN"};b.SpatialRelationType=k;var l=d.SuperMap.MeasureMode={DISTANCE:"DISTANCE",AREA:"AREA"};b.MeasureMode=l;var m=d.SuperMap.Unit={METER:"METER",KILOMETER:"KILOMETER",MILE:"MILE",YARD:"YARD",DEGREE:"DEGREE",MILLIMETER:"MILLIMETER",CENTIMETER:"CENTIMETER",INCH:"INCH",DECIMETER:"DECIMETER",FOOT:"FOOT",SECOND:"SECOND",MINUTE:"MINUTE",RADIAN:"RADIAN"};b.Unit=m;var n=d.SuperMap.BufferRadiusUnit={CENTIMETER:"CENTIMETER",DECIMETER:"DECIMETER",FOOT:"FOOT",INCH:"INCH",KILOMETER:"KILOMETER",METER:"METER",MILE:"MILE",MILLIMETER:"MILLIMETER",YARD:"YARD"};b.BufferRadiusUnit=n;var o=d.SuperMap.EngineType={IMAGEPLUGINS:"IMAGEPLUGINS",OGC:"OGC",ORACLEPLUS:"ORACLEPLUS",SDBPLUS:"SDBPLUS",SQLPLUS:"SQLPLUS",UDB:"UDB"};b.EngineType=o;var p=d.SuperMap.ThemeGraphTextFormat={CAPTION:"CAPTION",CAPTION_PERCENT:"CAPTION_PERCENT",CAPTION_VALUE:"CAPTION_VALUE",PERCENT:"PERCENT",VALUE:"VALUE"};b.ThemeGraphTextFormat=p;var q=d.SuperMap.ThemeGraphType={AREA:"AREA",BAR:"BAR",BAR3D:"BAR3D",LINE:"LINE",PIE:"PIE",PIE3D:"PIE3D",POINT:"POINT",RING:"RING",ROSE:"ROSE",ROSE3D:"ROSE3D",STACK_BAR:"STACK_BAR",STACK_BAR3D:"STACK_BAR3D",STEP:"STEP"};b.ThemeGraphType=q;var r=d.SuperMap.GraphAxesTextDisplayMode={ALL:"ALL",NONE:"NONE",YAXES:"YAXES"};b.GraphAxesTextDisplayMode=r;var s=d.SuperMap.GraduatedMode={CONSTANT:"CONSTANT",LOGARITHM:"LOGARITHM",SQUAREROOT:"SQUAREROOT"};b.GraduatedMode=s;var t=d.SuperMap.RangeMode={CUSTOMINTERVAL:"CUSTOMINTERVAL",EQUALINTERVAL:"EQUALINTERVAL",LOGARITHM:"LOGARITHM",QUANTILE:"QUANTILE",SQUAREROOT:"SQUAREROOT",STDDEVIATION:"STDDEVIATION"};b.RangeMode=t;var u=d.SuperMap.ThemeType={DOTDENSITY:"DOTDENSITY",GRADUATEDSYMBOL:"GRADUATEDSYMBOL",GRAPH:"GRAPH",LABEL:"LABEL",RANGE:"RANGE",UNIQUE:"UNIQUE"};b.ThemeType=u;var v=d.SuperMap.ColorGradientType={BLACK_WHITE:"BLACKWHITE",BLUE_BLACK:"BLUEBLACK",BLUE_RED:"BLUERED",BLUE_WHITE:"BLUEWHITE",CYAN_BLACK:"CYANBLACK",CYAN_BLUE:"CYANBLUE",CYAN_GREEN:"CYANGREEN",CYAN_WHITE:"CYANWHITE",GREEN_BLACK:"GREENBLACK",GREEN_BLUE:"GREENBLUE",GREEN_ORANGE_VIOLET:"GREENORANGEVIOLET",GREEN_RED:"GREENRED",GREEN_WHITE:"GREENWHITE",PINK_BLACK:"PINKBLACK",PINK_BLUE:"PINKBLUE",PINK_RED:"PINKRED",PINK_WHITE:"PINKWHITE",RAIN_BOW:"RAINBOW",RED_BLACK:"REDBLACK",RED_WHITE:"REDWHITE",SPECTRUM:"SPECTRUM",TERRAIN:"TERRAIN",YELLOW_BLACK:"YELLOWBLACK",YELLOW_BLUE:"YELLOWBLUE",YELLOW_GREEN:"YELLOWGREEN",YELLOW_RED:"YELLOWRED",YELLOW_WHITE:"YELLOWWHITE"};b.ColorGradientType=v;var w=d.SuperMap.TextAlignment={TOPLEFT:"TOPLEFT",TOPCENTER:"TOPCENTER",TOPRIGHT:"TOPRIGHT",BASELINELEFT:"BASELINELEFT",BASELINECENTER:"BASELINECENTER",BASELINERIGHT:"BASELINERIGHT",BOTTOMLEFT:"BOTTOMLEFT",BOTTOMCENTER:"BOTTOMCENTER",BOTTOMRIGHT:"BOTTOMRIGHT",MIDDLELEFT:"MIDDLELEFT",MIDDLECENTER:"MIDDLECENTER",MIDDLERIGHT:"MIDDLERIGHT"};b.TextAlignment=w;var x=d.SuperMap.FillGradientMode={NONE:"NONE",LINEAR:"LINEAR",RADIAL:"RADIAL",CONICAL:"CONICAL",SQUARE:"SQUARE"};b.FillGradientMode=x;var y=d.SuperMap.AlongLineDirection={NORMAL:"ALONG_LINE_NORMAL",LB_TO_RT:"LEFT_BOTTOM_TO_RIGHT_TOP",LT_TO_RB:"LEFT_TOP_TO_RIGHT_BOTTOM",RB_TO_LT:"RIGHT_BOTTOM_TO_LEFT_TOP",RT_TO_LB:"RIGHT_TOP_TO_LEFT_BOTTOM"};b.AlongLineDirection=y;var z=d.SuperMap.LabelBackShape={DIAMOND:"DIAMOND",ELLIPSE:"ELLIPSE",MARKER:"MARKER",NONE:"NONE",RECT:"RECT",ROUNDRECT:"ROUNDRECT",TRIANGLE:"TRIANGLE"};b.LabelBackShape=z;var A=d.SuperMap.LabelOverLengthMode={NEWLINE:"NEWLINE",NONE:"NONE",OMIT:"OMIT"};b.LabelOverLengthMode=A;var B=d.SuperMap.DirectionType={EAST:"EAST",NONE:"NONE",NORTH:"NORTH",SOURTH:"SOURTH",WEST:"WEST"};b.DirectionType=B;var C=d.SuperMap.SideType={LEFT:"LEFT",MIDDLE:"MIDDLE",NONE:"NONE",RIGHT:"RIGHT"};b.SideType=C;var D=d.SuperMap.SupplyCenterType={FIXEDCENTER:"FIXEDCENTER",NULL:"NULL",OPTIONALCENTER:"OPTIONALCENTER"};b.SupplyCenterType=D;var E=d.SuperMap.TurnType={AHEAD:"AHEAD",BACK:"BACK",END:"END",LEFT:"LEFT",NONE:"NONE",RIGHT:"RIGHT"};b.TurnType=E;var F=d.SuperMap.BufferEndType={FLAT:"FLAT",ROUND:"ROUND"};b.BufferEndType=F;var G=d.SuperMap.OverlayOperationType={CLIP:"CLIP",ERASE:"ERASE",IDENTITY:"IDENTITY",INTERSECT:"INTERSECT",UNION:"UNION",UPDATE:"UPDATE",XOR:"XOR"};b.OverlayOperationType=G;var H=d.SuperMap.OutputType={INDEXEDHDFS:"INDEXEDHDFS",UDB:"UDB",MONGODB:"MONGODB",PG:"PG"};b.OutputType=H;var I=d.SuperMap.SmoothMethod={BSPLINE:"BSPLINE",POLISH:"POLISH"};b.SmoothMethod=I;var J=d.SuperMap.SurfaceAnalystMethod={ISOLINE:"ISOLINE",ISOREGION:"ISOREGION"};b.SurfaceAnalystMethod=J;var K=d.SuperMap.DataReturnMode={DATASET_AND_RECORDSET:"DATASET_AND_RECORDSET",DATASET_ONLY:"DATASET_ONLY",RECORDSET_ONLY:"RECORDSET_ONLY"};b.DataReturnMode=K;var L=d.SuperMap.EditType={ADD:"add",UPDATE:"update",DELETE:"delete"};b.EditType=L;var M=d.SuperMap.TransferTactic={LESS_TIME:"LESS_TIME",LESS_TRANSFER:"LESS_TRANSFER",LESS_WALK:"LESS_WALK",MIN_DISTANCE:"MIN_DISTANCE"};b.TransferTactic=M;var N=d.SuperMap.TransferPreference={BUS:"BUS",SUBWAY:"SUBWAY",NO_SUBWAY:"NO_SUBWAY",NONE:"NONE"};b.TransferPreference=N;var O=d.SuperMap.GridType={CROSS:"CROSS",GRID:"GRID",POINT:"POINT"};b.GridType=O;var P=d.SuperMap.ColorSpaceType={CMYK:"CMYK",RGB:"RGB"};b.ColorSpaceType=P;var Q=d.SuperMap.LayerType={UGC:"UGC",WMS:"WMS",WFS:"WFS",CUSTOM:"CUSTOM"};b.LayerType=Q;var R=d.SuperMap.UGCLayerType={THEME:"THEME",VECTOR:"VECTOR",GRID:"GRID",IMAGE:"IMAGE"};b.UGCLayerType=R;var S=d.SuperMap.StatisticMode={AVERAGE:"AVERAGE",MAX:"MAX",MIN:"MIN",STDDEVIATION:"STDDEVIATION",SUM:"SUM",VARIANCE:"VARIANCE"};b.StatisticMode=S;var T=d.SuperMap.PixelFormat={BIT16:"BIT16",BIT32:"BIT32",BIT64:"BIT64",SINGLE:"SINGLE",DOUBLE:"DOUBLE",UBIT1:"UBIT1",UBIT4:"UBIT4",UBIT8:"UBIT8",UBIT24:"UBIT24",UBIT32:"UBIT32"};b.PixelFormat=T;var U=d.SuperMap.SearchMode={KDTREE_FIXED_COUNT:"KDTREE_FIXED_COUNT",KDTREE_FIXED_RADIUS:"KDTREE_FIXED_RADIUS",NONE:"NONE",QUADTREE:"QUADTREE"};b.SearchMode=U;var V=d.SuperMap.InterpolationAlgorithmType={KRIGING:"KRIGING",SimpleKriging:"SimpleKriging",UniversalKriging:"UniversalKriging"};b.InterpolationAlgorithmType=V;var W=d.SuperMap.VariogramMode={EXPONENTIAL:"EXPONENTIAL",GAUSSIAN:"GAUSSIAN",SPHERICAL:"SPHERICAL"};b.VariogramMode=W;var X=d.SuperMap.Exponent={EXP1:"EXP1",EXP2:"EXP2"};b.Exponent=X;var Y=d.SuperMap.ClientType={IP:"IP",REFERER:"Referer",REQUESTIP:"RequestIP",NONE:"NONE",SERVER:"SERVER",WEB:"WEB"};b.ClientType=Y;var Z=d.SuperMap.ChartType={BAR:"Bar",BAR3D:"Bar3D",CIRCLE:"Circle",PIE:"Pie",POINT:"Point",LINE:"Line",RING:"Ring"};b.ChartType=Z;var $=d.SuperMap.ClipAnalystMode={CLIP:"clip",INTERSECT:"intersect"};b.ClipAnalystMode=$;var _=d.SuperMap.AnalystAreaUnit={SQUAREMETER:"SquareMeter",SQUAREKILOMETER:"SquareKiloMeter",HECTARE:"Hectare",ARE:"Are",ACRE:"Acre",SQUAREFOOT:"SquareFoot",SQUAREYARD:"SquareYard",SQUAREMILE:"SquareMile"};b.AnalystAreaUnit=_;var aa=d.SuperMap.AnalystSizeUnit={METER:"Meter",KILOMETER:"Kilometer",YARD:"Yard",FOOT:"Foot",MILE:"Mile"};b.AnalystSizeUnit=aa;var ba=d.SuperMap.StatisticAnalystMode={MAX:"max",MIN:"min",AVERAGE:"average",SUM:"sum",VARIANCE:"variance",STDDEVIATION:"stdDeviation"};b.StatisticAnalystMode=ba;var ca=d.SuperMap.SummaryType={SUMMARYMESH:"SUMMARYMESH",SUMMARYREGION:"SUMMARYREGION"};b.SummaryType=ca;var da=d.SuperMap.TopologyValidatorRule={REGIONNOOVERLAP:"REGIONNOOVERLAP",REGIONNOOVERLAPWITH:"REGIONNOOVERLAPWITH",REGIONCONTAINEDBYREGION:"REGIONCONTAINEDBYREGION",REGIONCOVEREDBYREGION:"REGIONCOVEREDBYREGION",LINENOOVERLAP:"LINENOOVERLAP",LINENOOVERLAPWITH:"LINENOOVERLAPWITH",POINTNOIDENTICAL:"POINTNOIDENTICAL"};b.TopologyValidatorRule=da;var ea=d.SuperMap.AggregationType={GEOHASH_GRID:"geohash_grid",FILTER:"filter"};b.AggregationType=ea;var fa=d.SuperMap.AggregationQueryBuilderType={GEO_BOUNDING_BOX:"geo_bounding_box"};b.AggregationQueryBuilderType=fa;var ga=d.SuperMap.GetFeatureMode={BOUNDS:"BOUNDS",BUFFER:"BUFFER",ID:"ID",SPATIAL:"SPATIAL",SQL:"SQL"};b.GetFeatureMode=ga},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.zh=b.en=b.Lang=b.ElasticSearch=b.ThemeStyle=b.CartoCSS=b.TokenServiceParameter=b.ServerInfo=b.SecurityManager=b.KeyServiceParameter=b.SUtil=b.LevelRendererVector=b.Util=b.Transformable=b.Storage=b.SmicText=b.SmicStar=b.SmicSector=void 0,b.SmicRing=b.SmicRectangle=b.SmicPolygon=b.SmicPoint=b.SmicIsogon=b.SmicImage=b.SmicEllipse=b.SmicCircle=b.SmicBrokenLine=b.Shape=b.PaintLayer=b.Painter=b.Matrix=b.Math=b.Log=b.Http=b.Handler=b.Group=b.Eventful=b.LevelRendererEvent=b.Env=b.Easing=b.LevelRendererCurve=b.Config=b.ComputeBoundingBox=b.Color=b.Clip=b.Area=b.Animator=b.Animation=b.Render=b.LevelRenderer=b.FeatureTheme=b.Sector=b.FeatureRectangle=b.FeaturePolygon=b.Point=b.FeatureLine=b.Label=b.Image=b.FeatureCircle=b.ShapeParameters=b.ShapeFactory=b.ThemeVector=b.Ring=b.RankSymbol=b.OverlayPoint=b.Pie=b.Line=b.Graph=b.Circle=b.Bar3D=b.Bar=b.OnlineServiceBase=b.FilterField=b.DataItemOrderBy=b.DataItemType=b.ServiceStatus=b.OnlineQueryDatasParameter=b.OnlineData=b.Online=b.VectorClipJobsService=b.VectorClipJobsParameter=b.Vector=b.UpdateTurnNodeWeightService=b.UpdateTurnNodeWeightParameters=b.UpdateEdgeWeightService=b.UpdateEdgeWeightParameters=b.UGCSubLayer=b.UGCMapLayer=b.UGCLayer=b.TransferSolutionParameters=b.TransportationAnalystResultSetting=b.TransportationAnalystParameter=b.TransferSolutionService=b.TransferPathService=b.TransferPathParameters=b.TransferLine=b.TopologyValidatorJobsService=b.TopologyValidatorJobsParameter=b.TilesetsService=b.GeometryBatchAnalystService=b.ThiessenAnalystService=b.ThiessenAnalystParameters=b.ThemeUniqueItem=b.ThemeUnique=b.ThemeService=b.ThemeRangeItem=b.ThemeRange=b.ThemeParameters=b.ThemeOffset=b.ThemeMemoryData=b.ThemeLabelUniqueItem=b.ThemeLabelText=b.ThemeLabelItem=b.ThemeLabelBackground=b.ThemeLabelAlongLine=b.ThemeLabel=b.ThemeGridUniqueItem=b.ThemeGridUnique=void 0,b.ThemeGridRangeItem=b.ThemeGridRange=b.ThemeGraphText=b.ThemeGraphSize=b.ThemeGraphItem=b.ThemeGraphAxes=b.ThemeGraph=b.ThemeGraduatedSymbolStyle=b.ThemeGraduatedSymbol=b.ThemeFlow=b.ThemeDotDensity=b.Theme=b.TerrainCurvatureCalculationService=b.TerrainCurvatureCalculationParameters=b.SurfaceAnalystService=b.SurfaceAnalystParametersSetting=b.SurfaceAnalystParameters=b.SupplyCenter=b.SummaryRegionJobsService=b.SummaryRegionJobParameter=b.SummaryMeshJobsService=b.SummaryMeshJobParameter=b.SummaryAttributesJobsService=b.SummaryAttributesJobsParameter=b.StopQueryService=b.StopQueryParameters=b.SpatialAnalystBase=b.SingleObjectQueryJobsService=b.SingleObjectQueryJobsParameter=b.SetLayerStatusService=b.SetLayerStatusParameters=b.SetLayersInfoService=b.SetLayersInfoParameters=b.SetLayerInfoService=b.SetLayerInfoParameters=b.ServerTheme=b.ServerTextStyle=b.ServerStyle=b.ServerGeometry=b.ServerFeature=b.ServerColor=b.RouteLocatorService=b.RouteLocatorParameters=b.RouteCalculateMeasureService=b.RouteCalculateMeasureParameters=b.Route=b.QueryService=b.QueryParameters=b.QueryBySQLService=b.QueryBySQLParameters=b.QueryByGeometryService=b.QueryByGeometryParameters=b.QueryByDistanceService=b.QueryByDistanceParameters=b.QueryByBoundsService=b.QueryByBoundsParameters=b.ProcessingServiceBase=b.PointWithMeasure=b.OverlayGeoJobsService=b.OverlayGeoJobParameter=b.OverlayAnalystService=b.OverlayAnalystParameters=b.OverlapDisplayedOptions=b.MappingParameters=b.OutputSetting=b.NetworkAnalystServiceBase=b.MeasureService=b.MeasureParameters=b.MathExpressionAnalysisService=b.MathExpressionAnalysisParameters=b.MapService=b.LinkItem=b.LayerStatus=b.LabelThemeCell=b.LabelSymbolCell=b.LabelMixedTextStyle=b.LabelMatrixCell=b.LabelImageCell=b.KernelDensityJobsService=b.KernelDensityJobParameter=b.JoinItem=b.InterpolationRBFAnalystParameters=b.InterpolationKrigingAnalystParameters=b.InterpolationIDWAnalystParameters=b.InterpolationAnalystService=b.InterpolationAnalystParameters=b.UGCImage=b.Grid=b.GetLayersInfoService=b.GetGridCellInfosService=b.GetGridCellInfosParameters=b.GetFieldsService=b.GetFeaturesServiceBase=b.GetFeaturesParametersBase=b.GetFeaturesBySQLService=b.GetFeaturesBySQLParameters=b.GetFeaturesByIDsService=b.GetFeaturesByIDsParameters=b.GetFeaturesByGeometryService=b.GetFeaturesByGeometryParameters=void 0,b.GetFeaturesByBufferService=b.GetFeaturesByBufferParameters=b.GetFeaturesByBoundsService=b.GetFeaturesByBoundsParameters=b.GeoRelationAnalystService=b.GeoRelationAnalystParameters=b.GeometryThiessenAnalystParameters=b.GeometrySurfaceAnalystParameters=b.GeometryOverlayAnalystParameters=b.GeometryBufferAnalystParameters=b.GeoHashGridAggParameter=b.GeoDecodingParameter=b.GeoCodingParameter=b.GeoBoundingBoxQueryBuilderParameter=b.GenerateSpatialDataService=b.GenerateSpatialDataParameters=b.FindTSPPathsService=b.FindTSPPathsParameters=b.FindServiceAreasService=b.FindServiceAreasParameters=b.FindPathService=b.FindPathParameters=b.FindMTSPPathsService=b.FindMTSPPathsParameters=b.FindLocationService=b.FindLocationParameters=b.FindClosestFacilitiesService=b.FindClosestFacilitiesParameters=b.FilterParameter=b.FilterAggParameter=b.FieldStatisticsParameters=b.FieldStatisticService=b.FieldParameters=b.FacilityAnalystUpstream3DService=b.FacilityAnalystUpstream3DParameters=b.FacilityAnalystTraceup3DService=b.FacilityAnalystTraceup3DParameters=b.FacilityAnalystTracedown3DService=b.FacilityAnalystTracedown3DParameters=b.FacilityAnalystStreamService=b.FacilityAnalystStreamParameters=b.FacilityAnalystSources3DService=b.FacilityAnalystSources3DParameters=b.FacilityAnalystSinks3DService=b.FacilityAnalystSinks3DParameters=b.FacilityAnalyst3DParameters=b.EditFeaturesService=b.EditFeaturesParameters=b.DensityKernelAnalystParameters=b.DensityAnalystService=b.DatasourceConnectionInfo=b.DatasetThiessenAnalystParameters=b.DatasetSurfaceAnalystParameters=b.DatasetOverlayAnalystParameters=b.DatasetInfo=b.DatasetBufferAnalystParameters=b.DataReturnOption=b.DataFlowService=b.ComputeWeightMatrixService=b.ComputeWeightMatrixParameters=b.CommonServiceBase=b.ColorDictionary=b.ClipParameter=b.ChartQueryService=b.ChartQueryParameters=b.ChartQueryFilterParameter=b.ChartFeatureInfoSpecsService=b.BurstPipelineAnalystService=b.BurstPipelineAnalystParameters=b.BuffersAnalystJobsService=b.BuffersAnalystJobsParameter=b.BufferSetting=b.BufferDistance=b.BufferAnalystService=b.BufferAnalystParameters=b.AreaSolarRadiationService=b.AreaSolarRadiationParameters=b.AggQueryBuilderParameter=b.AggregationParameter=b.AddressMatchService=b.IPortalServicesQueryParam=b.IPortalServiceBase=b.IPortalService=b.IPortalMapsQueryParam=b.IPortalMap=b.IPortal=b.IManagerServiceBase=b.IManagerCreateNodeParam=b.IManager=b.FetchRequest=b.getRequestTimeout=b.setRequestTimeout=b.isCORS=b.setCORS=b.WKT=b.JSONFormat=b.GeoJSON=b.Format=b.TimeFlowControl=b.TimeControlBase=void 0,
b.GeometryVector=b.CommonUtil=b.Size=b.Pixel=b.LonLat=b.Geometry=b.Feature=b.Events=b.Event=b.DateExt=b.Credential=b.Bounds=b.ArrayExt=b.FunctionExt=b.NumberExt=b.StringExt=b.Rectangle=b.Polygon=b.GeometryPoint=b.MultiPolygon=b.MultiPoint=b.MultiLineString=b.LineString=b.LinearRing=b.GeoText=b.Curve=b.Collection=b.GetFeatureMode=b.AggregationType=b.AggregationQueryBuilderType=b.OutputType=b.TopologyValidatorRule=b.StatisticAnalystMode=b.AnalystSizeUnit=b.AnalystAreaUnit=b.ClipAnalystMode=b.Exponent=b.VariogramMode=b.InterpolationAlgorithmType=b.SummaryType=b.SearchMode=b.PixelFormat=b.StatisticMode=b.UGCLayerType=b.LayerType=b.ClientType=b.GridType=b.TransferPreference=b.TransferTactic=b.EditType=b.ChartType=b.ColorSpaceType=b.SurfaceAnalystMethod=b.SmoothMethod=b.BufferEndType=b.TurnType=b.SupplyCenterType=b.OverlayOperationType=b.DirectionType=b.LabelOverLengthMode=b.LabelBackShape=b.AlongLineDirection=b.SideType=b.FillGradientMode=b.TextAlignment=b.ColorGradientType=b.ThemeType=b.RangeMode=b.GraduatedMode=b.GraphAxesTextDisplayMode=b.ThemeGraphType=b.ThemeGraphTextFormat=b.SpatialQueryMode=b.BufferRadiusUnit=b.Unit=b.DataReturnMode=b.SpatialRelationType=b.MeasureMode=b.EngineType=b.JoinType=b.QueryOption=b.GeometryType=b.ServerType=b.DataFormat=b.SuperMap=b.FileReaderUtil=b.widgetsUtil=b.PaginationContainer=b.NavTabsPage=b.CityTabsPage=b.IndexTabsPageContainer=b.PopContainer=b.AttributesPopContainer=b.Select=b.DropDownBox=b.CommonContainer=b.MessageBox=b.FileModel=b.FileConfig=b.FileTypes=void 0;var d=c(0),e=c(4),f=c(572),g=c(569),h=c(567),i=c(565),j=c(556),k=c(554),l=c(479),m=c(476),n=c(472),o=c(468),p=c(467),q=c(463),r=c(447),s=c(433);b.FileTypes=r.FileTypes,b.FileConfig=r.FileConfig,b.FileModel=r.FileModel,b.MessageBox=r.MessageBox,b.CommonContainer=r.CommonContainer,b.DropDownBox=r.DropDownBox,b.Select=r.Select,b.AttributesPopContainer=r.AttributesPopContainer,b.PopContainer=r.PopContainer,b.IndexTabsPageContainer=r.IndexTabsPageContainer,b.CityTabsPage=r.CityTabsPage,b.NavTabsPage=r.NavTabsPage,b.PaginationContainer=r.PaginationContainer,b.widgetsUtil=r.widgetsUtil,b.FileReaderUtil=r.FileReaderUtil,b.SuperMap=d.SuperMap,b.DataFormat=e.DataFormat,b.ServerType=e.ServerType,b.GeometryType=e.GeometryType,b.QueryOption=e.QueryOption,b.JoinType=e.JoinType,b.EngineType=e.EngineType,b.MeasureMode=e.MeasureMode,b.SpatialRelationType=e.SpatialRelationType,b.DataReturnMode=e.DataReturnMode,b.Unit=e.Unit,b.BufferRadiusUnit=e.BufferRadiusUnit,b.SpatialQueryMode=e.SpatialQueryMode,b.ThemeGraphTextFormat=e.ThemeGraphTextFormat,b.ThemeGraphType=e.ThemeGraphType,b.GraphAxesTextDisplayMode=e.GraphAxesTextDisplayMode,b.GraduatedMode=e.GraduatedMode,b.RangeMode=e.RangeMode,b.ThemeType=e.ThemeType,b.ColorGradientType=e.ColorGradientType,b.TextAlignment=e.TextAlignment,b.FillGradientMode=e.FillGradientMode,b.SideType=e.SideType,b.AlongLineDirection=e.AlongLineDirection,b.LabelBackShape=e.LabelBackShape,b.LabelOverLengthMode=e.LabelOverLengthMode,b.DirectionType=e.DirectionType,b.OverlayOperationType=e.OverlayOperationType,b.SupplyCenterType=e.SupplyCenterType,b.TurnType=e.TurnType,b.BufferEndType=e.BufferEndType,b.SmoothMethod=e.SmoothMethod,b.SurfaceAnalystMethod=e.SurfaceAnalystMethod,b.ColorSpaceType=e.ColorSpaceType,b.ChartType=e.ChartType,b.EditType=e.EditType,b.TransferTactic=e.TransferTactic,b.TransferPreference=e.TransferPreference,b.GridType=e.GridType,b.ClientType=e.ClientType,b.LayerType=e.LayerType,b.UGCLayerType=e.UGCLayerType,b.StatisticMode=e.StatisticMode,b.PixelFormat=e.PixelFormat,b.SearchMode=e.SearchMode,b.SummaryType=e.SummaryType,b.InterpolationAlgorithmType=e.InterpolationAlgorithmType,b.VariogramMode=e.VariogramMode,b.Exponent=e.Exponent,b.ClipAnalystMode=e.ClipAnalystMode,b.AnalystAreaUnit=e.AnalystAreaUnit,b.AnalystSizeUnit=e.AnalystSizeUnit,b.StatisticAnalystMode=e.StatisticAnalystMode,b.TopologyValidatorRule=e.TopologyValidatorRule,b.OutputType=e.OutputType,b.AggregationQueryBuilderType=e.AggregationQueryBuilderType,b.AggregationType=e.AggregationType,b.GetFeatureMode=e.GetFeatureMode,b.Collection=f.Collection,b.Curve=f.Curve,b.GeoText=f.GeoText,b.LinearRing=f.LinearRing,b.LineString=f.LineString,b.MultiLineString=f.MultiLineString,b.MultiPoint=f.MultiPoint,b.MultiPolygon=f.MultiPolygon,b.GeometryPoint=f.GeometryPoint,b.Polygon=f.Polygon,b.Rectangle=f.Rectangle,b.StringExt=f.StringExt,b.NumberExt=f.NumberExt,b.FunctionExt=f.FunctionExt,b.ArrayExt=f.ArrayExt,b.Bounds=f.Bounds,b.Credential=f.Credential,b.DateExt=f.DateExt,b.Event=f.Event,b.Events=f.Events,b.Feature=f.Feature,b.Geometry=f.Geometry,b.LonLat=f.LonLat,b.Pixel=f.Pixel,b.Size=f.Size,b.CommonUtil=f.CommonUtil,b.GeometryVector=f.GeometryVector,b.TimeControlBase=h.TimeControlBase,b.TimeFlowControl=h.TimeFlowControl,b.Format=g.Format,b.GeoJSON=g.GeoJSON,b.JSONFormat=g.JSONFormat,b.WKT=g.WKT,b.setCORS=o.setCORS,b.isCORS=o.isCORS,b.setRequestTimeout=o.setRequestTimeout,b.getRequestTimeout=o.getRequestTimeout,b.FetchRequest=o.FetchRequest,b.IManager=i.IManager,b.IManagerCreateNodeParam=i.IManagerCreateNodeParam,b.IManagerServiceBase=i.IManagerServiceBase,b.IPortal=j.IPortal,b.IPortalMap=j.IPortalMap,b.IPortalMapsQueryParam=j.IPortalMapsQueryParam,b.IPortalService=j.IPortalService,b.IPortalServiceBase=j.IPortalServiceBase,b.IPortalServicesQueryParam=j.IPortalServicesQueryParam,b.AddressMatchService=k.AddressMatchService,b.AggregationParameter=k.AggregationParameter,b.AggQueryBuilderParameter=k.AggQueryBuilderParameter,b.AreaSolarRadiationParameters=k.AreaSolarRadiationParameters,b.AreaSolarRadiationService=k.AreaSolarRadiationService,b.BufferAnalystParameters=k.BufferAnalystParameters,b.BufferAnalystService=k.BufferAnalystService,b.BufferDistance=k.BufferDistance,b.BufferSetting=k.BufferSetting,b.BuffersAnalystJobsParameter=k.BuffersAnalystJobsParameter,b.BuffersAnalystJobsService=k.BuffersAnalystJobsService,b.BurstPipelineAnalystParameters=k.BurstPipelineAnalystParameters,b.BurstPipelineAnalystService=k.BurstPipelineAnalystService,b.ChartFeatureInfoSpecsService=k.ChartFeatureInfoSpecsService,b.ChartQueryFilterParameter=k.ChartQueryFilterParameter,b.ChartQueryParameters=k.ChartQueryParameters,b.ChartQueryService=k.ChartQueryService,b.ClipParameter=k.ClipParameter,b.ColorDictionary=k.ColorDictionary,b.CommonServiceBase=k.CommonServiceBase,b.ComputeWeightMatrixParameters=k.ComputeWeightMatrixParameters,b.ComputeWeightMatrixService=k.ComputeWeightMatrixService,b.DataFlowService=k.DataFlowService,b.DataReturnOption=k.DataReturnOption,b.DatasetBufferAnalystParameters=k.DatasetBufferAnalystParameters,b.DatasetInfo=k.DatasetInfo,b.DatasetOverlayAnalystParameters=k.DatasetOverlayAnalystParameters,b.DatasetSurfaceAnalystParameters=k.DatasetSurfaceAnalystParameters,b.DatasetThiessenAnalystParameters=k.DatasetThiessenAnalystParameters,b.DatasourceConnectionInfo=k.DatasourceConnectionInfo,b.DensityAnalystService=k.DensityAnalystService,b.DensityKernelAnalystParameters=k.DensityKernelAnalystParameters,b.EditFeaturesParameters=k.EditFeaturesParameters,b.EditFeaturesService=k.EditFeaturesService,b.FacilityAnalyst3DParameters=k.FacilityAnalyst3DParameters,b.FacilityAnalystSinks3DParameters=k.FacilityAnalystSinks3DParameters,b.FacilityAnalystSinks3DService=k.FacilityAnalystSinks3DService,b.FacilityAnalystSources3DParameters=k.FacilityAnalystSources3DParameters,b.FacilityAnalystSources3DService=k.FacilityAnalystSources3DService,b.FacilityAnalystStreamParameters=k.FacilityAnalystStreamParameters,b.FacilityAnalystStreamService=k.FacilityAnalystStreamService,b.FacilityAnalystTracedown3DParameters=k.FacilityAnalystTracedown3DParameters,b.FacilityAnalystTracedown3DService=k.FacilityAnalystTracedown3DService,b.FacilityAnalystTraceup3DParameters=k.FacilityAnalystTraceup3DParameters,b.FacilityAnalystTraceup3DService=k.FacilityAnalystTraceup3DService,b.FacilityAnalystUpstream3DParameters=k.FacilityAnalystUpstream3DParameters,b.FacilityAnalystUpstream3DService=k.FacilityAnalystUpstream3DService,b.FieldParameters=k.FieldParameters,b.FieldStatisticService=k.FieldStatisticService,b.FieldStatisticsParameters=k.FieldStatisticsParameters,b.FilterAggParameter=k.FilterAggParameter,b.FilterParameter=k.FilterParameter,b.FindClosestFacilitiesParameters=k.FindClosestFacilitiesParameters,b.FindClosestFacilitiesService=k.FindClosestFacilitiesService,b.FindLocationParameters=k.FindLocationParameters,b.FindLocationService=k.FindLocationService,b.FindMTSPPathsParameters=k.FindMTSPPathsParameters,b.FindMTSPPathsService=k.FindMTSPPathsService,b.FindPathParameters=k.FindPathParameters,b.FindPathService=k.FindPathService,b.FindServiceAreasParameters=k.FindServiceAreasParameters,b.FindServiceAreasService=k.FindServiceAreasService,b.FindTSPPathsParameters=k.FindTSPPathsParameters,b.FindTSPPathsService=k.FindTSPPathsService,b.GenerateSpatialDataParameters=k.GenerateSpatialDataParameters,b.GenerateSpatialDataService=k.GenerateSpatialDataService,b.GeoBoundingBoxQueryBuilderParameter=k.GeoBoundingBoxQueryBuilderParameter,b.GeoCodingParameter=k.GeoCodingParameter,b.GeoDecodingParameter=k.GeoDecodingParameter,b.GeoHashGridAggParameter=k.GeoHashGridAggParameter,b.GeometryBufferAnalystParameters=k.GeometryBufferAnalystParameters,b.GeometryOverlayAnalystParameters=k.GeometryOverlayAnalystParameters,b.GeometrySurfaceAnalystParameters=k.GeometrySurfaceAnalystParameters,b.GeometryThiessenAnalystParameters=k.GeometryThiessenAnalystParameters,b.GeoRelationAnalystParameters=k.GeoRelationAnalystParameters,b.GeoRelationAnalystService=k.GeoRelationAnalystService,b.GetFeaturesByBoundsParameters=k.GetFeaturesByBoundsParameters,b.GetFeaturesByBoundsService=k.GetFeaturesByBoundsService,b.GetFeaturesByBufferParameters=k.GetFeaturesByBufferParameters,b.GetFeaturesByBufferService=k.GetFeaturesByBufferService,b.GetFeaturesByGeometryParameters=k.GetFeaturesByGeometryParameters,b.GetFeaturesByGeometryService=k.GetFeaturesByGeometryService,b.GetFeaturesByIDsParameters=k.GetFeaturesByIDsParameters,b.GetFeaturesByIDsService=k.GetFeaturesByIDsService,b.GetFeaturesBySQLParameters=k.GetFeaturesBySQLParameters,b.GetFeaturesBySQLService=k.GetFeaturesBySQLService,b.GetFeaturesParametersBase=k.GetFeaturesParametersBase,b.GetFeaturesServiceBase=k.GetFeaturesServiceBase,b.GetFieldsService=k.GetFieldsService,b.GetGridCellInfosParameters=k.GetGridCellInfosParameters,b.GetGridCellInfosService=k.GetGridCellInfosService,b.GetLayersInfoService=k.GetLayersInfoService,b.Grid=k.Grid,b.UGCImage=k.UGCImage,b.InterpolationAnalystParameters=k.InterpolationAnalystParameters,b.InterpolationAnalystService=k.InterpolationAnalystService,b.InterpolationIDWAnalystParameters=k.InterpolationIDWAnalystParameters,b.InterpolationKrigingAnalystParameters=k.InterpolationKrigingAnalystParameters,b.InterpolationRBFAnalystParameters=k.InterpolationRBFAnalystParameters,b.JoinItem=k.JoinItem,b.KernelDensityJobParameter=k.KernelDensityJobParameter,b.KernelDensityJobsService=k.KernelDensityJobsService,b.LabelImageCell=k.LabelImageCell,b.LabelMatrixCell=k.LabelMatrixCell,b.LabelMixedTextStyle=k.LabelMixedTextStyle,b.LabelSymbolCell=k.LabelSymbolCell,b.LabelThemeCell=k.LabelThemeCell,b.LayerStatus=k.LayerStatus,b.LinkItem=k.LinkItem,b.MapService=k.MapService,b.MathExpressionAnalysisParameters=k.MathExpressionAnalysisParameters,b.MathExpressionAnalysisService=k.MathExpressionAnalysisService,b.MeasureParameters=k.MeasureParameters,b.MeasureService=k.MeasureService,b.NetworkAnalystServiceBase=k.NetworkAnalystServiceBase,b.OutputSetting=k.OutputSetting,b.MappingParameters=k.MappingParameters,b.OverlapDisplayedOptions=k.OverlapDisplayedOptions,b.OverlayAnalystParameters=k.OverlayAnalystParameters,b.OverlayAnalystService=k.OverlayAnalystService,b.OverlayGeoJobParameter=k.OverlayGeoJobParameter,b.OverlayGeoJobsService=k.OverlayGeoJobsService,b.PointWithMeasure=k.PointWithMeasure,b.ProcessingServiceBase=k.ProcessingServiceBase,b.QueryByBoundsParameters=k.QueryByBoundsParameters,b.QueryByBoundsService=k.QueryByBoundsService,b.QueryByDistanceParameters=k.QueryByDistanceParameters,b.QueryByDistanceService=k.QueryByDistanceService,b.QueryByGeometryParameters=k.QueryByGeometryParameters,b.QueryByGeometryService=k.QueryByGeometryService,b.QueryBySQLParameters=k.QueryBySQLParameters,b.QueryBySQLService=k.QueryBySQLService,b.QueryParameters=k.QueryParameters,b.QueryService=k.QueryService,b.Route=k.Route,b.RouteCalculateMeasureParameters=k.RouteCalculateMeasureParameters,b.RouteCalculateMeasureService=k.RouteCalculateMeasureService,b.RouteLocatorParameters=k.RouteLocatorParameters,b.RouteLocatorService=k.RouteLocatorService,b.ServerColor=k.ServerColor,b.ServerFeature=k.ServerFeature,b.ServerGeometry=k.ServerGeometry,b.ServerStyle=k.ServerStyle,b.ServerTextStyle=k.ServerTextStyle,b.ServerTheme=k.ServerTheme,b.SetLayerInfoParameters=k.SetLayerInfoParameters,b.SetLayerInfoService=k.SetLayerInfoService,b.SetLayersInfoParameters=k.SetLayersInfoParameters,b.SetLayersInfoService=k.SetLayersInfoService,b.SetLayerStatusParameters=k.SetLayerStatusParameters,b.SetLayerStatusService=k.SetLayerStatusService,b.SingleObjectQueryJobsParameter=k.SingleObjectQueryJobsParameter,b.SingleObjectQueryJobsService=k.SingleObjectQueryJobsService,b.SpatialAnalystBase=k.SpatialAnalystBase,b.StopQueryParameters=k.StopQueryParameters,b.StopQueryService=k.StopQueryService,b.SummaryAttributesJobsParameter=k.SummaryAttributesJobsParameter,b.SummaryAttributesJobsService=k.SummaryAttributesJobsService,b.SummaryMeshJobParameter=k.SummaryMeshJobParameter,b.SummaryMeshJobsService=k.SummaryMeshJobsService,b.SummaryRegionJobParameter=k.SummaryRegionJobParameter,b.SummaryRegionJobsService=k.SummaryRegionJobsService,b.SupplyCenter=k.SupplyCenter,b.SurfaceAnalystParameters=k.SurfaceAnalystParameters,b.SurfaceAnalystParametersSetting=k.SurfaceAnalystParametersSetting,b.SurfaceAnalystService=k.SurfaceAnalystService,b.TerrainCurvatureCalculationParameters=k.TerrainCurvatureCalculationParameters,b.TerrainCurvatureCalculationService=k.TerrainCurvatureCalculationService,b.Theme=k.Theme,b.ThemeDotDensity=k.ThemeDotDensity,b.ThemeFlow=k.ThemeFlow,b.ThemeGraduatedSymbol=k.ThemeGraduatedSymbol,b.ThemeGraduatedSymbolStyle=k.ThemeGraduatedSymbolStyle,b.ThemeGraph=k.ThemeGraph,b.ThemeGraphAxes=k.ThemeGraphAxes,b.ThemeGraphItem=k.ThemeGraphItem,b.ThemeGraphSize=k.ThemeGraphSize,b.ThemeGraphText=k.ThemeGraphText,b.ThemeGridRange=k.ThemeGridRange,b.ThemeGridRangeItem=k.ThemeGridRangeItem,b.ThemeGridUnique=k.ThemeGridUnique,b.ThemeGridUniqueItem=k.ThemeGridUniqueItem,b.ThemeLabel=k.ThemeLabel,b.ThemeLabelAlongLine=k.ThemeLabelAlongLine,b.ThemeLabelBackground=k.ThemeLabelBackground,b.ThemeLabelItem=k.ThemeLabelItem,b.ThemeLabelText=k.ThemeLabelText,b.ThemeLabelUniqueItem=k.ThemeLabelUniqueItem,b.ThemeMemoryData=k.ThemeMemoryData,b.ThemeOffset=k.ThemeOffset,b.ThemeParameters=k.ThemeParameters,b.ThemeRange=k.ThemeRange,b.ThemeRangeItem=k.ThemeRangeItem,b.ThemeService=k.ThemeService,b.ThemeUnique=k.ThemeUnique,b.ThemeUniqueItem=k.ThemeUniqueItem,b.ThiessenAnalystParameters=k.ThiessenAnalystParameters,b.ThiessenAnalystService=k.ThiessenAnalystService,b.GeometryBatchAnalystService=k.GeometryBatchAnalystService,b.TilesetsService=k.TilesetsService,b.TopologyValidatorJobsParameter=k.TopologyValidatorJobsParameter,b.TopologyValidatorJobsService=k.TopologyValidatorJobsService,b.TransferLine=k.TransferLine,b.TransferPathParameters=k.TransferPathParameters,b.TransferPathService=k.TransferPathService,b.TransferSolutionService=k.TransferSolutionService,b.TransportationAnalystParameter=k.TransportationAnalystParameter,b.TransportationAnalystResultSetting=k.TransportationAnalystResultSetting,b.TransferSolutionParameters=k.TransferSolutionParameters,b.UGCLayer=k.UGCLayer,b.UGCMapLayer=k.UGCMapLayer,b.UGCSubLayer=k.UGCSubLayer,b.UpdateEdgeWeightParameters=k.UpdateEdgeWeightParameters,b.UpdateEdgeWeightService=k.UpdateEdgeWeightService,b.UpdateTurnNodeWeightParameters=k.UpdateTurnNodeWeightParameters,b.UpdateTurnNodeWeightService=k.UpdateTurnNodeWeightService,b.Vector=k.Vector,b.VectorClipJobsParameter=k.VectorClipJobsParameter,b.VectorClipJobsService=k.VectorClipJobsService,b.Online=l.Online,b.OnlineData=l.OnlineData,b.OnlineQueryDatasParameter=l.OnlineQueryDatasParameter,b.ServiceStatus=l.ServiceStatus,b.DataItemType=l.DataItemType,b.DataItemOrderBy=l.DataItemOrderBy,b.FilterField=l.FilterField,b.OnlineServiceBase=l.OnlineServiceBase,b.Bar=q.Bar,b.Bar3D=q.Bar3D,b.Circle=q.Circle,b.Graph=q.Graph,b.Line=q.Line,b.Pie=q.Pie,b.OverlayPoint=q.OverlayPoint,b.RankSymbol=q.RankSymbol,b.Ring=q.Ring,b.ThemeVector=q.ThemeVector,b.ShapeFactory=q.ShapeFactory,b.ShapeParameters=q.ShapeParameters,b.FeatureCircle=q.FeatureCircle,b.Image=q.Image,b.Label=q.Label,b.FeatureLine=q.FeatureLine,b.Point=q.Point,b.FeaturePolygon=q.FeaturePolygon,b.FeatureRectangle=q.FeatureRectangle,b.Sector=q.Sector,b.FeatureTheme=q.FeatureTheme,b.LevelRenderer=q.LevelRenderer,b.Render=q.Render,b.Animation=q.Animation,b.Animator=q.Animator,b.Area=q.Area,b.Clip=q.Clip,b.Color=q.Color,b.ComputeBoundingBox=q.ComputeBoundingBox,b.Config=q.Config,b.LevelRendererCurve=q.LevelRendererCurve,b.Easing=q.Easing,b.Env=q.Env,b.LevelRendererEvent=q.LevelRendererEvent,b.Eventful=q.Eventful,b.Group=q.Group,b.Handler=q.Handler,b.Http=q.Http,b.Log=q.Log,b.Math=q.Math,b.Matrix=q.Matrix,b.Painter=q.Painter,b.PaintLayer=q.PaintLayer,b.Shape=q.Shape,b.SmicBrokenLine=q.SmicBrokenLine,b.SmicCircle=q.SmicCircle,b.SmicEllipse=q.SmicEllipse,b.SmicImage=q.SmicImage,b.SmicIsogon=q.SmicIsogon,b.SmicPoint=q.SmicPoint,b.SmicPolygon=q.SmicPolygon,b.SmicRectangle=q.SmicRectangle,b.SmicRing=q.SmicRing,b.SmicSector=q.SmicSector,b.SmicStar=q.SmicStar,b.SmicText=q.SmicText,b.Storage=q.Storage,b.Transformable=q.Transformable,b.Util=q.Util,b.LevelRendererVector=q.LevelRendererVector,b.SUtil=q.SUtil,b.KeyServiceParameter=m.KeyServiceParameter,b.SecurityManager=m.SecurityManager,b.ServerInfo=m.ServerInfo,b.TokenServiceParameter=m.TokenServiceParameter,b.CartoCSS=p.CartoCSS,b.ThemeStyle=p.ThemeStyle,b.ElasticSearch=n.ElasticSearch,b.Lang=s.Lang,b.en=s.en,b.zh=s.zh},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.CommonServiceBase=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(21),g=c(91),h=c(135),i=c(40),j=c(1),k=c(4),l=c(133),m=c(66),n=b.CommonServiceBase=function(){function a(b,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a);var d=this;this.EVENT_TYPES=["processCompleted","processFailed"],this.events=null,this.eventListeners=null,this.url=null,this.urls=null,this.proxy=null,this.serverType=null,this.index=null,this.length=null,this.options=null,this.totalTimes=null,this.POLLING_TIMES=3,this._processSuccess=null,this._processFailed=null,this.isInTheSameDomain=null,this.withCredentials=!1,j.Util.isArray(b)?(d.urls=b,d.length=b.length,d.totalTimes=d.length,1===d.length?d.url=b[0]:(d.index=parseInt(Math.random()*d.length),d.url=b[d.index])):(d.totalTimes=1,d.url=b),j.Util.isArray(b)&&!d.isServiceSupportPolling()&&(d.url=b[0],d.totalTimes=1),d.serverType=d.serverType||k.ServerType.ISERVER,c=c||{},j.Util.extend(this,c),d.isInTheSameDomain=j.Util.isInTheSameDomain(d.url),d.events=new g.Events(d,null,d.EVENT_TYPES,!0),d.eventListeners instanceof Object&&d.events.on(d.eventListeners),this.CLASS_NAME="SuperMap.CommonServiceBase"}return d(a,[{key:"destroy",value:function(){var a=this;j.Util.isArray(a.urls)&&(a.urls=null,a.index=null,a.length=null,a.totalTimes=null),a.url=null,a.options=null,a._processSuccess=null,a._processFailed=null,a.isInTheSameDomain=null,a.EVENT_TYPES=null,a.events&&(a.events.destroy(),a.events=null),a.eventListeners&&(a.eventListeners=null)}},{key:"request",value:function(a){var b=this;a.url=a.url||b.url,a.proxy=a.proxy||b.proxy,a.withCredentials=void 0!=a.withCredentials?a.withCredentials:b.withCredentials,a.isInTheSameDomain=b.isInTheSameDomain;var c=this.getCredential(a.url);if(c){var d=a.url.substring(a.url.length-1,a.url.length);a.url.indexOf("?")>-1&&"?"===d?a.url+=c.getUrlParameters():a.url.indexOf("?")>-1&&"?"!==d?a.url+="&"+c.getUrlParameters():a.url+="?"+c.getUrlParameters()}b.calculatePollingTimes(),b._processSuccess=a.success,b._processFailed=a.failure,a.scope=b,a.success=b.getUrlCompleted,a.failure=b.getUrlFailed,b.options=a,b._commit(b.options)}},{key:"getCredential",value:function(a){var b=a,c=void 0,d=void 0;switch(this.serverType){case k.ServerType.IPORTAL:(c=(d=i.SecurityManager.getToken(b))?new h.Credential(d,"token"):null)||(c=(d=i.SecurityManager.getKey(b))?new h.Credential(d,"key"):null);break;case k.ServerType.ONLINE:c=(d=i.SecurityManager.getKey(b))?new h.Credential(d,"key"):null;break;default:c=(d=i.SecurityManager.getToken(b))?new h.Credential(d,"token"):null}return c}},{key:"getUrlCompleted",value:function(a){this._processSuccess(a)}},{key:"getUrlFailed",value:function(a){this.totalTimes>0?(this.totalTimes--,this.ajaxPolling()):this._processFailed(a)}},{key:"ajaxPolling",value:function(){var a=this,b=a.options.url,c=/^http:\/\/([a-z]{9}|(\d+\.){3}\d+):\d{0,4}/;a.index=parseInt(Math.random()*a.length),a.url=a.urls[a.index],b=b.replace(c,c.exec(a.url)[0]),a.options.url=b,a.options.isInTheSameDomain=j.Util.isInTheSameDomain(b),a._commit(a.options)}},{key:"calculatePollingTimes",value:function(){var a=this;a.times?a.totalTimes>a.POLLING_TIMES?a.times>a.POLLING_TIMES?a.totalTimes=a.POLLING_TIMES:a.totalTimes=a.times:a.times<a.totalTimes&&(a.totalTimes=a.times):a.totalTimes>a.POLLING_TIMES&&(a.totalTimes=a.POLLING_TIMES),a.totalTimes--}},{key:"isServiceSupportPolling",value:function(){return!("SuperMap.REST.ThemeService"===this.CLASS_NAME||"SuperMap.REST.EditFeaturesService"===this.CLASS_NAME)}},{key:"serviceProcessCompleted",value:function(a){a=j.Util.transformResult(a),this.events.triggerEvent("processCompleted",{result:a})}},{key:"serviceProcessFailed",value:function(a){var b=(a=j.Util.transformResult(a)).error||a;this.events.triggerEvent("processFailed",{error:b})}},{key:"_commit",value:function(a){"POST"!==a.method&&"PUT"!==a.method||(a.params&&(a.url=j.Util.urlAppend(a.url,j.Util.getParameterString(a.params||{}))),a.params=a.data),f.FetchRequest.commit(a.method,a.url,a.params,{headers:a.headers,withCredentials:a.withCredentials,timeout:a.async?0:null,proxy:a.proxy}).then(function(a){return a.text?a.text():a.json?a.json():a}).then(function(b){var c=b;"string"==typeof b&&(c=(new l.JSONFormat).read(b)),(!c||c.error||c.code>=300&&304!==c.code)&&(c=c&&c.error?{error:c.error}:{error:c}),c.error?(a.scope?m.FunctionExt.bind(a.failure,a.scope):a.failure)(c):(c.succeed=void 0==c.succeed||c.succeed,(a.scope?m.FunctionExt.bind(a.success,a.scope):a.success)(c))})["catch"](function(b){(a.scope?m.FunctionExt.bind(a.failure,a.scope):a.failure)(b)})}}]),a}();e.SuperMap.CommonServiceBase=n},function(a,b,c){"use strict";var d=2*Math.PI,e=c(58);a.exports=function(a){return Math.abs(a)<=3.14159265359?a:a-e(a)*d}},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ServiceBase=void 0;var d,e=c(2),f=(d=e)&&d.__esModule?d:{"default":d},g=b.ServiceBase=f["default"].Evented.extend({options:{url:null,proxy:null,serverType:null,withCredentials:!1},initialize:function(a,b){a&&(a=a.indexOf("/")!==a.length-1?a:a.substr(0,a.length-1)),this.url=a,f["default"].setOptions(this,b),this.fire("initialized",this)},destroy:function(){this.fire("destroy",this)}});f["default"].supermap.ServiceBase=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ServerGeometry=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(24),g=c(48),h=c(41),i=c(23),j=c(65),k=c(63),l=c(64),m=c(14),n=c(89),o=c(1),p=c(4),q=b.ServerGeometry=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.id=0,this.style=null,this.parts=null,this.points=null,this.type=null,this.prjCoordSys=null,b&&o.Util.extend(this,b),this.CLASS_NAME="SuperMap.ServerGeometry"}return d(a,[{key:"destroy",value:function(){var a=this;a.id=null,a.style=null,a.parts=null,a.partTopo=null,a.points=null,a.type=null,a.prjCoordSys=null}},{key:"toGeometry",value:function(){var a=this;switch(a.type.toUpperCase()){case p.GeometryType.POINT:return a.toGeoPoint();case p.GeometryType.LINE:return a.toGeoLine();case p.GeometryType.LINEM:return a.toGeoLinem();case p.GeometryType.REGION:return a.toGeoRegion();case p.GeometryType.POINTEPS:return a.toGeoPoint();case p.GeometryType.LINEEPS:return a.toGeoLineEPS();case p.GeometryType.REGIONEPS:return a.toGeoRegionEPS()}}},{key:"toGeoPoint",value:function(){var a=this.parts||[],b=this.points||[],c=a.length;if(c>0){if(1===c)return new f.Point(b[0].x,b[0].y);for(var d=[],e=0;c>e;e++)d.push(new f.Point(b[e].x,b[e].y));return new g.MultiPoint(d)}return null}},{key:"toGeoLine",value:function(){var a=this.parts||[],b=this.points||[],c=a.length;if(c>0){if(1===c){for(var d=[],e=0;e<a[0];e++)d.push(new f.Point(b[e].x,b[e].y));return d[0].equals(d[a[0]-1])?new h.LinearRing(d):new i.LineString(d)}for(var g=[],k=0;c>k;k++){for(var l=[],m=0;m<a[k];m++)l.push(new f.Point(b[m].x,b[m].y));g.push(new i.LineString(l)),b.splice(0,a[k])}return new j.MultiLineString(g)}return null}},{key:"toGeoLineEPS",value:function(){var a,b,c,d,e,g=this.parts||[],k=this.points||[],l=g.length;if(l>0){if(1===l){for(a=0,c=[];a<g[0];a++)c.push(new f.Point(k[a].x,k[a].y,k[a].type));return c[0].equals(c[g[0]-1])?(e=i.LineString.createLineEPS(c),new h.LinearRing(e)):(e=i.LineString.createLineEPS(c),new i.LineString(e))}for(a=0,d=[];l>a;a++){for(b=0,c=[];b<g[a];b++)c.push(new f.Point(k[b].x,k[b].y));e=i.LineString.createLineEPS(c),d.push(new i.LineString(e)),k.splice(0,g[a])}return new j.MultiLineString(d)}return null}},{key:"toGeoLinem",value:function(){return n.Route.fromJson(this)}},{key:"toGeoRegion",value:function(){var b=this.parts||[],c=this.partTopo||[],d=this.points||[],e=b.length;if(0>=e)return null;var g=[],i=[];if(1==e){for(var j=0;j<d.length;j++)i.push(new f.Point(d[j].x,d[j].y));return g.push(new k.Polygon([new h.LinearRing(i)])),new l.MultiPolygon(g)}for(var m=[],n=[],o=[],p=[],q=[],r=0,s=0;e>r;r++){for(var t=0;t<b[r];t++)i.push(new f.Point(d[s+t].x,d[s+t].y));s+=b[r];var u=new k.Polygon([new h.LinearRing(i)]);i=[],o.push(u),0===c.length&&p.push(u.getBounds()),q.push(1),n.push(u.getArea())}if(a.bubbleSort(n,o,c,p),0===c.length){for(var v=[],w=1;w<o.length;w++)for(var x=w-1;x>=0;x--)if(v[w]=-1,p[x].containsBounds(p[w])){q[w]=-1*q[x],q[w]<0&&(v[w]=x);break}for(var y=0;y<o.length;y++)q[y]>0?g.push(o[y]):(g[v[y]].components=g[v[y]].components.concat(o[y].components),g.push(""))}else{g=new Array;for(var z=0;z<o.length;z++)if(c[z]&&-1==c[z]?m=m.concat(o[z].components):(m.length>0&&g.length>0&&(g[g.length-1].components=g[g.length-1].components.concat(m),m=[]),g.push(o[z])),z==e-1){var A=g.length;if(A)g[A-1].components=g[A-1].components.concat(m);else for(var B=0,C=m.length;C>B;B++)g.push(new k.Polygon(m))}}return new l.MultiPolygon(g)}},{key:"toGeoRegionEPS",value:function(){var b=this.parts||[],c=this.partTopo||[],d=this.points||[],e=b.length;if(0>=e)return null;var g,j=[],m=[];if(1==e){for(var n=0;n<d.length;n++)m.push(new f.Point(d[n].x,d[n].y));return g=i.LineString.createLineEPS(m),j.push(new k.Polygon([new h.LinearRing(g)])),new l.MultiPolygon(j)}for(var o=[],p=[],q=[],r=[],s=[],t=0,u=0;e>t;t++){for(var v=0;v<b[t];v++)m.push(new f.Point(d[u+v].x,d[u+v].y));u+=b[t],g=i.LineString.createLineEPS(m);var w=new k.Polygon([new h.LinearRing(g)]);m=[],q.push(w),0===c.length&&r.push(w.getBounds()),s.push(1),p.push(w.getArea())}if(a.bubbleSort(p,q,c,r),0===c.length){for(var x=[],y=1;y<q.length;y++)for(var z=y-1;z>=0;z--)if(x[y]=-1,r[z].containsBounds(r[y])){s[y]=-1*s[z],s[y]<0&&(x[y]=z);break}for(var A=0;A<q.length;A++)s[A]>0?j.push(q[A]):(j[x[A]].components=j[x[A]].components.concat(q[A].components),j.push(""))}else{j=new Array;for(var B=0;B<q.length;B++)if(c[B]&&-1==c[B]?o=o.concat(q[B].components):(o.length>0&&j.length>0&&(j[j.length-1].components=j[j.length-1].components.concat(o),o=[]),j.push(q[B])),B==e-1){var C=j.length;if(C)j[C-1].components=j[C-1].components.concat(o);else for(var D=0,E=o.length;E>D;D++)j.push(new k.Polygon(o))}}return new l.MultiPolygon(j)}}],[{key:"fromJson",value:function(b){return b?new a({id:b.id,style:m.ServerStyle.fromJson(b.style),parts:b.parts,partTopo:b.partTopo,points:b.points,center:b.center,length:b.length,maxM:b.maxM,minM:b.minM,type:b.type}):void 0}},{key:"fromGeometry",value:function(b){if(b){var c=0,d=[],e=[],i=null,m=b.components,n=b.CLASS_NAME,o={epsgCode:b.SRID};if(isNaN(b.id)||(c=b.id),"SuperMap.Geometry.LinearRing"!=n&&"SuperMap.Geometry.LineString"!=n&&(b instanceof g.MultiPoint||b instanceof j.MultiLineString)){for(var q=m.length,r=0;q>r;r++){var s=m[r].getVertices().length;d.push(s);for(var t=0;s>t;t++)e.push(new f.Point(m[r].getVertices()[t].x,m[r].getVertices()[t].y))}i="SuperMap.Geometry.MultiPoint"==n?p.GeometryType.POINT:p.GeometryType.LINE}else if(b instanceof l.MultiPolygon){for(var u=m.length,v=0;u>v;v++)for(var w=m[v].components,x=w.length,y=0;x>y;y++){var z=w[y].getVertices().length+1;d.push(z);for(var A=0;z-1>A;A++)e.push(new f.Point(w[y].getVertices()[A].x,w[y].getVertices()[A].y));e.push(new f.Point(w[y].getVertices()[0].x,w[y].getVertices()[0].y))}i=p.GeometryType.REGION}else if(b instanceof k.Polygon){for(var B=m.length,C=0;B>C;C++){var D=m[C].getVertices().length+1;d.push(D);for(var E=0;D-1>E;E++)e.push(new f.Point(m[C].getVertices()[E].x,m[C].getVertices()[E].y));e.push(new f.Point(m[C].getVertices()[0].x,m[C].getVertices()[0].y))}i=p.GeometryType.REGION}else{for(var F=b.getVertices().length,G=0;F>G;G++)e.push(new f.Point(b.getVertices()[G].x,b.getVertices()[G].y));b instanceof h.LinearRing&&(e.push(new f.Point(b.getVertices()[0].x,b.getVertices()[0].y)),F++),d.push(F),i=b instanceof f.Point?p.GeometryType.POINT:p.GeometryType.LINE}return new a({id:c,style:null,parts:d,points:e,type:i,prjCoordSys:o})}}},{key:"IsClockWise",value:function(a){var b=a.length;if(3>b)return 0;var c=a[0].y*(a[b-1].x-a[1].x);a.push(a[0]);for(var d=1;b>d;d++)c+=a[d].y*(a[d-1].x-a[d+1].x);return.5*c}},{key:"bubbleSort",value:function(a,b,c,d){for(var e=0;e<a.length;e++)for(var f=0;f<a.length;f++)if(a[e]>a[f]){var g=a[f];a[f]=a[e],a[e]=g;var h=b[f];if(b[f]=b[e],b[e]=h,c&&c.length>0){var i=c[f];c[f]=c[e],c[e]=i}if(d&&d.length>0){var j=d[f];d[f]=d[e],d[e]=j}}}}]),a}();e.SuperMap.ServerGeometry=q},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SpatialAnalystBase=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(4),h=c(6),i=c(17),j=b.SpatialAnalystBase=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.format=g.DataFormat.GEOJSON,d.CLASS_NAME="SuperMap.SpatialAnalystBase",d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b);
}(b,h.CommonServiceBase),d(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this),this.format=null}},{key:"serviceProcessCompleted",value:function(a){var b,c=this;if((a=f.Util.transformResult(a))&&c.format===g.DataFormat.GEOJSON&&"function"==typeof c.toGeoJSONResult)if(f.Util.isArray(a)){for(var d=0;d<a.length;d++)a[d]=c.toGeoJSONResult(a[d]);b=a}else b=c.toGeoJSONResult(a);b||(b=a),c.events.triggerEvent("processCompleted",{result:b})}},{key:"toGeoJSONResult",value:function(a){if(!a)return null;a.result&&a.result.resultGeometry&&(a=a.result);var b=new i.GeoJSON;if(a.recordsets)for(var c=0,d=a.recordsets,e=d.length;e>c;c++)d[c].features&&(d[c].features=b.toGeoJSON(d[c].features));else a.recordset&&a.recordset.features&&(a.recordset.features=b.toGeoJSON(a.recordset.features));return a.resultGeometry&&(a.resultGeometry=b.toGeoJSON(a.resultGeometry)),a.regions&&(a.regions=b.toGeoJSON(a.regions)),a}}]),b}();e.SuperMap.SpatialAnalystBase=j},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b["default"]={Prefix:"<a href='http://leafletjs.com' title='A JS library for interactive maps'>Leaflet</a>\n                with <span>© <a href='http://iclient.supermap.io' title='SuperMap iClient' target='_blank'>SuperMap iClient</a></span>",Common:{attribution:"Map Data <span>© <a href='http://support.supermap.com.cn/product/iServer.aspx' title='SuperMap iServer' target='_blank'>SuperMap iServer</a></span>"},Online:{attribution:"Map Data <span>© <a href='http://www.supermapol.com' title='SuperMap Online' target='_blank'>SuperMap Online</a></span>"},ECharts:{attribution:"© 2018 百度 ECharts"},MapV:{attribution:"© 2018 百度 MapV "},Turf:{attribution:"<span>© <a href='http://turfjs.org/' title='turfjs' target='_blank'>turfjs</a></span>"},Baidu:{attribution:"Map Data © 2018 Baidu - GS(2016)2089号 - Data © 长地万方"},Cloud:{attribution:"Map Data ©2014 SuperMap - GS(2014)6070号-data©Navinfo"},Tianditu:{attribution:"Map Data <a href='http://www.tianditu.com' target='_blank'><img style='background-color:transparent;bottom:2px;opacity:1;' src='http://api.tianditu.com/img/map/logo.png' width='53px' height='22px' opacity='0'></a>"}}},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SUtil=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(205),f=c(113),g=c(204),h=c(75),i=c(203),j=c(202),k=c(201),l=c(200),m=c(199),n=c(198),o=c(33),p=c(74),q=b.SUtil=function(){function a(){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a)}return d(a,null,[{key:"SUtil_smoothBezier",value:function(b,c,d,e,f){f&&2===f||(f=[0,0]);var g,h,i=f,j=[],k=[],l=[],m=[],n=!!e;if(n){g=[1/0,1/0],h=[-1/0,-1/0];for(var o=b.length,p=0;o>p;p++)a.Util_vector.min(g,g,[b[p][0]+i[0],b[p][1]+i[1]]),a.Util_vector.max(h,h,[b[p][0]+i[0],b[p][1]+i[1]]);a.Util_vector.min(g,g,e[0]),a.Util_vector.max(h,h,e[1])}for(var q=b.length,r=0;q>r;r++){var s=[b[r][0]+i[0],b[r][1]+i[1]],t=void 0,u=void 0;if(d)t=[b[r?r-1:q-1][0]+i[0],b[r?r-1:q-1][1]+i[1]],u=[b[(r+1)%q][0]+i[0],b[(r+1)%q][1]+i[1]];else{if(0===r||r===q-1){j.push([b[r][0]+i[0],b[r][1]+i[1]]);continue}t=[b[r-1][0]+i[0],b[r-1][1]+i[1]],u=[b[r+1][0]+i[0],b[r+1][1]+i[1]]}a.Util_vector.sub(k,u,t),a.Util_vector.scale(k,k,c);var v=a.Util_vector.distance(s,t),w=a.Util_vector.distance(s,u),x=v+w;0!==x&&(v/=x,w/=x),a.Util_vector.scale(l,k,-v),a.Util_vector.scale(m,k,w);var y=a.Util_vector.add([],s,l),z=a.Util_vector.add([],s,m);n&&(a.Util_vector.max(y,y,g),a.Util_vector.min(y,y,h),a.Util_vector.max(z,z,g),a.Util_vector.min(z,z,h)),j.push(y),j.push(z)}return d&&j.push(j.shift()),j}},{key:"SUtil_smoothSpline",value:function(b,c,d,e){function f(a,b,c,d,e,f,g){var h=.5*(c-a),i=.5*(d-b);return(2*(b-c)+h+i)*g+(-3*(b-c)-2*h-i)*f+h*e+b}e&&2===e||(e=[0,0]);for(var g=e,h=b.length,i=[],j=0,k=1;h>k;k++)j+=a.Util_vector.distance([b[k-1][0]+g[0],b[k-1][1]+g[1]],[b[k][0]+g[0],b[k][1]+g[1]]);var l=j/5;l=h>l?h:l;for(var m=0;l>m;m++){var n=m/(l-1)*(c?h:h-1),o=Math.floor(n),p=n-o,q=void 0,r=[b[o%h][0]+g[0],b[o%h][1]+g[1]],s=void 0,t=void 0;c?(q=[b[(o-1+h)%h][0]+g[0],b[(o-1+h)%h][1]+g[1]],s=[b[(o+1)%h][0]+g[0],b[(o+1)%h][1]+g[1]],t=[b[(o+2)%h][0]+g[0],b[(o+2)%h][1]+g[1]]):(q=[b[0===o?o:o-1][0]+g[0],b[0===o?o:o-1][1]+g[1]],s=[b[o>h-2?h-1:o+1][0]+g[0],b[o>h-2?h-1:o+1][1]+g[1]],t=[b[o>h-3?h-1:o+2][0]+g[0],b[o>h-3?h-1:o+2][1]+g[1]]);var u=p*p,v=p*u;i.push([f(q[0],r[0],s[0],t[0],p,u,v),f(q[1],r[1],s[1],t[1],p,u,v)])}return i}},{key:"SUtil_dashedLineTo",value:function(a,b,c,d,e,f,g){var h=[5,5];if(f="number"!=typeof f?5:f,a.setLineDash)return h[0]=f,h[1]=f,g&&g instanceof Array?a.setLineDash(g):a.setLineDash(h),a.moveTo(b,c),void a.lineTo(d,e);var i=d-b,j=e-c,k=Math.floor(Math.sqrt(i*i+j*j)/f);i/=k,j/=k;for(var l=!0,m=0;k>m;++m)l?a.moveTo(b,c):a.lineTo(b,c),l=!l,b+=i,c+=j;a.lineTo(d,e)}}]),a}();q.Util_area=new e.Area,q.Util_color=new f.Color,q.Util_computeBoundingBox=new g.ComputeBoundingBox,q.Util_curve=new h.Curve,q.Util_env=new i.Env,q.Util_event=new j.Event,q.Util_http=new k.Http,q.Util_log=new l.Log,q.Util_math=new m.Math,q.Util_matrix=new n.Matrix,q.Util=new o.Util,q.Util_vector=new p.Vector},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Shape=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(59),g=c(76),h=c(1),i=c(12);b.Shape=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var c,d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return a=a||{},d.id=null,d.style={},d.highlightStyle=null,d.parent=null,d.__dirty=!0,d.__clipShapes=[],d.invisible=!1,d.ignore=!1,d.zlevel=0,d.draggable=!1,d.clickable=!1,d.hoverable=!0,d.z=0,d.refOriginalPosition=[0,0],d.refDataID=null,d.isHoverByRefDataID=!1,d.refDataHoverGroup=null,d.dataInfo=null,h.Util.extend(d,a),d.id=d.id||h.Util.createUniqueID("smShape_"),d.CLASS_NAME="SuperMap.LevelRenderer.Shape",d.getTansform=(c=[],function(a,b){var d=[a,b];return this.needTransform&&this.transform&&(i.SUtil.Util_matrix.invert(c,this.transform),i.SUtil.Util_matrix.mulVector(d,c,[a,b,1]),a==d[0]&&b==d[1]&&this.updateNeedTransform()),d}),d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,e.SuperMap.mixin(f.Eventful,g.Transformable)),d(b,[{key:"destroy",value:function(){this.id=null,this.style=null,this.highlightStyle=null,this.parent=null,this.__dirty=null,this.__clipShapes=null,this.invisible=null,this.ignore=null,this.zlevel=null,this.draggable=null,this.clickable=null,this.hoverable=null,this.z=null,this.refOriginalPosition=null,this.refDataID=null,this.refDataHoverGroup=null,this.isHoverByRefDataID=null,this.dataInfo=null,function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0}(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"brush",value:function(a,b){var c=this.beforeBrush(a,b);switch(a.beginPath(),this.buildPath(a,c),c.brushType){case"both":this.setCtxGlobalAlpha(a,"fill",c),a.fill(),c.lineWidth>0&&(this.setCtxGlobalAlpha(a,"stroke",c),a.stroke()),this.setCtxGlobalAlpha(a,"reset",c);break;case"stroke":this.setCtxGlobalAlpha(a,"stroke",c),c.lineWidth>0&&a.stroke(),this.setCtxGlobalAlpha(a,"reset",c);break;default:this.setCtxGlobalAlpha(a,"fill",c),a.fill(),this.setCtxGlobalAlpha(a,"reset",c)}this.drawText(a,c,this.style),this.afterBrush(a)}},{key:"beforeBrush",value:function(a,b){var c=this.style;return this.brushTypeOnly&&(c.brushType=this.brushTypeOnly),b&&(c=this.getHighlightStyle(c,this.highlightStyle||{},this.brushTypeOnly)),"stroke"==this.brushTypeOnly&&(c.strokeColor=c.strokeColor||c.color),a.save(),this.doClip(a),this.setContext(a,c),this.setTransform(a),c}},{key:"afterBrush",value:function(a){a.restore()}},{key:"setContext",value:function(a,b){for(var c=[["color","fillStyle"],["strokeColor","strokeStyle"],["opacity","globalAlpha"],["lineCap","lineCap"],["lineJoin","lineJoin"],["miterLimit","miterLimit"],["lineWidth","lineWidth"],["shadowBlur","shadowBlur"],["shadowColor","shadowColor"],["shadowOffsetX","shadowOffsetX"],["shadowOffsetY","shadowOffsetY"]],d=0,e=c.length;e>d;d++){var f=b[c[d][0]],g=c[d][1];void 0!==f&&(a[g]=f)}}},{key:"doClip",value:function(a){var b=i.SUtil.Util_matrix.create();if(this.__clipShapes)for(var c=0;c<this.__clipShapes.length;c++){var d=this.__clipShapes[c];if(d.needTransform){var e=d.transform;i.SUtil.Util_matrix.invert(b,e),a.transform(e[0],e[1],e[2],e[3],e[4],e[5])}if(a.beginPath(),d.buildPath(a,d.style),a.clip(),d.needTransform){var f=b;a.transform(f[0],f[1],f[2],f[3],f[4],f[5])}}}},{key:"getHighlightStyle",value:function(a,b,c){var d={};for(var e in a)d[e]=a[e];var f=i.SUtil.Util_color.getHighlightColor();for(var g in"stroke"!=a.brushType?(d.strokeColor=f,d.lineWidth=a.lineWidth||1,d.brushType="both"):"stroke"!=c?(d.strokeColor=f,d.lineWidth=a.lineWidth||1):d.strokeColor=b.strokeColor||i.SUtil.Util_color.mix(a.strokeColor,i.SUtil.Util_color.toRGB(f)),b)void 0!==b[g]&&(d[g]=b[g]);return d}},{key:"getHighlightZoom",value:function(){return"text"!=this.type?6:2}},{key:"drift",value:function(a,b){this.position[0]+=a,this.position[1]+=b}},{key:"buildPath",value:function(a,b){i.SUtil.Util_log("buildPath not implemented in "+this.type)}},{key:"getRect",value:function(a){i.SUtil.Util_log("getRect not implemented in "+this.type)}},{key:"isCover",value:function(a,b){var c=this.getTansform(a,b);a=c[0],b=c[1];var d=this.style.__rect;return d||(d=this.style.__rect=this.getRect(this.style)),a>=d.x&&a<=d.x+d.width&&b>=d.y&&b<=d.y+d.height&&i.SUtil.Util_area.isInside(this,this.style,a,b)}},{key:"drawText",value:function(a,c,d){if(void 0!==c.text&&!1!==c.text){var e=c.textColor||c.color||c.strokeColor;a.fillStyle=e;var f,g,h,i,j=10,k=c.textPosition||this.textPosition||"top",l=[];switch(l=this.refOriginalPosition&&2===this.refOriginalPosition.length?this.refOriginalPosition:[0,0],k){case"inside":case"top":case"bottom":case"left":case"right":if(this.getRect){var m=(d||c).__rect||this.getRect(d||c);switch(k){case"inside":h=m.x+m.width/2,i=m.y+m.height/2,f="center",g="middle","stroke"!=c.brushType&&e==c.color&&(a.fillStyle="#fff");break;case"left":h=m.x-j,i=m.y+m.height/2,f="end",g="middle";break;case"right":h=m.x+m.width+j,i=m.y+m.height/2,f="start",g="middle";break;case"top":h=m.x+m.width/2,i=m.y-j,f="center",g="bottom";break;case"bottom":h=m.x+m.width/2,i=m.y+m.height+j,f="center",g="top"}}break;case"start":case"end":var n=0,o=0,p=0,q=0;if(void 0!==c.pointList){var r=c.pointList;if(r.length<2)return;var s=r.length;switch(k){case"start":n=r[0][0]+l[0],o=r[1][0]+l[0],p=r[0][1]+l[1],q=r[1][1]+l[1];break;case"end":n=r[s-2][0]+l[0],o=r[s-1][0]+l[0],p=r[s-2][1]+l[1],q=r[s-1][1]+l[1]}}else n=c.xStart+l[0]||0,o=c.xEnd+l[0]||0,p=c.yStart+l[1]||0,q=c.yEnd+l[1]||0;switch(k){case"start":f=o>n?"end":"start",g=q>p?"bottom":"top",h=n,i=p;break;case"end":f=o>n?"start":"end",g=q>p?"top":"bottom",h=o,i=q}j-=4,n&&o&&n!=o?h-="end"==f?j:-j:f="center",p!=q?i-="bottom"==g?j:-j:g="middle";break;case"specific":h=c.textX||0,i=c.textY||0,f="start",g="middle"}c.labelXOffset&&!isNaN(c.labelXOffset)&&(h+=c.labelXOffset),c.labelYOffset&&!isNaN(c.labelYOffset)&&(i+=c.labelYOffset),null!=h&&null!=i&&b._fillText(a,c.text,h,i,c.textFont,c.textAlign||f,c.textBaseline||g)}}},{key:"modSelf",value:function(){this.__dirty=!0,this.style&&(this.style.__rect=null),this.highlightStyle&&(this.highlightStyle.__rect=null)}},{key:"isSilent",value:function(){return!(this.hoverable||this.draggable||this.clickable||this.onmousemove||this.onmouseover||this.onmouseout||this.onmousedown||this.onmouseup||this.onclick||this.ondragenter||this.ondragover||this.ondragleave||this.ondrop)}},{key:"setCtxGlobalAlpha",value:function(a,b,c){a.globalAlpha="fill"===b?void 0===c.fillOpacity?void 0===c.opacity?1:c.opacity:c.fillOpacity:"stroke"===b?void 0===c.strokeOpacity?void 0===c.opacity?1:c.opacity:c.strokeOpacity:void 0===c.opacity?1:c.opacity}}],[{key:"_fillText",value:function(a,c,d,e,f,g,h){f&&(a.font=f),a.textAlign=g,a.textBaseline=h;var j=b._getTextRect(c,d,e,f,g,h);c=(c+"").split("\n");var k=i.SUtil.Util_area.getTextHeight("ZH",f);switch(h){case"top":e=j.y;break;case"bottom":e=j.y+k;break;default:e=j.y+k/2}for(var l=0,m=c.length;m>l;l++)a.fillText(c[l],d,e),e+=k}},{key:"_getTextRect",value:function(a,b,c,d,e,f){var g=i.SUtil.Util_area.getTextWidth(a,d),h=i.SUtil.Util_area.getTextHeight("ZH",d);switch(a=(a+"").split("\n"),e){case"end":case"right":b-=g;break;case"center":b-=g/2}switch(f){case"top":break;case"bottom":c-=h*a.length;break;default:c-=h*a.length/2}return{x:b,y:c,width:g,height:h*a.length}}}]),b}()},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ServerStyle=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(22),h=b.ServerStyle=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.fillBackColor=new g.ServerColor(255,255,255),this.fillBackOpaque=!1,this.fillForeColor=new g.ServerColor(255,0,0),this.fillGradientMode=null,this.fillGradientAngle=0,this.fillGradientOffsetRatioX=0,this.fillGradientOffsetRatioY=0,this.fillOpaqueRate=100,this.fillSymbolID=0,this.lineColor=new g.ServerColor(0,0,0),this.lineSymbolID=0,this.lineWidth=1,this.markerAngle=0,this.markerSize=1,this.markerSymbolID=-1,b&&f.Util.extend(this,b),this.CLASS_NAME="SuperMap.ServerStyle"}return d(a,[{key:"destroy",value:function(){var a=this;a.fillBackColor&&(a.fillBackColor.destroy(),a.fillBackColor=null),a.fillBackOpaque=null,a.fillForeColor&&(a.fillForeColor.destroy(),a.fillForeColor=null),a.fillGradientMode=null,a.fillGradientAngle=null,a.fillGradientOffsetRatioX=null,a.fillGradientOffsetRatioY=null,a.fillOpaqueRate=null,a.fillSymbolID=null,a.lineColor&&(a.lineColor.destroy(),a.lineColor=null),a.lineSymbolID=null,a.lineWidth=null,a.markerAngle=null,a.markerSize=null,a.markerSymbolID=null}},{key:"toServerJSONObject",value:function(){var a={};return a=f.Util.copyAttributes(a,this)}}],[{key:"fromJson",value:function(b){return b?new a({fillBackColor:g.ServerColor.fromJson(b.fillBackColor),fillBackOpaque:b.fillBackOpaque,fillForeColor:g.ServerColor.fromJson(b.fillForeColor),fillGradientMode:b.fillGradientMode,fillGradientAngle:b.fillGradientAngle,fillGradientOffsetRatioX:b.fillGradientOffsetRatioX,fillGradientOffsetRatioY:b.fillGradientOffsetRatioY,fillOpaqueRate:b.fillOpaqueRate,fillSymbolID:b.fillSymbolID,lineColor:g.ServerColor.fromJson(b.lineColor),lineSymbolID:b.lineSymbolID,lineWidth:b.lineWidth,markerAngle:b.markerAngle,markerSize:b.markerSize,markerSymbolID:b.markerSymbolID}):void 0}}]),a}();e.SuperMap.ServerStyle=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.NetworkAnalystServiceBase=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(4),h=c(6),i=b.NetworkAnalystServiceBase=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.format=g.DataFormat.GEOJSON,d.CLASS_NAME="SuperMap.NetworkAnalystServiceBase",d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,h.CommonServiceBase),d(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this),this.format=null}},{key:"serviceProcessCompleted",value:function(a){var b;(a=f.Util.transformResult(a))&&this.format===g.DataFormat.GEOJSON&&"function"==typeof this.toGeoJSONResult&&(b=this.toGeoJSONResult(a)),b||(b=a),this.events.triggerEvent("processCompleted",{result:b})}},{key:"toGeoJSONResult",value:function(a){return null}}]),b}();e.SuperMap.NetworkAnalystServiceBase=i},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.FilterParameter=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1);c(87),c(305);var g=b.FilterParameter=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.attributeFilter=null,this.name=null,this.joinItems=null,this.linkItems=null,this.ids=null,this.orderBy=null,this.groupBy=null,this.fields=null,b&&f.Util.extend(this,b),this.CLASS_NAME="SuperMap.FilterParameter"}return d(a,[{key:"destroy",value:function(){var a=this;if(a.attributeFilter=null,a.name=null,a.joinItems){for(var b=0,c=a.joinItems,d=c.length;d>b;b++)c[b].destroy();a.joinItems=null}if(a.linkItems){for(var e=0,f=a.linkItems,g=f.length;g>e;e++)f[e].destroy();a.linkItems=null}a.ids=null,a.orderBy=null,a.groupBy=null,a.fields=null}}]),a}();e.SuperMap.FilterParameter=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.GeoJSON=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=function u(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:u(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0!==f?f.call(c):void 0},f=c(0),g=c(90),h=c(1),i=c(30),j=c(34),k=c(133),l=c(24),m=c(48),n=c(23),o=c(65),p=c(41),q=c(63),r=c(64),s=c(9),t=b.GeoJSON=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.ignoreExtraDims=!0,c.CLASS_NAME="SuperMap.Format.GeoJSON",c.parseCoords={point:function(a){if(0==this.ignoreExtraDims&&2!=a.length)throw"Only 2D points are supported: "+a;return new l.Point(a[0],a[1])},multipoint:function(a){for(var b=[],c=null,d=0,e=a.length;e>d;++d){try{c=this.parseCoords.point.apply(this,[a[d]])}catch(a){throw a}b.push(c)}return new m.MultiPoint(b)},linestring:function(a){for(var b=[],c=null,d=0,e=a.length;e>d;++d){try{c=this.parseCoords.point.apply(this,[a[d]])}catch(a){throw a}b.push(c)}return new n.LineString(b)},multilinestring:function(a){for(var b=[],c=null,d=0,e=a.length;e>d;++d){try{c=this.parseCoords.linestring.apply(this,[a[d]])}catch(a){throw a}b.push(c)}return new o.MultiLineString(b)},polygon:function(a){for(var b,c,d=[],e=0,f=a.length;f>e;++e){try{c=this.parseCoords.linestring.apply(this,[a[e]])}catch(a){throw a}b=new p.LinearRing(c.components),d.push(b)}return new q.Polygon(d)},multipolygon:function(a){for(var b=[],c=null,d=0,e=a.length;e>d;++d){try{c=this.parseCoords.polygon.apply(this,[a[d]])}catch(a){throw a}b.push(c)}return new r.MultiPolygon(b)},box:function(a){if(2!=a.length)throw"GeoJSON box coordinates must have 2 elements";return new q.Polygon([new p.LinearRing([new l.Point(a[0][0],a[0][1]),new l.Point(a[1][0],a[0][1]),new l.Point(a[1][0],a[1][1]),new l.Point(a[0][0],a[1][1]),new l.Point(a[0][0],a[0][1])])])}},c.extract={feature:function(a){var b=this.extract.geometry.apply(this,[a.geometry]),c={type:"Feature",properties:this.createAttributes(a),geometry:b};return a.geometry&&"TEXT"===a.geometry.type&&(c.properties.texts=a.geometry.texts,c.properties.textStyle=a.geometry.textStyle),a.fid&&(c.id=a.fid),a.ID&&(c.id=a.ID),c},geometry:function(a){if(null==a)return null;!a.parts&&a.points&&(a.parts=[a.points.length]);var b,c=new s.ServerGeometry(a).toGeometry()||a,d=c.geometryType||c.type;return"LinearRing"===d&&(d="LineString"),"LINEM"===d&&(d="MultiLineString"),b=this.extract[d.toLowerCase()].apply(this,[c]),"Collection"===(d="TEXT"===d?"Point":d)?{type:"GeometryCollection",geometries:b}:{type:d,coordinates:b}},point:function(a){var b=[a.x,a.y];for(var c in a)"x"===c||"y"===c||null===a[c]||isNaN(a[c])||b.push(a[c]);return b},text:function(a){return[a.points[0].x,a.points[0].y]},multipoint:function(a){for(var b=[],c=0,d=a.components.length;d>c;++c)b.push(this.extract.point.apply(this,[a.components[c]]));return b},linestring:function(a){for(var b=[],c=0,d=a.components.length;d>c;++c)b.push(this.extract.point.apply(this,[a.components[c]]));return b},multilinestring:function(a){for(var b=[],c=0,d=a.components.length;d>c;++c)b.push(this.extract.linestring.apply(this,[a.components[c]]));return b},polygon:function(a){for(var b=[],c=0,d=a.components.length;d>c;++c)b.push(this.extract.linestring.apply(this,[a.components[c]]));return b},multipolygon:function(a){for(var b=[],c=0,d=a.components.length;d>c;++c)b.push(this.extract.polygon.apply(this,[a.components[c]]));return b},collection:function(a){for(var b=a.components.length,c=new Array(b),d=0;b>d;++d)c[d]=this.extract.geometry.apply(this,[a.components[d]]);return c}},c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,k.JSONFormat),d(b,[{key:"read",value:function(a,c,d){c=c||"FeatureCollection";var f=null,h=null;if(h="string"==typeof a?e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"read",this).call(this,a,d):a)if("string"!=typeof h.type);else if(this.isValidType(h,c))switch(c){case"Geometry":try{f=this.parseGeometry(h)}catch(a){}break;case"Feature":try{(f=this.parseFeature(h)).type="Feature"}catch(a){}break;case"FeatureCollection":switch(f=[],h.type){case"Feature":try{f.push(this.parseFeature(h))}catch(a){f=null}break;case"FeatureCollection":for(var i=0,j=h.features.length;j>i;++i)try{f.push(this.parseFeature(h.features[i]))}catch(a){f=null}break;default:try{var k=this.parseGeometry(h);f.push(new g.Vector(k))}catch(a){f=null}}}return f}},{key:"write",value:function(a,c){return e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"write",this).call(this,this.toGeoJSON(a),c)}},{key:"fromGeoJSON",value:function(a,b,c){var d=this,e=this.read(a,b,c);return h.Util.isArray(e)?e.map(function(a){return d._toiSevrerFeature(a)}):this._toiSevrerFeature(e)}},{key:"toGeoJSON",value:function(a){function b(a){return a.hasOwnProperty("parts")&&a.hasOwnProperty("points")}var c={type:null};if(h.Util.isArray(a)){c.type="FeatureCollection";var d=a.length;c.features=new Array(d);for(var e=0;d>e;++e){var f=a[e];if(b(f)){var g={};g.geometry=f,c.features[e]=this.extract.feature.apply(this,[g])}else c.features[e]=this.extract.feature.apply(this,[f])}}else if(b(a)){var i={};i.geometry=a,c=this.extract.feature.apply(this,[i])}else c=this.extract.feature.apply(this,[a]);return c}},{key:"isValidType",value:function(a,b){var c=!1;switch(b){case"Geometry":-1==h.Util.indexOf(["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon","Box","GeometryCollection"],a.type)||(c=!0);break;case"FeatureCollection":c=!0;break;default:a.type==b&&(c=!0)}return c}},{key:"parseFeature",value:function(a){var b,c,d,e;d=a.properties?a.properties:{},e=a.geometry&&a.geometry.bbox||a.bbox;try{c=this.parseGeometry(a.geometry)}catch(a){throw a}return b=new g.Vector(c,d),e&&(b.bounds=i.Bounds.fromArray(e)),a.id&&(b.fid=a.id),b}},{key:"parseGeometry",value:function(a){if(null==a)return null;var b;if("GeometryCollection"==a.type){if(!h.Util.isArray(a.geometries))throw"GeometryCollection must have geometries array: "+a;for(var c=a.geometries.length,d=new Array(c),e=0;c>e;++e)d[e]=this.parseGeometry.apply(this,[a.geometries[e]]);b=new j.Collection(d)}else{if(!h.Util.isArray(a.coordinates))throw"Geometry must have coordinates array: "+a;if(!this.parseCoords[a.type.toLowerCase()])throw"Unsupported geometry type: "+a.type;try{b=this.parseCoords[a.type.toLowerCase()].apply(this,[a.coordinates])}catch(a){throw a}}return b}},{key:"createCRSObject",value:function(a){var b=a.layer.projection.toString(),c={};if(b.match(/epsg:/i)){var d=parseInt(b.substring(b.indexOf(":")+1));c=4326==d?{type:"name",properties:{name:"urn:ogc:def:crs:OGC:1.3:CRS84"}}:{type:"name",properties:{name:"EPSG:"+d}}}return c}},{key:"_toiSevrerFeature",value:function(a){var b=a.attributes,c=[],d=[];for(var e in b)c.push(e),d.push(b[e]);var f={fieldNames:c,fieldValues:d,geometry:s.ServerGeometry.fromGeometry(a.geometry)};return f.geometry.id=a.fid,f}},{key:"createAttributes",value:function(a){if(!a)return null;var b={};!function(a,b){if(a.hasOwnProperty("fieldNames")&&a.hasOwnProperty("fieldValues")){var c=a.fieldNames,d=a.fieldValues;for(var e in c)b[c[e]]=d[e]}}(a,b);var c=["fieldNames","fieldValues","geometry"];for(var d in a)c.indexOf(d)>-1||(b[d]=a[d]);return b}}]),b}();f.SuperMap.Format.GeoJSON=t},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ProcessingServiceBase=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=function l(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:l(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0!==f?f.call(c):void 0},f=c(0),g=c(6),h=c(21),i=c(1),j=c(40),k=b.ProcessingServiceBase=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b),(c=c||{}).EVENT_TYPES=["processCompleted","processFailed","processRunning"];var d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.CLASS_NAME="SuperMap.ProcessingServiceBase",d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g.CommonServiceBase),d(b,[{key:"destroy",value:function(){e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"getJobs",value:function(a){var b=this;h.FetchRequest.get(b._processUrl(a),null,{proxy:b.proxy}).then(function(a){return a.json()}).then(function(a){b.events.triggerEvent("processCompleted",{result:a})})["catch"](function(a){b.eventListeners.processFailed({error:a})})}},{key:"addJob",value:function(a,b,c,d){var e=this,f=null;b&&b instanceof c&&(f=new Object,c.toObject(b,f));var g={proxy:e.proxy,headers:{"Content-Type":"application/x-www-form-urlencoded"},withCredentials:e.withCredentials,isInTheSameDomain:e.isInTheSameDomain};h.FetchRequest.post(e._processUrl(a),JSON.stringify(f),g).then(function(a){return a.json()}).then(function(a){a.succeed?e.serviceProcessCompleted(a,d):e.serviceProcessFailed(a)})["catch"](function(a){e.serviceProcessFailed({error:a})})}},{key:"serviceProcessCompleted",value:function(a,b){a=i.Util.transformResult(a),b=b||1e3;var c=this;if(a)var d=setInterval(function(){h.FetchRequest.get(c._processUrl(a.newResourceLocation),{_t:(new Date).getTime()}).then(function(a){return a.json()}).then(function(a){c.events.triggerEvent("processRunning",{id:a.id,state:a.state}),"LOST"!==a.state.runState&&"KILLED"!==a.state.runState&&"FAILED"!==a.state.runState||(clearInterval(d),c.events.triggerEvent("processFailed",{error:a.state.errorMsg,state:a.state.runState})),"FINISHED"===a.state.runState&&a.setting.serviceInfo&&(clearInterval(d),c.events.triggerEvent("processCompleted",{result:a}))})["catch"](function(a){clearInterval(d),c.events.triggerEvent("processFailed",{error:a})})},b)}},{key:"serviceProcessFailed",value:function(a){e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"serviceProcessFailed",this).call(this,a)}},{key:"_processUrl",value:function(a){return-1===a.indexOf(".json")&&(a+=".json"),j.SecurityManager.getToken(a)&&(a+="?token="+j.SecurityManager.getToken(a)),a}}]),b}();f.SuperMap.ProcessingServiceBase=k},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.MappingParameters=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(4),h=b.MappingParameters=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.items=null,this.numericPrecision=1,this.rangeMode=g.RangeMode.EQUALINTERVAL,this.rangeCount="",this.colorGradientType=g.ColorGradientType.YELLOW_RED,f.Util.extend(this,b),this.CLASS_NAME="SuperMap.MappingParameters"}return d(a,[{key:"destroy",value:function(){var a=this;if(a.items){if(a.items.length>0)for(var b in a.items)a.items[b].destroy(),a.items[b]=null;a.items=null}a.numericPrecision=null,a.rangeMode=null,a.rangeCount=null,a.colorGradientType=null}}]),a}();e.SuperMap.MappingParameters=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.OutputSetting=void 0;var d=function(){
function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(128),h=c(4),i=b.OutputSetting=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.type=h.OutputType.UDB,this.datasetName="analystResult",this.datasourceInfo=null,this.outputPath="",f.Util.extend(this,b),this.CLASS_NAME="SuperMap.OutputSetting"}return d(a,[{key:"destroy",value:function(){var a=this;a.type=null,a.datasetName=null,a.outputPath=null,a.datasourceInfo instanceof g.DatasourceConnectionInfo&&(a.datasourceInfo.destroy(),a.datasourceInfo=null)}}]),a}();e.SuperMap.OutputSetting=i},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.FetchRequest=b.getRequestTimeout=b.setRequestTimeout=b.isCORS=b.setCORS=void 0;var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};c(563),c(558);var e,f=c(557),g=(e=f)&&e.__esModule?e:{"default":e},h=c(0),i=c(1),j=window.fetch,k=(b.setCORS=h.SuperMap.setCORS=function(a){h.SuperMap.CORS=a},b.isCORS=h.SuperMap.isCORS=function(){return void 0!=h.SuperMap.CORS?h.SuperMap.CORS:window.XMLHttpRequest&&"withCredentials"in new window.XMLHttpRequest}),l=(b.setRequestTimeout=h.SuperMap.setRequestTimeout=function(a){return h.SuperMap.RequestTimeout=a},b.getRequestTimeout=h.SuperMap.getRequestTimeout=function(){return h.SuperMap.RequestTimeout||45e3});b.FetchRequest=h.SuperMap.FetchRequest={commit:function(a,b,c,d){switch(a=a?a.toUpperCase():a){case"GET":return this.get(b,c,d);case"POST":return this.post(b,c,d);case"PUT":return this.put(b,c,d);case"DELETE":return this["delete"](b,c,d);default:return this.get(b,c,d)}},supportDirectRequest:function(a,b){return i.Util.isInTheSameDomain(a)||k()||b.proxy},get:function(a,b,c){if(c=c||{},a=this._processUrl(a,c),a=i.Util.urlAppend(a,this._getParameterString(b||{})),!this.supportDirectRequest(a,c)){var d={url:a=a.replace(".json",".jsonp"),data:b};return h.SuperMap.Util.RequestJSONPPromise.GET(d)}return this.urlIsLong(a)?this._postSimulatie("GET",a.substring(0,a.indexOf("?")-1),b,c):this._fetch(a,b,c,"GET")},"delete":function(a,b,c){if(c=c||{},a=this._processUrl(a,c),a=i.Util.urlAppend(a,this._getParameterString(b||{})),!this.supportDirectRequest(a,c)){a=a.replace(".json",".jsonp");var d={url:a+="&_method=DELETE",data:b};return h.SuperMap.Util.RequestJSONPPromise.DELETE(d)}return this.urlIsLong(a)?this._postSimulatie("DELETE",a.substring(0,a.indexOf("?")-1),b,c):this._fetch(a,b,c,"DELETE")},post:function(a,b,c){if(c=c||{},!this.supportDirectRequest(a,c)){a=a.replace(".json",".jsonp");var d={url:a+="&_method=POST",data:b};return h.SuperMap.Util.RequestJSONPPromise.POST(d)}return this._fetch(this._processUrl(a,c),b,c,"POST")},put:function(a,b,c){if(c=c||{},a=this._processUrl(a,c),!this.supportDirectRequest(a,c)){a=a.replace(".json",".jsonp");var d={url:a+="&_method=PUT",data:b};return h.SuperMap.Util.RequestJSONPPromise.PUT(d)}return this._fetch(a,b,c,"PUT")},urlIsLong:function(a){for(var b=0,c=null,d=0,e=a.length;e>d;d++)(c=a.charCodeAt(d))<127?b++:c>=128&&2047>=c?b+=2:c>=2048&&65535>=c&&(b+=3);return!(2e3>b)},_postSimulatie:function(a,b,c,d){return b+=(b.indexOf("?")>-1?"&":"?")+"_method="+a,"string"!=typeof c&&(c=JSON.stringify(c)),this.post(b,c,d)},_processUrl:function(a,b){if(this._isMVTRequest(a))return a;if(-1===a.indexOf(".json")&&!b.withoutFormatSuffix)if(a.indexOf("?")<0)a+=".json";else{var c=a.split("?");2===c.length&&(a=c[0]+".json?"+c[1])}return b&&b.proxy&&("function"==typeof b.proxy?a=b.proxy(a):(a=decodeURIComponent(a),a=b.proxy+encodeURIComponent(a))),a},_fetch:function(a,b,c,d){return(c=c||{}).headers=c.headers||{},c.headers["Content-Type"]||(c.headers["Content-Type"]="application/x-www-form-urlencoded;charset=UTF-8"),c.timeout?this._timeout(c.timeout,j(a,{method:d,headers:c.headers,body:"PUT"===d||"POST"===d?b:void 0,credentials:c.withCredentials?"include":"omit",mode:"cors",timeout:l()}).then(function(a){return a})):j(a,{method:d,body:"PUT"===d||"POST"===d?b:void 0,headers:c.headers,credentials:c.withCredentials?"include":"omit",mode:"cors",timeout:l()}).then(function(a){return a})},_fetchJsonp:function(a,b){return b=b||{},g["default"](a,{method:"GET",timeout:b.timeout}).then(function(a){return a})},_timeout:function(a,b){return new Promise1(function(c,d){setTimeout(function(){d(new Error("timeout"))},a),b.then(c,d)})},_getParameterString:function(a){var b=[];for(var c in a){var e=a[c];if(null!=e&&"function"!=typeof e){var f;if("object"===(void 0===e?"undefined":d(e))&&e.constructor===Array){for(var g,h=[],i=0,j=e.length;j>i;i++)g=e[i],h.push(encodeURIComponent(null===g||void 0===g?"":g));f="["+h.join(",")+"]"}else f=encodeURIComponent(e);b.push(encodeURIComponent(c)+"="+f)}}return b.join("&")},_isMVTRequest:function(a){return a.indexOf(".mvt")>-1||a.indexOf(".pbf")>-1}},h.SuperMap.Util.RequestJSONPPromise={limitLength:1500,queryKeys:[],queryValues:[],supermap_callbacks:{},addQueryStrings:function(a){for(var b in a){this.queryKeys.push(b),"string"!=typeof a[b]&&(a[b]=h.SuperMap.Util.toJSON(a[b]));var c=encodeURIComponent(a[b]);this.queryValues.push(c)}},issue:function(a){for(var b=this,c=b.getUid(),d=a.url,e=[],f=new Promise1(function(a){b.supermap_callbacks[c]=function(d){delete b.supermap_callbacks[c],a(d)}}),g=d,h=0,i=b.queryKeys?b.queryKeys.length:0,j=0;i>j;j++)if(g.length+b.queryKeys[j].length+2>=b.limitLength){if(0==h)return!1;e.push(g),g=d,h=0,j--}else if(g.length+b.queryKeys[j].length+2+b.queryValues[j].length>b.limitLength)for(var k=b.queryValues[j];k.length>0;){var l=b.limitLength-g.length-b.queryKeys[j].length-2;g+=g.indexOf("?")>-1?"&":"?";var m=k.substring(0,l);"%"===m.substring(l-1,l)?(l-=1,m=k.substring(0,l)):"%"===m.substring(l-2,l-1)&&(l-=2,m=k.substring(0,l)),g+=b.queryKeys[j]+"="+m,k=k.substring(l),m.length>0&&(e.push(g),g=d,h=0)}else h++,g+=g.indexOf("?")>-1?"&":"?",g+=b.queryKeys[j]+"="+b.queryValues[j];return e.push(g),b.send(e,"SuperMap.Util.RequestJSONPPromise.supermap_callbacks["+c+"]",a&&a.proxy),f},getUid:function(){return 1e3*(new Date).getTime()+Math.floor(1e17*Math.random())},send:function(a,b,c){var d=a.length;if(d>0)for(var e=(new Date).getTime(),f=0;d>f;f++){var h=a[f];h+=h.indexOf("?")>-1?"&":"?",h+="sectionCount="+d,h+="&sectionIndex="+f,h+="&jsonpUserID="+e,c&&(h=decodeURIComponent(h),h=c+encodeURIComponent(h)),g["default"](h,{jsonpCallbackFunction:b,timeout:3e4})}},GET:function(a){return this.queryKeys.length=0,this.queryValues.length=0,this.addQueryStrings(a.params),this.issue(a)},POST:function(a){return this.queryKeys.length=0,this.queryValues.length=0,this.addQueryStrings({requestEntity:a.data}),this.issue(a)},PUT:function(a){return this.queryKeys.length=0,this.queryValues.length=0,this.addQueryStrings({requestEntity:a.data}),this.issue(a)},DELETE:function(a){return this.queryKeys.length=0,this.queryValues.length=0,this.addQueryStrings({requestEntity:a.data}),this.issue(a)}}},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ServerColor=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=b.ServerColor=function(){function a(b,c,d){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.red=b||0==b?b:255,this.green=c||0,this.blue=d||0,this.CLASS_NAME="SuperMap.ServerColor"}return d(a,[{key:"destroy",value:function(){this.red=null,this.green=null,this.blue=null}}],[{key:"fromJson",value:function(b){if(b){var c=new a,d=255;null!==b.red&&(d=Number(b.red)),c.red=d;var e=0;null!==b.green&&(e=Number(b.green)),c.green=e;var f=0;return null!==b.blue&&(f=Number(b.blue)),c.blue=f,c}}}]),a}();e.SuperMap.ServerColor=f},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.LineString=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(24),g=c(137),h=b.LineString=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.CLASS_NAME="SuperMap.Geometry.LineString",c.geometryType="LineString",c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g.Curve),d(b,[{key:"removeComponent",value:function(a){var c=this.components&&this.components.length>2;return c&&function d(a,b,c){null===a&&(a=Function.prototype);var e=Object.getOwnPropertyDescriptor(a,b);if(void 0===e){var f=Object.getPrototypeOf(a);return null===f?void 0:d(f,b,c)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(c):void 0}(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"removeComponent",this).apply(this,arguments),c}},{key:"getSortedSegments",value:function(){for(var a,b,c=this.components.length-1,d=new Array(c),e=0;c>e;++e)a=this.components[e],b=this.components[e+1],a.x<b.x?d[e]={x1:a.x,y1:a.y,x2:b.x,y2:b.y}:d[e]={x1:b.x,y1:b.y,x2:a.x,y2:a.y};return d.sort(function(a,b){return a.x1-b.x1})}},{key:"getVertices",value:function(a){return!0===a?[this.components[0],this.components[this.components.length-1]]:!1===a?this.components.slice(1,this.components.length-1):this.components.slice()}}],[{key:"calculateCircle",value:function(a){if(a.length<3)return a;var b={},c=a[0],d=a[1],e=a[2],g=0,h=0,i=!0,j=0,k=0,l=0,m=[],n=(e.y-c.y)/(e.x-c.x),o=e.y-n*e.x;if(e.x!=c.x&&e.y!=c.y&&d.y==n*d.x+o||e.x==c.x&&d.x==c.x||e.y==c.y&&d.y==c.y||e.x==c.x&&e.y==c.y||e.x==d.x&&e.y==d.y||c.x==d.x&&c.y==d.y)m.push(c),m.push(d),m.push(e);else{var p=(d.x*d.x+d.y*d.y-(c.x*c.x+c.y*c.y))*(2*(e.y-c.y))-(e.x*e.x+e.y*e.y-(c.x*c.x+c.y*c.y))*(2*(d.y-c.y)),q=2*(d.x-c.x)*(e.x*e.x+e.y*e.y-(c.x*c.x+c.y*c.y))-2*(e.x-c.x)*(d.x*d.x+d.y*d.y-(c.x*c.x+c.y*c.y)),r=4*((d.x-c.x)*(e.y-c.y)-(e.x-c.x)*(d.y-c.y));b.x=p/r,b.y=q/r;var s=(2*(g=Math.sqrt((c.x-b.x)*(c.x-b.x)+(c.y-b.y)*(c.y-b.y)))*g-((c.x-e.x)*(c.x-e.x)+(c.y-e.y)*(c.y-e.y)))/(2*g*g);s=(s=s>=1?1:s)<=-1?-1:s,l=180*Math.acos(s)/Math.PI,h=(l=e.x==c.x?b.x>c.x&&d.x>c.x||b.x<c.x&&d.x<c.x?360-l:l:b.y>n*b.x+o&&d.y>n*d.x+o||b.y<n*b.x+o&&d.y<n*d.x+o?360-l:l)/72,e.y!=c.y?e.x==c.x?e.y>c.y?d.x<c.x&&(i=!1):d.x>c.x&&(i=!1):e.x<c.x?d.y<n*d.x+o&&(i=!1):d.y>n*d.x+o&&(i=!1):e.x>c.x?d.y>c.y&&(i=!1):d.y<c.y&&(i=!1);var t=(c.y-b.y)/(c.x-b.x),u=t>=0?180*Math.atan(t)/Math.PI:Math.abs(180*Math.atan(t)/Math.PI)+90,v=Math.abs(b.y);c.y==v&&v==e.y&&c.x<e.x&&(u+=180);var w=c.y-b.y;m.push(c);for(var x=1;72>x;x++){j=h*x,k=u,i?w>=0?t>=0?k+=j:k=180-(k-90)+j:k=t>0?k-180+j:90-k+j:w>=0?t>=0?k-=j:k=180-(k-90)-j:k=t>=0?k-180-j:90-k-j,k=k*Math.PI/180;var y=b.x+g*Math.cos(k),z=b.y+g*Math.sin(k);m.push(new f.Point(y,z))}m.push(e)}return m}},{key:"createLineEPS",value:function(a){var c=[],d=a.length;if(2>d)return a;for(var e=0;d>e;)if("LTypeArc"==a[e].type){var f=b.createLineArc(c,e,d,a);c=f[0],e=f[1]}else c.push(a[e]),e++;return c}},{key:"createLineArc",value:function(a,c,d,e){if(0==c){var f=b.addPointEPS(e,c,d,"LTypeArc");Array.prototype.push.apply(a,f[0]),c=f[1]+1}else if(c==d-1){var g=[e[c-1],e[c]],h=b.calculateCircle(g);Array.prototype.push.apply(a,h),c++}else{var i=b.addPointEPS(e,c,d,"LTypeArc");a.pop(),Array.prototype.push.apply(a,i[0]),c=i[1]+1}return[a,c]}},{key:"addPointEPS",value:function(a,c,d,e){var f,g=[],h=c+1;return 0==c?Array.prototype.push.apply(g,[a[c],a[c+1]]):c==d-1?Array.prototype.push.apply(g,[a[c-1],a[c]]):Array.prototype.push.apply(g,[a[c-1],a[c],a[c+1]]),"LTypeCurve"==e?f=b.calculatePointsFBZN(g):"LTypeArc"==e&&(f=b.calculateCircle(g)),[f,h]}}]),b}();e.SuperMap.Geometry.LineString=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Point=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(29),g=c(30),h=c(1),i=b.Point=function(a){function b(a,c,d,e){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var f=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d,e));return f.x=parseFloat(a),f.y=parseFloat(c),f.tag=e||0==e?parseFloat(e):null,f.type=d||"Point",f.CLASS_NAME="SuperMap.Geometry.Point",f.geometryType="Point",f}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,f.Geometry),d(b,[{key:"clone",value:function(a){return null==a&&(a=new b(this.x,this.y)),h.Util.applyDefaults(a,this),a}},{key:"calculateBounds",value:function(){this.bounds=new g.Bounds(this.x,this.y,this.x,this.y)}},{key:"equals",value:function(a){var b=!1;return null!=a&&(b=this.x===a.x&&this.y===a.y||isNaN(this.x)&&isNaN(this.y)&&isNaN(a.x)&&isNaN(a.y)),b}},{key:"move",value:function(a,b){this.x=this.x+a,this.y=this.y+b,this.clearBounds()}},{key:"toShortString",value:function(){return this.x+", "+this.y}},{key:"destroy",value:function(){this.x=null,this.y=null,this.tag=null,function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0}(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"getVertices",value:function(a){return[this]}}]),b}();e.SuperMap.Geometry.Point=i},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.CommontypesConversion=void 0;var d,e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=c(2),g=(d=f)&&d.__esModule?d:{"default":d};c(3);var h=c(5),i=b.CommontypesConversion=function(){function a(){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a)}return e(a,null,[{key:"toSuperMapBounds",value:function(a){return a&&-1!==["FeatureCollection","Feature"].indexOf(a.type)&&(a=g["default"].geoJSON(a).getBounds()),a instanceof g["default"].LatLngBounds?new h.Bounds(a.getSouthWest().lng,a.getSouthWest().lat,a.getNorthEast().lng,a.getNorthEast().lat):a instanceof g["default"].Bounds?new h.Bounds(a.min.x,a.min.y,a.max.x,a.max.y):this.isArray(a)?new h.Bounds(a[0],a[1],a[2],a[3]):new h.Bounds}},{key:"isArray",value:function(a){return"[object Array]"==Object.prototype.toString.call(a)}},{key:"toProcessingParam",value:function(a){var b={};if(a.length<1)b="";else{for(var c=[],d=0;d<a.length;d++){var e={};e.x=a[d][0],e.y=a[d][1],c.push(e)}b.type="REGION",b.points=c}return b}}]),a}();g["default"].supermap.CommontypesConversion=i},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ShapeParameters=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=b.ShapeParameters=function(){function a(){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.refOriginalPosition=[0,0],this.refDataID=null,this.isHoverByRefDataID=!1,this.refDataHoverGroup=null,this.dataInfo=null,this.clickable=!0,this.hoverable=!0,this.style=null,this.highlightStyle={},this.CLASS_NAME="SuperMap.Feature.ShapeParameters"}return d(a,[{key:"destroy",value:function(){this.refOriginalPosition=null,this.refDataID=null,this.isHoverByRefDataID=null,this.refDataHoverGroup=null,this.dataInfo=null,this.clickable=null,this.hoverable=null,this.style=null,this.highlightStyle=null}}]),a}();e.SuperMap.Feature=e.SuperMap.Feature||{},e.SuperMap.Feature.ShapeParameters=f},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ShapeFactory=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(80),g=c(79),h=c(78),i=c(207),j=c(77),k=c(116),l=c(206),m=c(115),n=c(114),o=c(112),p=c(197),q=c(111),r=c(110),s=c(72),t=c(109),u=c(196),v=c(1),w=b.ShapeFactory=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.shapeParameters=b,this.CLASS_NAME="SuperMap.Feature.ShapeFactory"}return d(a,[{key:"destroy",value:function(){this.shapeParameters=null}},{key:"createShape",value:function(b){if(b&&(this.shapeParameters=b),!this.shapeParameters)return null;var c=this.shapeParameters;if(c instanceof f.Point){var d=new Object;d.x=c.x,d.y=c.y,d.r=c.r,d=v.Util.copyAttributesWithClip(d,c.style,["x","y"]);var e=new n.SmicPoint;return e.style=a.transformStyle(d),e.highlightStyle=a.transformStyle(c.highlightStyle),v.Util.copyAttributesWithClip(e,c,["x","y","style","highlightStyle"]),e}if(c instanceof g.Line){if(!c.pointList)return null;var w=new Object;w.pointList=c.pointList,w=v.Util.copyAttributesWithClip(w,c.style,["pointList"]);var x=new q.SmicBrokenLine;return x.style=a.transformStyle(w),x.highlightStyle=a.transformStyle(c.highlightStyle),v.Util.copyAttributesWithClip(x,c,["pointList","style","highlightStyle"]),x}if(c instanceof h.Polygon){if(!c.pointList)return null;var y=new Object;y.pointList=c.pointList,y=v.Util.copyAttributesWithClip(y,c.style,["pointList"]);var z=new s.SmicPolygon;return z.style=a.transformStyle(y),z.highlightStyle=a.transformStyle(c.highlightStyle),v.Util.copyAttributesWithClip(z,c,["pointList","style","highlightStyle"]),z}if(c instanceof i.Rectangle){if(!c.x&&!c.y&!c.width&!c.height)return null;var A=new Object;A.x=c.x,A.y=c.y,A.width=c.width,A.height=c.height,A=v.Util.copyAttributesWithClip(A,c.style,["x","y","width","height"]);var B=new t.SmicRectangle;return B.style=a.transformStyle(A),B.highlightStyle=a.transformStyle(c.highlightStyle),v.Util.copyAttributesWithClip(B,c,["x","y","width","height","style","highlightStyle"]),B}if(c instanceof j.Sector){var C=new Object;C.x=c.x,C.y=c.y,C.r=c.r,C.startAngle=c.startAngle,C.endAngle=c.endAngle,c.r0&&(C.r0=c.r0),c.clockWise&&(C.clockWise=c.clockWise),C=v.Util.copyAttributesWithClip(C,c.style,["x","y","r","startAngle","endAngle","r0","endAngle"]);var D=new u.SmicSector;return D.style=a.transformStyle(C),D.highlightStyle=a.transformStyle(c.highlightStyle),v.Util.copyAttributesWithClip(D,c,["x","y","r","startAngle","endAngle","r0","endAngle","style","highlightStyle"]),D}if(c instanceof k.Label){var E=new Object;E.x=c.x,E.y=c.y,E.text=c.text,E=v.Util.copyAttributesWithClip(E,c.style,["x","y","text"]);var F=new o.SmicText;return F.style=a.transformStyle(E),F.highlightStyle=a.transformStyle(c.highlightStyle),v.Util.copyAttributesWithClip(F,c,["x","y","text","style","highlightStyle"]),F}if(c instanceof l.Image){var G=new Object;G.x=c.x,G.y=c.y,c.image&&(G.image=c.image),c.width&&(G.width=c.width),c.height&&(G.height=c.height),c.sx&&(G.sx=c.sx),c.sy&&(G.sy=c.sy),c.sWidth&&(G.sWidth=c.sWidth),c.sHeight&&(G.sHeight=c.sHeight),G=v.Util.copyAttributesWithClip(G,c.style,["x","y","image","width","height","sx","sy","sWidth","sHeight"]);var H=new r.SmicImage;return H.style=a.transformStyle(G),H.highlightStyle=a.transformStyle(c.highlightStyle),v.Util.copyAttributesWithClip(H,c,["x","y","image","width","height","style","highlightStyle"]),H}if(c instanceof m.Circle){var I=new Object;I.x=c.x,I.r=c.r,I.y=c.y,I=v.Util.copyAttributesWithClip(I,c.style,["x","y","r"]);var J=new p.SmicCircle;return J.style=a.transformStyle(I),J.highlightStyle=a.transformStyle(c.highlightStyle),v.Util.copyAttributesWithClip(J,c,["x","y","r","style","highlightStyle","lineWidth","text","textPosition"]),J}return null}}],[{key:"transformStyle",value:function(a){var b={},c=["normal","normal","normal","12","arial,sans-serif"],d=[!0,!1];for(var e in a)switch(e){case"fill":d[0]=a[e];break;case"fillColor":b.color=a[e];break;case"stroke":d[1]=a[e];break;case"strokeWidth":b.lineWidth=a[e];break;case"strokeLinecap":b.lineCap=a[e];break;case"strokeLineJoin":b.lineJoin=a[e];break;case"strokeDashstyle":b.lineType=a[e];break;case"pointRadius":b.r=a[e];break;case"label":b.text=a[e];break;case"labelRect":b.labelRect=a[e];break;case"fontColor":b.textColor=a[e];break;case"fontStyle":c[0]=a[e];break;case"fontVariant":c[1]=a[e];break;case"fontWeight":c[2]=a[e];break;case"fontSize":var f="";a[e]&&a[e].toString().indexOf("px")<0&&(f="px"),c[3]=a[e]+f;break;case"fontFamily":c[4]=a[e];break;case"fontOpacity":b.opacity=a[e];break;case"labelPosition":b.textPosition=a[e];break;case"labelAlign":b.textAlign=a[e];break;case"labelBaseline":b.textBaseline=a[e];break;case"labelRotation":b.textRotation=a[e];break;default:b[e]=a[e]}return b.textFont=c.join(" "),!0===d[0]&&!1===d[1]?b.brushType="fill":!1===d[0]&&!0===d[1]?b.brushType="stroke":!0===d[0]&&!0===d[1]?b.brushType="both":b.brushType="fill",null==b.lineWidth&&(b.lineWidth=1),b}},{key:"Background",value:function(a,b,c){var d=c||{},e=new i.Rectangle(b[0],b[3],Math.abs(b[2]-b[0]),Math.abs(b[3]-b[1]));return e.style={fillColor:"#f3f3f3"},d.backgroundStyle&&v.Util.copyAttributesWithClip(e.style,d.backgroundStyle),d.backgroundRadius&&(e.style.radius=d.backgroundRadius),e.clickable=!1,e.hoverable=!1,a.createShape(e)}},{key:"GraphAxis",value:function(a,b,c,d){var e,f=b,i=c||{},j=[],l=[],m=!!i.useXReferenceLine&&i.useXReferenceLine,n=i.axisYTick&&!isNaN(i.axisYTick)?i.axisYTick:0,o=[],p=[];if(0==n){if(p.push([f[0],f[3]-5]),p.push([f[0],f[1]]),i.axis3DParameter&&!isNaN(i.axis3DParameter)&&i.axis3DParameter>=15){var q=parseInt(i.axis3DParameter),r=[f[0]-q,f[1]+q];i.axisUseArrow?(o.push([r[0]+1.5,r[1]-7.5]),o.push([r[0]-1,r[1]+1]),o.push([r[0]+7.5,r[1]-1.5]),p.push([r[0],r[1]])):p.push([r[0],r[1]]),p.push([f[0],f[1]])}p.push([f[2]+5,f[1]])}else{var s=Math.abs(f[1]-f[3])/n,t=f[3];p.push([f[0],t-5]);for(var u=0;n>u;u++){if(p.push([f[0],t]),p.push([f[0]-5,t]),p.push([f[0],t]),m){var w=new g.Line([[f[0],t],[f[2],t]]);w.style={strokeColor:"#cfcfcf",strokeLinecap:"butt",strokeLineJoin:"round",strokeWidth:1},w.clickable=!1,w.hoverable=!1,i.xReferenceLineStyle&&v.Util.copyAttributesWithClip(w.style,i.xReferenceLineStyle),j.push(a.createShape(w))}t+=s}if(p.push([f[0],f[1]]),i.axis3DParameter&&!isNaN(i.axis3DParameter)&&i.axis3DParameter>=15){var x=parseInt(i.axis3DParameter),y=[f[0]-x,f[1]+x];i.axisUseArrow?(o.push([y[0]+1.5,y[1]-7.5]),o.push([y[0]-1,y[1]+1]),o.push([y[0]+7.5,y[1]-1.5]),p.push([y[0],y[1]])):p.push([y[0],y[1]]),p.push([f[0],f[1]])}p.push([f[2]+5,f[1]])}if(i.axisUseArrow){var z=[[f[2]+5,f[1]+4],[f[2]+13,f[1]],[f[2]+5,f[1]-4]],A=[[f[0]-4,f[3]-5],[f[0],f[3]-13],[f[0]+4,f[3]-5]],B=new h.Polygon(z);B.style={fillColor:"#008acd"},v.Util.copyAttributesWithClip(B.style,i.axisStyle),l.push(a.createShape(B));var C=new h.Polygon(A);if(C.style={fillColor:"#008acd"},v.Util.copyAttributesWithClip(C.style,i.axisStyle),l.push(a.createShape(C)),i.axis3DParameter&&!isNaN(i.axis3DParameter)&&i.axis3DParameter>=15){var D=new h.Polygon(o);D.style={fillColor:"#008acd"},v.Util.copyAttributesWithClip(D.style,i.axisStyle),l.push(a.createShape(D))}}e=p;var E=new g.Line(e);E.style={strokeLinecap:"butt",strokeLineJoin:"round",strokeColor:"#008acd",strokeWidth:1},i.axisStyle&&v.Util.copyAttributesWithClip(E.style,i.axisStyle),E.clickable=!1,E.hoverable=!1;var F=[a.createShape(E)],G=[];if(i.axisYLabels&&i.axisYLabels.length&&i.axisYLabels.length>0){var H=i.axisYLabels,I=H.length,J=[0,0];if(i.axisYLabelsOffset&&i.axisYLabelsOffset.length&&(J=i.axisYLabelsOffset),1==I){var K=new k.Label(f[0]-5+J[0],f[3]+J[1],H[0]);K.style={labelAlign:"right"},i.axisYLabelsStyle&&v.Util.copyAttributesWithClip(K.style,i.axisYLabelsStyle),K.clickable=!1,K.hoverable=!1,G.push(a.createShape(K))}else for(var L=f[3],M=Math.abs(f[1]-f[3])/(I-1),N=0;I>N;N++){var O=new k.Label(f[0]-5+J[0],L+J[1],H[N]);O.style={labelAlign:"right"},i.axisYLabelsStyle&&v.Util.copyAttributesWithClip(O.style,i.axisYLabelsStyle),O.clickable=!1,O.hoverable=!1,G.push(a.createShape(O)),L+=M}}var P=[];if(i.axisXLabels&&i.axisXLabels.length&&i.axisXLabels.length>0){var Q=i.axisXLabels,R=Q.length,S=[0,0];if(i.axisXLabelsOffset&&i.axisXLabelsOffset.length&&(S=i.axisXLabelsOffset),d&&d.xPositions&&d.xPositions.length&&d.xPositions.length==R)for(var T=d.xPositions,U=0;R>U;U++){var V=new k.Label(T[U]+S[0],f[1]+S[1],Q[U]);V.style={labelAlign:"center",labelBaseline:"top"},i.axisXLabelsStyle&&v.Util.copyAttributesWithClip(V.style,i.axisXLabelsStyle),V.clickable=!1,V.hoverable=!1,P.push(a.createShape(V))}else if(1==R){var W=new k.Label(f[0]-5+S[0],f[1]+S[0],Q[0]);W.style={labelAlign:"center",labelBaseline:"top"},i.axisXLabelsStyle&&v.Util.copyAttributesWithClip(W.style,i.axisXLabelsStyle),W.clickable=!1,W.hoverable=!1,P.push(a.createShape(W))}else for(var X=f[0],Y=Math.abs(f[2]-f[0])/(R-1),Z=0;R>Z;Z++){var $=new k.Label(X+S[0],f[1]+S[1],Q[Z]);$.style={labelAlign:"center",labelBaseline:"top"},i.axisXLabelsStyle&&v.Util.copyAttributesWithClip($.style,i.axisXLabelsStyle),$.clickable=!1,$.hoverable=!1,P.push(a.createShape($)),X+=Y}}return j.concat(F).concat(G).concat(P).concat(l)}},{key:"ShapeStyleTool",value:function(a,b,c,d,e,f){var g=a||{};if(b&&v.Util.copyAttributesWithClip(g,b),c&&c.length&&void 0!==e&&!isNaN(e)&&e>=0&&c[e]&&v.Util.copyAttributesWithClip(g,c[e]),d&&d.length&&void 0!==f)for(var h=d,i=h.length,j=parseFloat(f),k=0;i>k;k++)if(h[k].start<=j&&j<h[k].end){v.Util.copyAttributesWithClip(g,h[k].style);break}return g}}]),a}();e.SuperMap.Feature=e.SuperMap.Feature||{},e.SuperMap.Feature.ShapeFactory=w},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Theme=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1);c(265);var g=b.Theme=function(){function a(b,c){return function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),b?(this.memoryData=null,this.type=b,c&&f.Util.extend(this,c),this.CLASS_NAME="SuperMap.Theme",void 0):this}return d(a,[{key:"destroy",value:function(){this.memoryData&&(this.memoryData.destroy(),this.memoryData=null),this.type=null}},{key:"toServerJSONObject",value:function(){}}]),a}();e.SuperMap.Theme=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Geometry=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=b.Geometry=function(){function a(){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.CLASS_NAME="SuperMap.Geometry",this.id=f.Util.createUniqueID(this.CLASS_NAME+"_"),this.parent=null,this.bounds=null,this.SRID=null}return d(a,[{key:"destroy",value:function(){this.id=null,this.bounds=null,this.SRID=null}},{key:"clone",value:function(){return new a}},{key:"setBounds",value:function(a){a&&(this.bounds=a.clone())}},{key:"clearBounds",value:function(){this.bounds=null,this.parent&&this.parent.clearBounds()}},{key:"extendBounds",value:function(a){this.getBounds()?this.bounds.extend(a):this.setBounds(a)}},{key:"getBounds",value:function(){return null==this.bounds&&this.calculateBounds(),this.bounds}},{key:"calculateBounds",value:function(){}},{key:"getVertices",value:function(a){}},{key:"getArea",value:function(){return 0}}]),a}();e.SuperMap.Geometry=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Bounds=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(324),g=c(92),h=c(49),i=c(1),j=b.Bounds=function(){function a(b,c,d,e){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),i.Util.isArray(b)&&(e=b[3],d=b[2],c=b[1],b=b[0]),this.left=null!=b?i.Util.toFloat(b):this.left,this.bottom=null!=c?i.Util.toFloat(c):this.bottom,this.right=null!=d?i.Util.toFloat(d):this.right,this.top=null!=e?i.Util.toFloat(e):this.top,this.centerLonLat=null,this.CLASS_NAME="SuperMap.Bounds"}return d(a,[{key:"clone",value:function(){return new a(this.left,this.bottom,this.right,this.top)}},{key:"equals",value:function(a){var b=!1;return null!=a&&(b=this.left===a.left&&this.right===a.right&&this.top===a.top&&this.bottom===a.bottom),b}},{key:"toString",value:function(){return[this.left,this.bottom,this.right,this.top].join(",")}},{key:"toArray",value:function(a){return!0===a?[this.bottom,this.left,this.top,this.right]:[this.left,this.bottom,this.right,this.top]}},{key:"toBBOX",value:function(a,b){null==a&&(a=6);var c=Math.pow(10,a),d=Math.round(this.left*c)/c,e=Math.round(this.bottom*c)/c,f=Math.round(this.right*c)/c,g=Math.round(this.top*c)/c;return!0===b?e+","+d+","+g+","+f:d+","+e+","+f+","+g}},{key:"getWidth",value:function(){return this.right-this.left}},{key:"getHeight",value:function(){return this.top-this.bottom}},{key:"getSize",value:function(){return new f.Size(this.getWidth(),this.getHeight())}},{key:"getCenterPixel",value:function(){return new g.Pixel((this.left+this.right)/2,(this.bottom+this.top)/2)}},{key:"getCenterLonLat",value:function(){return this.centerLonLat||(this.centerLonLat=new h.LonLat((this.left+this.right)/2,(this.bottom+this.top)/2)),this.centerLonLat}},{key:"scale",value:function(b,c){var d,e;return b=b||1,null==c&&(c=this.getCenterLonLat()),"SuperMap.LonLat"===c.CLASS_NAME?(d=c.lon,e=c.lat):(d=c.x,e=c.y),new a((this.left-d)*b+d,(this.bottom-e)*b+e,(this.right-d)*b+d,(this.top-e)*b+e)}},{key:"add",value:function(b,c){if(null==b||null==c)throw new TypeError("Bounds.add cannot receive null values");return new a(this.left+b,this.bottom+c,this.right+b,this.top+c)}},{key:"extend",value:function(b){var c=null;if(b){switch(b.CLASS_NAME){case"SuperMap.LonLat":c=new a(b.lon,b.lat,b.lon,b.lat);break;case"SuperMap.Geometry.Point":c=new a(b.x,b.y,b.x,b.y);break;case"SuperMap.Bounds":c=b}c&&(this.centerLonLat=null,(null==this.left||c.left<this.left)&&(this.left=c.left),(null==this.bottom||c.bottom<this.bottom)&&(this.bottom=c.bottom),
(null==this.right||c.right>this.right)&&(this.right=c.right),(null==this.top||c.top>this.top)&&(this.top=c.top))}}},{key:"containsLonLat",value:function(a,b){"boolean"==typeof b&&(b={inclusive:b}),b=b||{};var c=this.contains(a.lon,a.lat,b.inclusive),d=b.worldBounds;if(d&&!c){var e=d.getWidth(),f=(d.left+d.right)/2,g=Math.round((a.lon-f)/e);c=this.containsLonLat({lon:a.lon-g*e,lat:a.lat},{inclusive:b.inclusive})}return c}},{key:"containsPixel",value:function(a,b){return this.contains(a.x,a.y,b)}},{key:"contains",value:function(a,b,c){if(null==c&&(c=!0),null==a||null==b)return!1;var d=!1;return d=c?a>=this.left&&a<=this.right&&b>=this.bottom&&b<=this.top:a>this.left&&a<this.right&&b>this.bottom&&b<this.top}},{key:"intersectsBounds",value:function(a,b){if("boolean"==typeof b&&(b={inclusive:b}),(b=b||{}).worldBounds){var c=this.wrapDateLine(b.worldBounds);a=a.wrapDateLine(b.worldBounds)}else c=this;null==b.inclusive&&(b.inclusive=!0);var d=!1,e=c.left===a.right||c.right===a.left||c.top===a.bottom||c.bottom===a.top;if(b.inclusive||!e){var f=a.bottom>=c.bottom&&a.bottom<=c.top||c.bottom>=a.bottom&&c.bottom<=a.top,g=a.top>=c.bottom&&a.top<=c.top||c.top>a.bottom&&c.top<a.top,h=a.left>=c.left&&a.left<=c.right||c.left>=a.left&&c.left<=a.right,i=a.right>=c.left&&a.right<=c.right||c.right>=a.left&&c.right<=a.right;d=(f||g)&&(h||i)}if(b.worldBounds&&!d){var j=b.worldBounds,k=j.getWidth(),l=!j.containsBounds(c),m=!j.containsBounds(a);l&&!m?(a=a.add(-k,0),d=c.intersectsBounds(a,{inclusive:b.inclusive})):m&&!l&&(c=c.add(-k,0),d=a.intersectsBounds(c,{inclusive:b.inclusive}))}return d}},{key:"containsBounds",value:function(a,b,c){null==b&&(b=!1),null==c&&(c=!0);var d=this.contains(a.left,a.bottom,c),e=this.contains(a.right,a.bottom,c),f=this.contains(a.left,a.top,c),g=this.contains(a.right,a.top,c);return b?d||e||f||g:d&&e&&f&&g}},{key:"determineQuadrant",value:function(a){var b="",c=this.getCenterLonLat();return b+=a.lat<c.lat?"b":"t",b+=a.lon<c.lon?"l":"r"}},{key:"wrapDateLine",value:function(a,b){var c=(b=b||{}).leftTolerance||0,d=b.rightTolerance||0,e=this.clone();if(a){for(var f=a.getWidth();e.left<a.left&&e.right-d<=a.left;)e=e.add(f,0);for(;e.left+c>=a.right&&e.right>a.right;)e=e.add(-f,0);var g=e.left+c;g<a.right&&g>a.left&&e.right-d>a.right&&(e=e.add(-f,0))}return e}},{key:"toServerJSONObject",value:function(){return{rightTop:{x:this.right,y:this.top},leftBottom:{x:this.left,y:this.bottom},left:this.left,right:this.right,top:this.top,bottom:this.bottom}}},{key:"destroy",value:function(){this.left=null,this.right=null,this.top=null,this.bottom=null,this.centerLonLat=null}}],[{key:"fromString",value:function(b,c){var d=b.split(",");return a.fromArray(d,c)}},{key:"fromArray",value:function(b,c){return!0===c?new a(b[1],b[0],b[3],b[2]):new a(b[0],b[1],b[2],b[3])}},{key:"fromSize",value:function(b){return new a(0,b.h,b.w,0)}},{key:"oppositeQuadrant",value:function(a){var b="";return b+="t"===a.charAt(0)?"b":"t",b+="l"===a.charAt(1)?"r":"l"}}]),a}();e.SuperMap.Bounds=j},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.NormalizeScale=b.GetResolutionFromScaleDpi=b.scaleToResolution=b.resolutionToScale=b.getMeterPerMapUnit=b.toSuperMapGeometry=b.toGeoJSON=b.supermap_callbacks=void 0;var d,e=c(2),f=(d=e)&&d.__esModule?d:{"default":d},g=c(5),h=b.supermap_callbacks={};f["default"].Util.supermap_callbacks=h;var i=b.toGeoJSON=function(a){return a?(new g.GeoJSON).toGeoJSON(a):a},j=b.toSuperMapGeometry=function(a){if(!a)return a;var b,c=new g.GeoJSON;if(-1!=["FeatureCollection","Feature","Geometry"].indexOf(a.type))b=c.read(a,a.type);else if("function"==typeof a.toGeoJSON){var d=a.toGeoJSON();b=d?c.read(d,d.type):a}var e=b;return f["default"].Util.isArray(b)&&(1===b.length?e=b[0]:b.length>1&&(e=[],b.map(function(a){return e.push(a.geometry),a}))),e&&e.geometry?e.geometry:e},k=b.getMeterPerMapUnit=function(a){var b;if(a===g.Unit.METER)b=1;else if(a===g.Unit.DEGREE)b=2*Math.PI*6378137/360;else if(a===g.Unit.KILOMETER)b=.001;else if(a===g.Unit.INCH)b=1/.025399999918;else{if(a!==g.Unit.FOOT)return b;b=.3048}return b},l=b.resolutionToScale=function(a,b,c){var d=a*b*(1/.0254)*k(c);return d=1/d},m=b.scaleToResolution=function(a,b,c){var d=a*b*(1/.0254)*k(c);return d=1/d},n=b.GetResolutionFromScaleDpi=function(a,b,c,d){return d=d||6378137,c=c||"",a>0&&b>0?(a=f["default"].Util.NormalizeScale(a),"degree"===c.toLowerCase()||"degrees"===c.toLowerCase()||"dd"===c.toLowerCase()?254/b/a/(2*Math.PI*d/360)/1e4:254/b/a/1e4):-1},o=b.NormalizeScale=function(a){return a>1?1/a:a};f["default"].Util.toGeoJSON=i,f["default"].Util.toSuperMapGeometry=j,f["default"].Util.resolutionToScale=l,f["default"].Util.scaleToResolution=m,f["default"].Util.getMeterPerMapUnit=k,f["default"].Util.GetResolutionFromScaleDpi=n,f["default"].Util.NormalizeScale=o},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Graph=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(30),g=c(71),h=c(27),i=b.Graph=function(a){function b(a,c,d,e,f,g){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var i=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d,e,f,g));return i.shapeFactory=new h.ShapeFactory,i.shapeParameters=null,i.RelativeCoordinate=!1,i.setting=null,i.origonPoint=null,i.chartBox=null,i.chartBounds=null,i.width=null,i.height=null,i.XOffset=0,i.YOffset=0,i.DVBParameter=null,i.dataViewBox=null,i.DVBCodomain=null,i.DVBCenterPoint=null,i.DVBUnitValue=null,i.DVBOrigonPoint=null,i.DVBWidth=null,i.DVBHeight=null,i.origonPointOffset=null,i.fields=d||[],i.dataValues=null,i.lonlat=f||i.data.geometry.getBounds().getCenterLonLat(),e&&e.width&&e.height&&e.codomain&&(i.setting=e),i.CLASS_NAME="SuperMap.Feature.Theme.Graph",i}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g.Theme),d(b,[{key:"destroy",value:function(){this.shapeFactory=null,this.shapeParameters=null,this.width=null,this.height=null,this.origonPoint=null,this.chartBox=null,this.dataViewBox=null,this.chartBounds=null,this.DVBParameter=null,this.DVBOrigonPoint=null,this.DVBCenterPoint=null,this.DVBWidth=null,this.DVBHeight=null,this.DVBCodomain=null,this.DVBUnitValue=null,this.origonPointOffset=null,this.XOffset=null,this.YOffset=null,this.fields=null,this.dataValues=null,this.setting=null,function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0}(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"initBaseParameter",value:function(){if(!this.setting)return!1;var a=this.setting;if(!(a.width&&a.height&&a.codomain))return!1;var b=void 0===a.decimalNumber||isNaN(a.decimalNumber)?-1:a.decimalNumber,c=g.Theme.getDataValues(this.data,this.fields,b);this.dataValues=c||[],this.width=parseFloat(a.width),this.height=parseFloat(a.height),this.DVBCodomain=a.codomain,this.XOffset=a.XOffset?a.XOffset:0,this.YOffset=a.YOffset?a.YOffset:0,this.origonPoint=[],this.chartBox=[],this.dataViewBox=[],this.DVBParameter=a.dataViewBoxParameter?a.dataViewBoxParameter:[0,0,0,0],this.DVBOrigonPoint=[],this.DVBCenterPoint=[],this.origonPointOffset=[],this.resetLocation();var d=this.width,e=this.height,f=this.location;this.origonPoint=[f[0]-d/2,f[1]-e/2];var h=this.origonPoint;this.chartBox=[h[0],h[1]+e,h[0]+d,h[1]];var i=this.chartBox,j=this.DVBParameter;this.dataViewBox=[i[0]+j[0],i[1]-j[1],i[2]-j[2],i[3]+j[3]];var k=this.dataViewBox;return!(k[0]>=k[2]||k[1]<=k[3]||(this.DVBOrigonPoint=[k[0],k[3]],this.DVBWidth=Math.abs(k[2]-k[0]),this.DVBHeight=Math.abs(k[1]-k[3]),this.DVBCenterPoint=[this.DVBOrigonPoint[0]+this.DVBWidth/2,this.DVBOrigonPoint[1]+this.DVBHeight/2],this.origonPointOffset=[this.DVBOrigonPoint[0]-h[0],this.DVBOrigonPoint[1]-h[1]],0))}},{key:"resetLocation",value:function(a){a&&(this.lonlat=a);var b=this.getLocalXY(this.lonlat);b[0]+=this.XOffset,b[1]+=this.YOffset,this.location=b;var c=this.width,d=this.height,e=this.location;return this.chartBounds=new f.Bounds(e[0]-c/2,e[1]+d/2,e[0]+c/2,e[1]-d/2),this.resetLinearGradient(),e}},{key:"resetLinearGradient",value:function(){}},{key:"shapesConvertToRelativeCoordinate",value:function(){for(var a=this.shapes,b=this.location,c=0,d=a.length;d>c;c++){a[c].refOriginalPosition=b;var e=a[c].style;for(var f in e)switch(f){case"pointList":for(var g=e[f],h=0,i=g.length;i>h;h++)g[h][0]-=b[0],g[h][1]-=b[1];break;case"x":e[f]-=b[0];break;case"y":e[f]-=b[1]}}this.RelativeCoordinate=!0}},{key:"assembleShapes",value:function(){}},{key:"getLocalXY",value:function(a){return this.layer.getLocalXY(a)}}]),b}();g.Theme.getDataValues=function(a,b,c){if(!a.attributes)return!1;for(var d=[],e=a.attributes,f=0;f<b.length;f++)for(var g in e)if(g===b[f])try{!isNaN(c)&&c>=0?d.push(parseFloat(e[g].toString()).toFixed(c)):d.push(parseFloat(e[g].toString()))}catch(a){throw new Error("not a number")}return d.length===b.length&&d},e.SuperMap.Feature.Theme.Graph=i},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();b.Util=function(){function a(){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.BUILTIN_OBJECT={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1},this._ctx=null,this._canvas=null,this._pixelCtx=null,this._width=null,this._height=null,this._offsetX=0,this._offsetY=0,this.CLASS_NAME="SuperMap.LevelRenderer.Tool.Util"}return e(a,[{key:"clone",value:function(a){var b=this.BUILTIN_OBJECT;if("object"==(void 0===a?"undefined":d(a))&&null!==a){var c=a;if(a instanceof Array){c=[];for(var e=0,f=a.length;f>e;e++)c[e]=this.clone(a[e])}else if(!b[Object.prototype.toString.call(a)])for(var g in c={},a)a.hasOwnProperty(g)&&(c[g]=this.clone(a[g]));return c}return a}},{key:"mergeItem",value:function(a,b,c,e){var f=this.BUILTIN_OBJECT;b.hasOwnProperty(c)&&("object"!=d(a[c])||f[Object.prototype.toString.call(a[c])]?!e&&c in a||(a[c]=b[c]):this.merge(a[c],b[c],e))}},{key:"merge",value:function(a,b,c){for(var d in b)this.mergeItem(a,b,d,c);return a}},{key:"getContext",value:function(){return this._ctx||(this._ctx=document.createElement("canvas").getContext("2d")),this._ctx}},{key:"getPixelContext",value:function(){return this._pixelCtx||(this._canvas=document.createElement("canvas"),this._width=this._canvas.width,this._height=this._canvas.height,this._pixelCtx=this._canvas.getContext("2d")),this._pixelCtx}},{key:"adjustCanvasSize",value:function(a,b){var c,d=this._canvas,e=this._pixelCtx,f=this._width,g=this._height,h=this._offsetX,i=this._offsetY;a+h>f&&(f=a+h+100,d.width=f,c=!0),b+i>g&&(g=b+i+100,d.height=g,c=!0),-h>a&&(f+=h=100*Math.ceil(-a/100),d.width=f,c=!0),-i>b&&(g+=i=100*Math.ceil(-b/100),d.height=g,c=!0),c&&e.translate(h,i)}},{key:"getPixelOffset",value:function(){return{x:this._offsetX,y:this._offsetY}}},{key:"indexOf",value:function(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1}},{key:"inherits",value:function(a,b){function c(){}var d=a.prototype;for(var e in c.prototype=b.prototype,a.prototype=new c,d)a.prototype[e]=d[e];a.constructor=a}}]),a}()},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Collection=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(30),g=c(29),h=c(1),i=b.Collection=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return c.components=[],c.componentTypes=null,null!=a&&c.addComponents(a),c.CLASS_NAME="SuperMap.Geometry.Collection",c.geometryType="Collection",c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g.Geometry),d(b,[{key:"destroy",value:function(){this.components.length=0,this.components=null,function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0}(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"clone",value:function(){for(var a=new b,c=0,d=this.components.length;d>c;c++)a.addComponent(this.components[c].clone());return h.Util.applyDefaults(a,this),a}},{key:"getComponentsString",value:function(){for(var a=[],b=0,c=this.components.length;c>b;b++)a.push(this.components[b].toShortString());return a.join(",")}},{key:"calculateBounds",value:function(){this.bounds=null;var a=new f.Bounds,b=this.components;if(b)for(var c=0,d=b.length;d>c;c++)a.extend(b[c].getBounds());null!=a.left&&null!=a.bottom&&null!=a.right&&null!=a.top&&this.setBounds(a)}},{key:"addComponents",value:function(a){h.Util.isArray(a)||(a=[a]);for(var b=0,c=a.length;c>b;b++)this.addComponent(a[b])}},{key:"addComponent",value:function(a,b){var c=!1;if(a&&(null==this.componentTypes||h.Util.indexOf(this.componentTypes,a.CLASS_NAME)>-1)){if(null!=b&&b<this.components.length){var d=this.components.slice(0,b),e=this.components.slice(b,this.components.length);d.push(a),this.components=d.concat(e)}else this.components.push(a);a.parent=this,this.clearBounds(),c=!0}return c}},{key:"removeComponents",value:function(a){var b=!1;h.Util.isArray(a)||(a=[a]);for(var c=a.length-1;c>=0;--c)b=this.removeComponent(a[c])||b;return b}},{key:"removeComponent",value:function(a){return h.Util.removeItem(this.components,a),this.clearBounds(),!0}},{key:"getArea",value:function(){for(var a=0,b=0,c=this.components.length;c>b;b++)a+=this.components[b].getArea();return a}},{key:"equals",value:function(a){var b=!0;if(a&&a.CLASS_NAME&&this.CLASS_NAME===a.CLASS_NAME)if(h.Util.isArray(a.components)&&a.components.length===this.components.length){for(var c=0,d=this.components.length;d>c;++c)if(!this.components[c].equals(a.components[c])){b=!1;break}}else b=!1;else b=!1;return b}},{key:"getVertices",value:function(a){for(var b=[],c=0,d=this.components.length;d>c;++c)Array.prototype.push.apply(b,this.components[c].getVertices(a));return b}}]),b}();e.SuperMap.Geometry.Collection=i},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.TemplateBase=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=b.TemplateBase=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),b=b||{},this.id=b.id?b.id:null,this.rootContainer=null}return d(a,[{key:"getElement",value:function(){return this.id&&(this.rootContainer.id=this.id),this.rootContainer}},{key:"_initView",value:function(){}},{key:"showView",value:function(){this.rootContainer.hidden=!1}},{key:"closeView",value:function(){this.rootContainer.hidden=!0}}]),a}();e.SuperMap.Widgets.TemplateBase=f},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.InterpolationAnalystParameters=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1);c(300);var g=b.InterpolationAnalystParameters=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),b&&(this.bounds=null,this.searchRadius=0,this.zValueFieldName=null,this.zValueScale=1,this.resolution=null,this.filterQueryParameter=null,this.outputDatasetName=null,this.outputDatasourceName=null,this.pixelFormat=null,this.dataset=null,this.inputPoints=null,this.InterpolationAnalystType="dataset",this.clipParam=null,f.Util.extend(this,b),this.CLASS_NAME="SuperMap.InterpolationAnalystParameters")}return d(a,[{key:"destroy",value:function(){var a=this;a.bounds=null,a.searchRadius=null,a.zValueFieldName=null,a.zValueScale=null,a.resolution=null,a.filterQueryParameter=null,a.outputDatasetName=null,a.pixelFormat=null}}],[{key:"toObject",value:function(a,b){for(var c in a)if("inputPoints"===c&&"geometry"===a.InterpolationAnalystType){for(var d=[],e=0;e<a.inputPoints.length;e++){var f=a.inputPoints[e],g={x:f.x,y:f.y,z:f.tag};d.push(g)}b[c]=d}else b[c]=a[c]}}]),a}();e.SuperMap.InterpolationAnalystParameters=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ServerTextStyle=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(4),h=c(22),i=b.ServerTextStyle=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.align=g.TextAlignment.BASELINECENTER,this.backColor=new h.ServerColor(255,255,255),this.foreColor=new h.ServerColor(0,0,0),this.backOpaque=!1,this.sizeFixed=!0,this.fontHeight=6,this.fontWidth=0,this.fontWeight=400,this.fontName="Times New Roman",this.bold=!1,this.italic=!1,this.italicAngle=0,this.shadow=!1,this.strikeout=!1,this.outline=!1,this.opaqueRate=0,this.underline=!1,this.rotation=0,b&&f.Util.extend(this,b),this.CLASS_NAME="SuperMap.ServerTextStyle"}return d(a,[{key:"destroy",value:function(){var a=this;a.align=null,a.backColor&&(a.backColor.destroy(),a.backColor=null),a.foreColor&&(a.foreColor.destroy(),a.foreColor=null),a.backOpaque=null,a.sizeFixed=null,a.fontHeight=null,a.fontWidth=null,a.fontWeight=null,a.fontName=null,a.bold=null,a.italic=null,a.italicAngle=null,a.shadow=null,a.strikeout=null,a.outline=null,a.opaqueRate=null,a.underline=null,a.rotation=null}}],[{key:"fromObj",value:function(b){var c=new a(b);return f.Util.copy(c,b),c.backColor=h.ServerColor.fromJson(b.backColor),c.foreColor=h.ServerColor.fromJson(b.foreColor),c}}]),a}();e.SuperMap.ServerTextStyle=i},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.TransportationAnalystParameter=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(297),h=b.TransportationAnalystParameter=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),b&&(this.barrierEdgeIDs=null,this.barrierNodeIDs=null,this.barrierPoints=null,this.weightFieldName=null,this.turnWeightField=null,this.resultSetting=new g.TransportationAnalystResultSetting,f.Util.extend(this,b),this.CLASS_NAME="SuperMap.TransportationAnalystParameter")}return d(a,[{key:"destroy",value:function(){var a=this;if(a.barrierEdgeIDs=null,a.barrierNodeIDs=null,a.weightFieldName=null,a.turnWeightField=null,a.resultSetting&&(a.resultSetting.destroy(),a.resultSetting=null),a.barrierPoints&&a.barrierPoints.length)for(var b in a.barrierPoints)a.barrierPoints[b].destroy();a.barrierPoints=null}}]),a}();e.SuperMap.TransportationAnalystParameter=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.QueryParameters=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1);c(16);var g=c(4),h=b.QueryParameters=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),b&&(this.customParams=null,this.prjCoordSys=null,this.expectCount=1e5,this.networkType=g.GeometryType.LINE,this.queryOption=g.QueryOption.ATTRIBUTEANDGEOMETRY,this.queryParams=null,this.startRecord=0,this.holdTime=10,this.returnCustomResult=!1,this.returnFeatureWithFieldCaption=!1,f.Util.extend(this,b),this.CLASS_NAME="SuperMap.QueryParameters")}return d(a,[{key:"destroy",value:function(){var a=this;if(a.customParams=null,a.expectCount=null,a.networkType=null,a.queryOption=null,a.queryParams){for(var b=0,c=a.queryParams,d=c.length;d>b;b++)c[b].destroy();a.queryParams=null}a.startRecord=null,a.holdTime=null,a.returnCustomResult=null,a.prjCoordSys=null}}]),a}();e.SuperMap.QueryParameters=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SecurityManager=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(21),h=b.SecurityManager=function(){function a(){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a)}return d(a,null,[{key:"generateToken",value:function(a,b){var c=this.servers[a];return c?g.FetchRequest.post(c.tokenServiceUrl,JSON.stringify(b.toJSON())).then(function(a){return a.text()}):void 0}},{key:"registerServers",value:function(a){this.servers=this.servers||{},f.Util.isArray(a)||(a=[a]);for(var b=0;b<a.length;b++){var c=a[b];this.servers[c.server]=c}}},{key:"registerToken",value:function(a,b){if(this.tokens=this.tokens||{},a&&b){var c=this._getTokenStorageKey(a);this.tokens[c]=b}}},{key:"registerKey",value:function(a,b){if(this.keys=this.keys||{},a&&!(a.length<1)&&b){a=f.Util.isArray(a)?a:[a];for(var c=0;c<a.length;c++){var d=this._getUrlRestString(a[0])||a[0];this.keys[d]=b}}}},{key:"getServerInfo",value:function(a){return this.servers=this.servers||{},this.servers[a]}},{key:"getToken",value:function(a){if(a){this.tokens=this.tokens||{};var b=this._getTokenStorageKey(a);return this.tokens[b]}}},{key:"getKey",value:function(a){this.keys=this.keys||{};var b=this._getUrlRestString(a)||a;return this.keys[b]}},{key:"loginiServer",value:function(a,b,c,d){a+="/"===a.substr(a.length-1,1)?"services/security/login.json":"/services/security/login.json";var e={username:b&&b.toString(),password:c&&c.toString(),rememberme:d};return e=JSON.stringify(e),g.FetchRequest.post(a,e,{headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}}).then(function(a){return a.json()})}},{key:"logoutiServer",value:function(a){return a+="/"===a.substr(a.length-1,1)?"services/security/logout":"/services/security/logout",g.FetchRequest.get(a,"",{headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},withoutFormatSuffix:!0}).then(function(){return!0})["catch"](function(){return!1})}},{key:"loginOnline",value:function(b,c){var d=a.SSO+"/login?service="+b;this._open(d,c)}},{key:"loginiPortal",value:function(a,b,c){a+="/"===a.substr(a.length-1,1)?"web/login.json":"/web/login.json";var d={username:b&&b.toString(),password:c&&c.toString()};return d=JSON.stringify(d),g.FetchRequest.post(a,d,{headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},withCredentials:!0}).then(function(a){return a.json()})}},{key:"logoutiPortal",value:function(a){return a+="/"===a.substr(a.length-1,1)?"services/security/logout":"/services/security/logout",g.FetchRequest.get(a,"",{headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},withCredentials:!0,withoutFormatSuffix:!0}).then(function(){return!0})["catch"](function(){return!1})}},{key:"loginManager",value:function(a,b,c){if(f.Util.isInTheSameDomain(a)){var d="/"===a.substr(a.length-1,1)?a+"icloud/security/tokens.json":a+"/icloud/security/tokens.json",e=b||{},h={username:e.userName&&e.userName.toString(),password:e.password&&e.password.toString()};h=JSON.stringify(h);var i=this;return g.FetchRequest.post(d,h,{headers:{Accept:"*/*","Content-Type":"application/json"}}).then(function(a){a.text().then(function(a){return i.imanagerToken=a,a})})}var j=!c||c.isNewTab;this._open(a,j)}},{key:"destroyAllCredentials",value:function(){this.keys=null,this.tokens=null,this.servers=null}},{key:"destroyToken",value:function(a){if(a){var b=this._getTokenStorageKey(a);this.tokens=this.tokens||{},this.tokens[b]&&delete this.tokens[b]}}},{key:"destroyKey",value:function(a){if(a){this.keys=this.keys||{};var b=this._getUrlRestString(a)||a;this.keys[b]&&delete this.keys[b]}}},{key:"_open",value:function(a,b){b=null==b||b;var c=window.screen.availWidth/2-this.INNER_WINDOW_WIDTH/2,d=window.screen.availHeight/2-this.INNER_WINDOW_HEIGHT/2,e="height="+this.INNER_WINDOW_HEIGHT+", width="+this.INNER_WINDOW_WIDTH+",top="+d+", left="+c+",toolbar=no, menubar=no, scrollbars=no, resizable=no, location=no, status=no";b?window.open(a,"login"):window.open(a,"login",e)}},{key:"_getTokenStorageKey",value:function(a){var b=a.match(/(.*?):\/\/([^\/]+)/i);return b?b[0]:a}},{key:"_getUrlRestString",value:function(a){if(!a)return a;var b=a.match(/http:\/\/(.*\/rest)/i);return b?b[0]:a}}]),a}();h.INNER_WINDOW_WIDTH=600,h.INNER_WINDOW_HEIGHT=600,h.SSO="https://sso.supermap.com",h.ONLINE="http://www.supermapol.com",e.SuperMap.SecurityManager=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.LinearRing=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=function i(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:i(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0!==f?f.call(c):void 0},f=c(0),g=c(23),h=b.LinearRing=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.componentTypes=["SuperMap.Geometry.Point"],c.CLASS_NAME="SuperMap.Geometry.LinearRing",c.geometryType="LinearRing",c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g.LineString),d(b,[{key:"addComponent",value:function(a,c){var d=!1,f=this.components.pop();null==c&&a.equals(f)||(d=e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"addComponent",this).apply(this,arguments));var g=this.components[0];return e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"addComponent",this).apply(this,[g]),d}},{key:"removeComponent",value:function(a){var c=this.components&&this.components.length>3;if(c){this.components.pop(),e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"removeComponent",this).apply(this,arguments);var d=this.components[0];e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"addComponent",this).apply(this,[d])}return c}},{key:"getArea",value:function(){var a=0;if(this.components&&this.components.length>2){for(var b=0,c=0,d=this.components.length;d-1>c;c++){var e=this.components[c],f=this.components[c+1];b+=(e.x+f.x)*(f.y-e.y)}a=-b/2}return a}},{key:"getVertices",value:function(a){return!0===a?[]:this.components.slice(0,this.components.length-1)}}]),b}();f.SuperMap.Geometry.LinearRing=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.widgetsViewBase=b.WidgetsViewBase=void 0;var d,e=c(2),f=(d=e)&&d.__esModule?d:{"default":d};c(3);var g=b.WidgetsViewBase=f["default"].Control.extend({options:{position:"topright",style:function(a,b){return b?f["default"].circleMarker(b,{fillColor:"blue",weight:1,opacity:1,color:"blue",fillOpacity:.6}):{fillColor:"blue",weight:1,opacity:1,color:"blue",fillOpacity:.6}},onEachFeature:null},initialize:function(a){f["default"].setOptions(this,a),this._event=new f["default"].Evented,this.rootContainer=null},onAdd:function(a){return this.map=a,this.rootContainer=this._initView(),this.rootContainer},on:function(a,b){this._event.on(a,b)},off:function(a,b){this._event.off(a,b)},_initView:function(){},_preventMapEvent:function(a,b){a&&b&&(a.addEventListener("mouseover",function(){b.dragging.disable(),b.scrollWheelZoom.disable(),b.doubleClickZoom.disable()}),a.addEventListener("mouseout",function(){b.dragging.enable(),b.scrollWheelZoom.enable(),b.doubleClickZoom.enable()}))}}),h=b.widgetsViewBase=function(a){return new g(a)};f["default"].supermap.widgets.widgetsViewBase=h},function(a,b,c){"use strict";a.exports=function(a){return Math.abs(a)>1&&(a=a>1?1:-1),Math.asin(a)}},function(a,b,c){"use strict";a.exports=function(a,b,c){var d=a*b;return c/Math.sqrt(1-d*d)}},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.GetFeaturesServiceBase=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(4),h=c(6),i=c(17),j=b.GetFeaturesServiceBase=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));c=c||{},d.returnContent=!0,d.fromIndex=0,d.toIndex=19,d.maxFeatures=null,d.format=g.DataFormat.GEOJSON,f.Util.extend(d,c);var e,h=d;return c.format&&(h.format=c.format.toUpperCase()),e=h.url.substr(h.url.length-1,1),h.url+="/"==e?"featureResults.json?":"/featureResults.json?",
d.CLASS_NAME="SuperMap.GetFeaturesServiceBase",d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,h.CommonServiceBase),d(b,[{key:"destroy",value:function(){(function c(a,b,d){null===a&&(a=Function.prototype);var e=Object.getOwnPropertyDescriptor(a,b);if(void 0===e){var f=Object.getPrototypeOf(a);return null===f?void 0:c(f,b,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this);var a=this;a.returnContent=null,a.fromIndex=null,a.toIndex=null,a.maxFeatures=null,a.format=null}},{key:"processAsync",value:function(a){if(a){var b,c=this,d=!0;c.returnContent=a.returnContent,c.fromIndex=a.fromIndex,c.toIndex=a.toIndex,c.maxFeatures=a.maxFeatures,c.returnContent&&(c.url+="returnContent="+c.returnContent,d=!1),null!=c.fromIndex&&null!=c.toIndex&&!isNaN(c.fromIndex)&&!isNaN(c.toIndex)&&c.fromIndex>=0&&c.toIndex>=0&&!d&&(c.url+="&fromIndex="+c.fromIndex+"&toIndex="+c.toIndex),a.returnCountOnly&&(c.url+="&returnCountOnly="+a.returnContent),b=c.getJsonParameters(a),c.request({method:"POST",data:b,scope:c,success:c.serviceProcessCompleted,failure:c.serviceProcessFailed})}}},{key:"serviceProcessCompleted",value:function(a){if(a=f.Util.transformResult(a),this.format===g.DataFormat.GEOJSON&&a.features){var b=new i.GeoJSON;a.features=b.toGeoJSON(a.features)}this.events.triggerEvent("processCompleted",{result:a})}}]),b}();e.SuperMap.GetFeaturesServiceBase=j},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.GetFeaturesParametersBase=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=b.GetFeaturesParametersBase=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.datasetNames=null,this.returnContent=!0,this.fromIndex=0,this.toIndex=19,this.returnCountOnly=!1,this.maxFeatures=null,this.aggregations=null,f.Util.extend(this,b),this.CLASS_NAME="SuperMap.GetFeaturesParametersBase"}return d(a,[{key:"destroy",value:function(){var a=this;a.datasetNames=null,a.returnContent=null,a.fromIndex=null,a.toIndex=null,a.maxFeatures=null,a.aggregation&&(a.aggregation=null)}}]),a}();e.SuperMap.GetFeaturesParametersBase=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.FacilityAnalyst3DParameters=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=b.FacilityAnalyst3DParameters=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.edgeID=null,this.nodeID=null,this.weightName=null,this.isUncertainDirectionValid=!1,f.Util.extend(this,b),this.CLASS_NAME="SuperMap.FacilityAnalyst3DParameters"}return d(a,[{key:"destroy",value:function(){this.edgeID=null,this.nodeID=null,this.weightName=null,this.isUncertainDirectionValid=null}}]),a}();e.SuperMap.FacilityAnalyst3DParameters=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.MultiPoint=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(34),g=b.MultiPoint=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.componentTypes=["SuperMap.Geometry.Point"],c.CLASS_NAME="SuperMap.Geometry.MultiPoint",c.geometryType="MultiPoint",c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,f.Collection),d(b,[{key:"addPoint",value:function(a,b){this.addComponent(a,b)}},{key:"removePoint",value:function(a){this.removeComponent(a)}}]),b}();e.SuperMap.Geometry.MultiPoint=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.LonLat=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(1);b.LonLat=function(){function a(b,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),e.Util.isArray(b)&&(c=b[1],b=b[0]),this.lon=b?e.Util.toFloat(b):0,this.lat=c?e.Util.toFloat(c):0,this.CLASS_NAME="SuperMap.LonLat"}return d(a,[{key:"toString",value:function(){return"lon="+this.lon+",lat="+this.lat}},{key:"toShortString",value:function(){return this.lon+","+this.lat}},{key:"clone",value:function(){return new a(this.lon,this.lat)}},{key:"add",value:function(b,c){if(null==b||null==c)throw new TypeError("LonLat.add cannot receive null values");return new a(this.lon+e.Util.toFloat(b),this.lat+e.Util.toFloat(c))}},{key:"equals",value:function(a){var b=!1;return null!=a&&(b=this.lon===a.lon&&this.lat===a.lat||isNaN(this.lon)&&isNaN(this.lat)&&isNaN(a.lon)&&isNaN(a.lat)),b}},{key:"wrapDateLine",value:function(a){var b=this.clone();if(a){for(;b.lon<a.left;)b.lon+=a.getWidth();for(;b.lon>a.right;)b.lon-=a.getWidth()}return b}},{key:"destroy",value:function(){this.lon=null,this.lat=null}}],[{key:"fromString",value:function(b){var c=b.split(",");return new a(c[0],c[1])}},{key:"fromArray",value:function(b){var c=e.Util.isArray(b);return new a(c&&b[0],c&&b[1])}}]),a}()},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Symbolizer=void 0;var d,e=c(2),f=(d=e)&&d.__esModule?d:{"default":d};b.Symbolizer=f["default"].Class.extend({initialize:function(a){this.properties=a.properties,this.type=a.type,this.layerName=a.layerName},render:function(a,b){this._renderer=a,this._container=a._container,this.options=b,a._initPath(this),a._updateStyle(this);var c=this.getElement();c&&this.layerName&&f["default"].DomUtil.addClass(c,this.layerName)},updateStyle:function(a,b){this.options=b,a._updateStyle(this)},getElement:function(){return this._path||this._renderer._container},_getPixelBounds:function(){for(var a=this._parts,b=f["default"].bounds([]),c=0;c<a.length;c++)for(var d=a[c],e=0;e<d.length;e++)b.extend(d[e]);var g=this._clickTolerance(),h=new f["default"].Point(g,g);return b.min._subtract(h),b.max._add(h),b},_clickTolerance:f["default"].Path.prototype._clickTolerance})},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.VectorFeatureType={LABEL:"LABEL",TEXT:"TEXT",POINT:"POINT",LINE:"LINE",REGION:"REGION"}},function(a,b,c){"use strict";var d=Math.PI/2,e=c(58);a.exports=function(a){return Math.abs(a)<d?a:a-e(a)*Math.PI}},function(a,b,c){"use strict";a.exports=function(a,b,c,d,e){return a*e-b*Math.sin(2*e)+c*Math.sin(4*e)-d*Math.sin(6*e)}},function(a,b,c){"use strict";a.exports=function(a){return a*a*a*(35/3072)}},function(a,b,c){"use strict";a.exports=function(a){return.05859375*a*a*(1+.75*a)}},function(a,b,c){"use strict";a.exports=function(a){return.375*a*(1+.25*a*(1+.46875*a))}},function(a,b,c){"use strict";a.exports=function(a){return 1-.25*a*(1+a/16*(3+1.25*a))}},function(a,b,c){"use strict";a.exports=function(a){return 0>a?-1:1}},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();b.Eventful=function(){function a(){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this._handlers={},this.CLASS_NAME="SuperMap.LevelRenderer.Eventful"}return d(a,[{key:"destroy",value:function(){this._handlers=null}},{key:"one",value:function(a,b,c){var d=this._handlers;return b&&a?(d[a]||(d[a]=[]),d[a].push({h:b,one:!0,ctx:c||this}),this):this}},{key:"bind",value:function(a,b,c){var d=this._handlers;return b&&a?(d[a]||(d[a]=[]),d[a].push({h:b,one:!1,ctx:c||this}),this):this}},{key:"unbind",value:function(a,b){var c=this._handlers;if(!a)return this._handlers={},this;if(b){if(c[a]){for(var d=[],e=0,f=c[a].length;f>e;e++)c[a][e].h!=b&&d.push(c[a][e]);c[a]=d}c[a]&&0===c[a].length&&delete c[a]}else delete c[a];return this}},{key:"dispatch",value:function(a){if(this._handlers[a]){var b=arguments,c=b.length;c>3&&(b=Array.prototype.slice.call(b,1));for(var d=this._handlers[a],e=d.length,f=0;e>f;){switch(c){case 1:d[f].h.call(d[f].ctx);break;case 2:d[f].h.call(d[f].ctx,b[1]);break;case 3:d[f].h.call(d[f].ctx,b[1],b[2]);break;default:d[f].h.apply(d[f].ctx,b)}d[f].one?(d.splice(f,1),e--):f++}}return this}},{key:"dispatchWithContext",value:function(a){if(this._handlers[a]){var b=arguments,c=b.length;c>4&&(b=Array.prototype.slice.call(b,1,b.length-1));for(var d=b[b.length-1],e=this._handlers[a],f=e.length,g=0;f>g;){switch(c){case 1:e[g].h.call(d);break;case 2:e[g].h.call(d,b[1]);break;case 3:e[g].h.call(d,b[1],b[2]);break;default:e[g].h.apply(d,b)}e[g].one?(e.splice(g,1),f--):g++}}return this}}]),a}()},function(a,b,c){"use strict";function d(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}Object.defineProperty(b,"__esModule",{value:!0}),b.QueryService=void 0;var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=c(0),g=c(1),h=c(6),i=c(39),j=c(17),k=c(4),l=b.QueryService=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var e=d(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));e.returnContent=!1,e.format=k.DataFormat.GEOJSON,e.returnFeatureWithFieldCaption=!1,c&&g.Util.extend(e,c),e.CLASS_NAME="SuperMap.QueryService";var f,h=e;return h.url?(c&&c.format&&(h.format=c.format.toUpperCase()),f=h.url.substr(h.url.length-1,1),h.url+="/"===f?"queryResults.json?":"/queryResults.json?",e):d(e)}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,h.CommonServiceBase),e(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this),this.returnContent=null,this.format=null}},{key:"processAsync",value:function(a){if(a instanceof i.QueryParameters){var b,c=this,d=null;c.returnContent=a.returnContent,b=c.getJsonParameters(a),c.returnContent?c.url+="returnContent="+c.returnContent:(d=a.returnCustomResult)&&(c.url+="returnCustomResult="+d),c.returnFeatureWithFieldCaption=a.returnFeatureWithFieldCaption,c.request({method:"POST",data:b,scope:c,success:c.serviceProcessCompleted,failure:c.serviceProcessFailed})}}},{key:"serviceProcessCompleted",value:function(a){a=g.Util.transformResult(a);var b=new j.GeoJSON;if(a&&a.recordsets)for(var c=0,d=a.recordsets,e=d.length;e>c;c++)d[c].features&&(!0===this.returnFeatureWithFieldCaption&&d[c].features.map(function(a){return a.fieldNames=d[c].fieldCaptions,a}),this.format===k.DataFormat.GEOJSON&&(d[c].features=b.toGeoJSON(d[c].features)));this.events.triggerEvent("processCompleted",{result:a})}},{key:"getQueryParameters",value:function(a){return new i.QueryParameters({customParams:a.customParams,expectCount:a.expectCount,networkType:a.networkType,queryOption:a.queryOption,queryParams:a.queryParams,startRecord:a.startRecord,prjCoordSys:a.prjCoordSys,holdTime:a.holdTime})}}]),b}();f.SuperMap.QueryService=l},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.UGCSubLayer=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=function l(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:l(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0!==f?f.call(c):void 0},f=c(0),g=c(1),h=c(253),i=c(87),j=c(296);c(4);var k=b.UGCSubLayer=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b),a=a||{};var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.datasetInfo=null,c.displayFilter=null,c.joinItems=null,c.representationField=null,c.ugcLayerType=null,c.CLASS_NAME="SuperMap.UGCSubLayer",c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,h.UGCMapLayer),d(b,[{key:"fromJson",value:function(a){if(e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"fromJson",this).call(this,a),this.datasetInfo&&(this.datasetInfo=new j.DatasetInfo(this.datasetInfo)),this.joinItems&&this.joinItems.length){for(var c=[],d=0;d<this.joinItems.length;d++)c[d]=new i.JoinItem(this.joinItems[d]);this.joinItems=c}}},{key:"destroy",value:function(){e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this),g.Util.reset(this)}},{key:"toServerJSONObject",value:function(){var a=e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"toServerJSONObject",this).call(this);if(a.joinItems){for(var c=[],d=0;d<a.joinItems.length;d++)a.joinItems[d].toServerJSONObject&&(c[d]=a.joinItems[d].toServerJSONObject());a.joinItems=c}return a.datasetInfo&&a.datasetInfo.toServerJSONObject&&(a.datasetInfo=a.datasetInfo.toServerJSONObject()),a}}]),b}();f.SuperMap.UGCSubLayer=k},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.DataReturnOption=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(4),h=b.DataReturnOption=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.expectCount=1e3,this.dataset=null,this.dataReturnMode=g.DataReturnMode.RECORDSET_ONLY,this.deleteExistResultDataset=!0,f.Util.extend(this,b),this.CLASS_NAME="SuperMap.DataReturnOption"}return d(a,[{key:"destroy",value:function(){this.expectCount=null,this.dataset=null,this.dataReturnMode=null,this.deleteExistResultDataset=null}}]),a}();e.SuperMap.DataReturnOption=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Polygon=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(34);c(24),c(23),c(41);var g=b.Polygon=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.componentTypes=["SuperMap.Geometry.LinearRing"],c.CLASS_NAME="SuperMap.Geometry.Polygon",c.geometryType="Polygon",c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,f.Collection),d(b,[{key:"getArea",value:function(){var a=0;if(this.components&&this.components.length>0){a+=Math.abs(this.components[0].getArea());for(var b=1,c=this.components.length;c>b;b++)a-=Math.abs(this.components[b].getArea())}return a}}]),b}();e.SuperMap.Geometry.Polygon=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.MultiPolygon=void 0;var d=c(0),e=c(34),f=b.MultiPolygon=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.componentTypes=["SuperMap.Geometry.Polygon"],c.CLASS_NAME="SuperMap.Geometry.MultiPolygon",c.geometryType="MultiPolygon",c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,e.Collection),b}();d.SuperMap.Geometry.MultiPolygon=f},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.MultiLineString=void 0;var d=c(0),e=c(34);c(23);var f=b.MultiLineString=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.componentTypes=["SuperMap.Geometry.LineString"],c.CLASS_NAME="SuperMap.Geometry.MultiLineString",c.geometryType="MultiLineString",c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,e.Collection),b}();d.SuperMap.Geometry.MultiLineString=f},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ArrayExt=b.FunctionExt=b.NumberExt=b.StringExt=void 0;var d=c(0);d.SuperMap.inherit=function(a,b){var c,e,f,g=function(){};for(g.prototype=b.prototype,a.prototype=new g,c=2,e=arguments.length;e>c;c++)"function"==typeof(f=arguments[c])&&(f=f.prototype),d.SuperMap.Util.extend(a.prototype,f)},d.SuperMap.mixin=function(){function a(a,b){var c=Object.getOwnPropertyNames(b);Object.getOwnPropertySymbols&&(c=c.concat(Object.getOwnPropertySymbols(b)));for(var d=0;d<c.length;d++){var e=c[d];if("constructor"!==e&&"prototype"!==e&&"name"!==e&&"length"!==e){var f=Object.getOwnPropertyDescriptor(b,e);window.ActiveXObject?Object.defineProperty(a,e,f||{}):Object.defineProperty(a,e,f)}}}for(var b=arguments.length,c=Array(b),d=0;b>d;d++)c[d]=arguments[d];for(var e=function h(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,h);for(var d=0;d<c.length;d++)a(this,new c[d](b))},f=0;f<c.length;f++){var g=c[f];a(e,g),a(e.prototype,g.prototype),a(e.prototype,new g)}return e},b.StringExt=d.SuperMap.String={startsWith:function(a,b){return 0==a.indexOf(b)},contains:function(a,b){return-1!=a.indexOf(b)},trim:function(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},camelize:function(a){for(var b=a.split("-"),c=b[0],d=1,e=b.length;e>d;d++){var f=b[d];c+=f.charAt(0).toUpperCase()+f.substring(1)}return c},format:function(a,b,c){return b||(b=window),a.replace(d.SuperMap.String.tokenRegEx,function(a,d){for(var e,f=d.split(/\.+/),g=0;g<f.length;g++)0==g&&(e=b),e=e[f[g]];return"function"==typeof e&&(e=c?e.apply(null,c):e()),void 0===e?"undefined":e})},tokenRegEx:/\$\{([\w.]+?)\}/g,numberRegEx:/^([+-]?)(?=\d|\.\d)\d*(\.\d*)?([Ee]([+-]?\d+))?$/,isNumeric:function(a){return d.SuperMap.String.numberRegEx.test(a)},numericIf:function(a){return d.SuperMap.String.isNumeric(a)?parseFloat(a):a}};var e=b.NumberExt=d.SuperMap.Number={decimalSeparator:".",thousandsSeparator:",",limitSigDigs:function(a,b){var c=0;return b>0&&(c=parseFloat(a.toPrecision(b))),c},format:function(a,b,c,e){b=void 0!==b?b:0,c=void 0!==c?c:d.SuperMap.Number.thousandsSeparator,e=void 0!==e?e:d.SuperMap.Number.decimalSeparator,null!=b&&(a=parseFloat(a.toFixed(b)));var f=a.toString().split(".");1===f.length&&null==b&&(b=0);var g,h=f[0];if(c)for(var i=/(-?[0-9]+)([0-9]{3})/;i.test(h);)h=h.replace(i,"$1"+c+"$2");if(0==b)g=h;else{var j=f.length>1?f[1]:"0";null!=b&&(j+=new Array(b-j.length+1).join("0")),g=h+e+j}return g}};Number.prototype.limitSigDigs||(Number.prototype.limitSigDigs=function(a){return e.limitSigDigs(this,a)}),b.FunctionExt=d.SuperMap.Function={bind:function(a,b){var c=Array.prototype.slice.apply(arguments,[2]);return function(){var d=c.concat(Array.prototype.slice.apply(arguments,[0]));return a.apply(b,d)}},bindAsEventListener:function(a,b){return function(c){return a.call(b,c||window.event)}},False:function(){return!1},True:function(){return!0},Void:function(){}},b.ArrayExt=d.SuperMap.Array={filter:function(a,b,c){var d=[];if(Array.prototype.filter)d=a.filter(b,c);else{var e=a.length;if("function"!=typeof b)throw new TypeError;for(var f=0;e>f;f++)if(f in a){var g=a[f];b.call(c,g,f,a)&&d.push(g)}}return d}}},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.GeoFeatureThemeLayer=void 0;var d,e=c(2),f=(d=e)&&d.__esModule?d:{"default":d},g=c(5),h=c(100),i=c(25);b.GeoFeatureThemeLayer=h.ThemeLayer.extend({options:{nodesClipPixel:2,isHoverAble:!1,isMultiHover:!1,isClickAble:!0,isAllowFeatureStyle:!1},initialize:function(a,b){h.ThemeLayer.prototype.initialize.call(this,a,b),f["default"].Util.setOptions(this,b),this.cache={},this.cacheFields=[],this.style={},this.highlightStyle={}},addFeatures:function(a){var b=this;b.fire("beforefeaturesadded",{features:a}),this.features=this.toiClientFeature(a),b.isCustomSetMaxCacheCount||(b.maxCacheCount=5*b.features.length),b.renderer&&(b._map?b.redrawThematicFeatures(b._map.getBounds()):b.redrawThematicFeatures())},removeFeatures:function(a){this.clearCache(),h.ThemeLayer.prototype.removeFeatures.call(this,arguments)},removeAllFeatures:function(){this.clearCache(),h.ThemeLayer.prototype.removeAllFeatures.call(this,arguments)},redrawThematicFeatures:function(a){var b=this,c=b.renderer.getHoverOne(),d=null;if(c&&c.refDataID&&(d=c.refDataID),this.options.alwaysMapCRS&&a&&a instanceof f["default"].LatLngBounds){var e=this._map.options.crs;a=f["default"].bounds(e.project(a.getSouthWest()),e.project(a.getNorthEast()))}a=i.CommontypesConversion.toSuperMapBounds(a),b.renderer.clearAll();for(var g=b.features,h=b.cache,j=b.cacheFields,k=b._map.getZoom(),l=b.maxCacheCount,m=0,n=g.length;n>m;m++){var o=g[m],p=o.geometry.getBounds();if(!a||a.intersectsBounds(p)){var q=o.id+"_zoom_"+k.toString();if(h[q])h[q].updateAndAddShapes();else{var r=b.createThematicFeature(g[m]);if(!(r.getShapesCount()<1)&&(h[q]=r,j.push(q),j.length>l)){var s=j[0];j.splice(0,1),delete h[s]}}}}if(b.renderer.render(),d&&b.options.isHoverAble&&b.options.isMultiHover){var t=this.getShapesByFeatureID(d);this.renderer.updateHoverShapes(t)}},createThematicFeature:function(a){var b=this,c=b.getStyleByData(a);a.style&&b.isAllowFeatureStyle&&(c=g.CommonUtil.copyAttributesWithClip(a.style));var d={};d.nodesClipPixel=b.options.nodesClipPixel,d.isHoverAble=b.options.isHoverAble,d.isMultiHover=b.options.isMultiHover,d.isClickAble=b.options.isClickAble,d.highlightStyle=g.ShapeFactory.transformStyle(b.highlightStyle);for(var e=new g.ThemeVector(a,b,g.ShapeFactory.transformStyle(c),d),f=0;f<e.shapes.length;f++)b.renderer.addShape(e.shapes[f]);return e},redraw:function(){return this.clearCache(),h.ThemeLayer.prototype.redraw.apply(this,arguments)},clearCache:function(){this.cache={},this.cacheFields=[]},clear:function(){this.renderer.clearAll(),this.renderer.refresh(),this.removeAllFeatures(),this.clearCache()},getCacheCount:function(){return this.cacheFields.length},setMaxCacheCount:function(a){isNaN(a)||(this.maxCacheCount=a,this.isCustomSetMaxCacheCount=!0)},getShapesByFeatureID:function(a){var b=[],c=this.renderer.getAllShapes();if(!a)return c;for(var d=0,e=c.length;e>d;d++){var f=c[d];f.refDataID&&a===f.refDataID&&b.push(f)}return b}})},function(a,b,c){"use strict";var d=Math.PI/2;a.exports=function(a,b){for(var c,e,f=.5*a,g=d-2*Math.atan(b),h=0;15>=h;h++)if(c=a*Math.sin(g),g+=e=d-2*Math.atan(b*Math.pow((1-c)/(1+c),f))-g,Math.abs(e)<=1e-10)return g;return-9999}},function(a,b,c){"use strict";var d=Math.PI/2;a.exports=function(a,b,c){var e=a*c,f=.5*a;return e=Math.pow((1-e)/(1+e),f),Math.tan(.5*(d-b))/e}},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.FileTypes={EXCEL:"EXCEL",CSV:"CSV",ISERVER:"ISERVER",GEOJSON:"GEOJSON",JSON:"JSON"},b.FileConfig={fileMaxSize:10485760}},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Theme=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(24),g=c(136),h=c(49),i=c(1),j=b.Theme=function(){function a(b,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),b&&c&&c.map&&c.renderer&&(this.id=i.Util.createUniqueID(this.CLASS_NAME+"_"),this.lonlat=null,this.location=[],this.data=b,this.shapes=[],this.layer=c,this.CLASS_NAME="SuperMap.Feature.Theme")}return d(a,[{key:"destroy",value:function(){this.data=null,this.id=null,this.lonlat=null,this.location=null,this.shapes=null,this.layer=null}},{key:"getLocalXY",value:function(a){var b=this.layer.map.getResolution(),c=this.layer.map.getExtent();return a instanceof f.Point||a instanceof g.GeoText?[a.x/b+-c.left/b,c.top/b-a.y/b]:a instanceof h.LonLat?[a.lon/b+-c.left/b,c.top/b-a.lat/b]:null}}]),a}();e.SuperMap.Feature=e.SuperMap.Feature||{},e.SuperMap.Feature.Theme=j},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SmicPolygon=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(13),f=c(1),g=c(12);b.SmicPolygon=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.type="smicpolygon",c.holePolygonPointLists=null,c.refOriginalPosition&&2===c.refOriginalPosition.length||(c.refOriginalPosition=[0,0]),c.CLASS_NAME="SuperMap.LevelRenderer.Shape.SmicPolygon",c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,e.Shape),d(b,[{key:"destroy",value:function(){this.type=null,this.holePolygonPointLists=null,function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0}(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"brush",value:function(a,b){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var c=this.style;b&&(c=this.getHighlightStyle(c,this.highlightStyle||{})),a.save(),this.setContext(a,c),this.setTransform(a);var d=!1;"fill"!=c.brushType&&"both"!=c.brushType&&void 0!==c.brushType||(a.beginPath(),"dashed"==c.lineType||"dotted"==c.lineType||"dot"==c.lineType||"dash"==c.lineType||"dashdot"==c.lineType||"longdash"==c.lineType||"longdashdot"==c.lineType?this.buildPath(a,{lineType:"solid",lineWidth:c.lineWidth,pointList:c.pointList}):(this.buildPath(a,c),d=!0),a.closePath(),this.setCtxGlobalAlpha(a,"fill",c),a.fill(),this.setCtxGlobalAlpha(a,"reset",c)),c.lineWidth>0&&("stroke"==c.brushType||"both"==c.brushType)&&(d||(a.beginPath(),this.buildPath(a,c)),this.setCtxGlobalAlpha(a,"stroke",c),a.stroke(),this.setCtxGlobalAlpha(a,"reset",c)),this.drawText(a,c,this.style);var e=f.Util.cloneObject(c);if(e.pointList&&this.holePolygonPointLists&&this.holePolygonPointLists.length>0)for(var g=this.holePolygonPointLists,h=g.length,i=0;h>i;i++){var j=g[i];e.pointList=j,a.globalCompositeOperation="destination-out",d=!1,"fill"!=e.brushType&&"both"!=e.brushType&&void 0!==e.brushType||(a.beginPath(),"dashed"==e.lineType||"dotted"==e.lineType||"dot"==e.lineType||"dash"==e.lineType||"dashdot"==e.lineType||"longdash"==e.lineType||"longdashdot"==e.lineType?this.buildPath(a,{lineType:"solid",lineWidth:e.lineWidth,pointList:e.pointList}):(this.buildPath(a,e),d=!0),a.closePath(),this.setCtxGlobalAlpha(a,"fill",e),a.fill(),this.setCtxGlobalAlpha(a,"reset",e)),e.lineWidth>0&&("stroke"==e.brushType||"both"==e.brushType)?(d||(a.beginPath(),this.buildPath(a,e)),a.globalCompositeOperation="source-over",this.setCtxGlobalAlpha(a,"stroke",e),a.stroke(),this.setCtxGlobalAlpha(a,"reset",e)):a.globalCompositeOperation="source-over"}a.restore()}},{key:"buildPath",value:function(a,b){b.showShadow&&(a.shadowBlur=b.shadowBlur,a.shadowColor=b.shadowColor,a.shadowOffsetX=b.shadowOffsetX,a.shadowOffsetY=b.shadowOffsetY),this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var c=this.refOriginalPosition,d=b.pointList;if(!(d.length<2))if(b.smooth&&"spline"!==b.smooth){
var e,f,h,i=g.SUtil.SUtil_smoothBezier(d,b.smooth,!0,b.smoothConstraint,c);a.moveTo(d[0][0]+c[0],d[0][1]+c[1]);for(var j=d.length,k=0;j>k;k++)e=i[2*k],f=i[2*k+1],h=[d[(k+1)%j][0]+c[0],d[(k+1)%j][1]+c[1]],a.bezierCurveTo(e[0],e[1],f[0],f[1],h[0],h[1])}else if("spline"===b.smooth&&(d=g.SUtil.SUtil_smoothSpline(d,!0,null,c)),b.lineType&&"solid"!=b.lineType){if("dashed"===b.lineType||"dotted"===b.lineType||"dot"===b.lineType||"dash"===b.lineType||"longdash"===b.lineType){var l=b._dashLength||(b.lineWidth||1)*("dashed"==b.lineType?5:1);b._dashLength=l;var m=b.lineWidth||1,n=m,o=m;"dashed"===b.lineType&&(n*=5,o*=5,b.lineCap&&"butt"!==b.lineCap&&(n-=m,o+=m)),"dotted"===b.lineType&&b.lineCap&&"butt"!==b.lineCap&&(n=1,o+=m),"dot"===b.lineType&&(o*=4,b.lineCap&&"butt"!==b.lineCap&&(n=1,o+=m)),"dash"===b.lineType&&(n*=4,o*=4,b.lineCap&&"butt"!==b.lineCap&&(n-=m,o+=m)),"longdash"===b.lineType&&(n*=8,o*=4,b.lineCap&&"butt"!==b.lineCap&&(n-=m,o+=m)),a.moveTo(d[0][0]+c[0],d[0][1]+c[1]);for(var p=1;p<d.length;p++)g.SUtil.SUtil_dashedLineTo(a,d[p-1][0]+c[0],d[p-1][1]+c[1],d[p][0]+c[0],d[p][1]+c[1],m,[n,o]);g.SUtil.SUtil_dashedLineTo(a,d[d.length-1][0]+c[0],d[d.length-1][1]+c[1],d[0][0]+c[0],d[0][1]+c[1],m,[n,o])}else if("dashdot"===b.lineType||"longdashdot"===b.lineType){var q=b._dashLength||(b.lineWidth||1)*("dashed"==b.lineType?5:1);b._dashLength=q;var r=b.lineWidth||1,s=r,t=r,u=r,v=r;"dashdot"===b.lineType&&(s*=4,t*=4,v*=4,b.lineCap&&"butt"!==b.lineCap&&(s-=r,t+=r,u=1,v+=r)),"longdashdot"===b.lineType&&(s*=8,t*=4,v*=4,b.lineCap&&"butt"!==b.lineCap&&(s-=r,t+=r,u=1,v+=r)),a.moveTo(d[0][0]+c[0],d[0][1]+c[1]);for(var w=1;w<d.length;w++)g.SUtil.SUtil_dashedLineTo(a,d[w-1][0]+c[0],d[w-1][1]+c[1],d[w][0]+c[0],d[w][1]+c[1],r,[s,t,u,v]);g.SUtil.SUtil_dashedLineTo(a,d[d.length-1][0]+c[0],d[d.length-1][1]+c[1],d[0][0]+c[0],d[0][1]+c[1],r,[s,t,u,v])}}else{a.moveTo(d[0][0]+c[0],d[0][1]+c[1]);for(var x=1;x<d.length;x++)a.lineTo(d[x][0]+c[0],d[x][1]+c[1]);a.lineTo(d[0][0]+c[0],d[0][1]+c[1])}}},{key:"getRect",value:function(a,b){var c;if(b?c=b:(this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]),c=this.refOriginalPosition),a.__rect)return a.__rect;for(var d,e=Number.MAX_VALUE,f=Number.MIN_VALUE,g=Number.MAX_VALUE,h=Number.MIN_VALUE,i=a.pointList,j=0,k=i.length;k>j;j++)i[j][0]+c[0]<e&&(e=i[j][0]+c[0]),i[j][0]+c[0]>f&&(f=i[j][0]+c[0]),i[j][1]+c[1]<g&&(g=i[j][1]+c[1]),i[j][1]+c[1]>h&&(h=i[j][1]+c[1]);return d="stroke"==a.brushType||"fill"==a.brushType?a.lineWidth||1:0,a.__rect={x:Math.round(e-d/2),y:Math.round(g-d/2),width:f-e+d,height:h-g+d},a.__rect}}]),b}()},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=b.Config=function e(){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,e)};d.EVENT={RESIZE:"resize",CLICK:"click",DBLCLICK:"dblclick",MOUSEWHEEL:"mousewheel",MOUSEMOVE:"mousemove",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEDOWN:"mousedown",MOUSEUP:"mouseup",GLOBALOUT:"globalout",DRAGSTART:"dragstart",DRAGEND:"dragend",DRAGENTER:"dragenter",DRAGOVER:"dragover",DRAGLEAVE:"dragleave",DROP:"drop",touchClickDelay:300},d.catchBrushException=!1,d.debugMode=0},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();b.Vector=function(){function a(){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.ArrayCtor="undefined"==typeof Float32Array?Array:Float32Array,this.CLASS_NAME="SuperMap.LevelRenderer.Tool.Vector"}return d(a,[{key:"create",value:function(a,b){var c=new this.ArrayCtor(2);return c[0]=a||0,c[1]=b||0,c}},{key:"copy",value:function(a,b){return a[0]=b[0],a[1]=b[1],a}},{key:"set",value:function(a,b,c){return a[0]=b,a[1]=c,a}},{key:"add",value:function(a,b,c){return a[0]=b[0]+c[0],a[1]=b[1]+c[1],a}},{key:"scaleAndAdd",value:function(a,b,c,d){return a[0]=b[0]+c[0]*d,a[1]=b[1]+c[1]*d,a}},{key:"sub",value:function(a,b,c){return a[0]=b[0]-c[0],a[1]=b[1]-c[1],a}},{key:"len",value:function(a){return Math.sqrt(this.lenSquare(a))}},{key:"lenSquare",value:function(a){return a[0]*a[0]+a[1]*a[1]}},{key:"mul",value:function(a,b,c){return a[0]=b[0]*c[0],a[1]=b[1]*c[1],a}},{key:"div",value:function(a,b,c){return a[0]=b[0]/c[0],a[1]=b[1]/c[1],a}},{key:"dot",value:function(a,b){return a[0]*b[0]+a[1]*b[1]}},{key:"scale",value:function(a,b,c){return a[0]=b[0]*c,a[1]=b[1]*c,a}},{key:"normalize",value:function(a,b){var c=this.len(b);return 0===c?(a[0]=0,a[1]=0):(a[0]=b[0]/c,a[1]=b[1]/c),a}},{key:"distance",value:function(a,b){return Math.sqrt((a[0]-b[0])*(a[0]-b[0])+(a[1]-b[1])*(a[1]-b[1]))}},{key:"distanceSquare",value:function(a,b){return(a[0]-b[0])*(a[0]-b[0])+(a[1]-b[1])*(a[1]-b[1])}},{key:"negate",value:function(a,b){return a[0]=-b[0],a[1]=-b[1],a}},{key:"lerp",value:function(a,b,c,d){return a[0]=b[0]+d*(c[0]-b[0]),a[1]=b[1]+d*(c[1]-b[1]),a}},{key:"applyTransform",value:function(a,b,c){var d=b[0],e=b[1];return a[0]=c[0]*d+c[2]*e+c[4],a[1]=c[1]*d+c[3]*e+c[5],a}},{key:"min",value:function(a,b,c){return a[0]=Math.min(b[0],c[0]),a[1]=Math.min(b[1],c[1]),a}},{key:"max",value:function(a,b,c){return a[0]=Math.max(b[0],c[0]),a[1]=Math.max(b[1],c[1]),a}},{key:"length",value:function(a){return this.len(a)}},{key:"lengthSquare",value:function(a){return this.lenSquare(a)}},{key:"dist",value:function(a,b){return this.distance(a,b)}},{key:"distSquare",value:function(a,b){return this.distanceSquare(a,b)}}]),a}()},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Curve=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(74);b.Curve=function(){function a(){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.vector=new e.Vector,this.EPSILON=1e-4,this.THREE_SQRT=Math.sqrt(3),this.ONE_THIRD=1/3,this.CLASS_NAME="SuperMap.LevelRenderer.Tool.Curve"}return d(a,[{key:"isAroundZero",value:function(a){return a>-this.EPSILON&&a<this.EPSILON}},{key:"isNotAroundZero",value:function(a){return a>this.EPSILON||a<-this.EPSILON}},{key:"cubicAt",value:function(a,b,c,d,e){var f=1-e;return f*f*(f*a+3*e*b)+e*e*(e*d+3*f*c)}},{key:"cubicDerivativeAt",value:function(a,b,c,d,e){var f=1-e;return 3*(((b-a)*f+2*(c-b)*e)*f+(d-c)*e*e)}},{key:"cubicRootAt",value:function(a,b,c,d,e,f){var g=d+3*(b-c)-a,h=3*(c-2*b+a),i=3*(b-a),j=a-e,k=h*h-3*g*i,l=h*i-9*g*j,m=i*i-3*h*j,n=0;if(this.isAroundZero(k)&&this.isAroundZero(l))if(this.isAroundZero(h))f[0]=0;else{var o=-i/h;o>=0&&1>=o&&(f[n++]=o)}else{var p=l*l-4*k*m;if(this.isAroundZero(p)){var q=l/k,r=-h/g+q,s=-q/2;r>=0&&1>=r&&(f[n++]=r),s>=0&&1>=s&&(f[n++]=s)}else if(p>0){var t=Math.sqrt(p),u=k*h+1.5*g*(-l+t),v=k*h+1.5*g*(-l-t),w=(-h-((u=0>u?-Math.pow(-u,this.ONE_THIRD):Math.pow(u,this.ONE_THIRD))+(v=0>v?-Math.pow(-v,this.ONE_THIRD):Math.pow(v,this.ONE_THIRD))))/(3*g);w>=0&&1>=w&&(f[n++]=w)}else{var x=(2*k*h-3*g*l)/(2*Math.sqrt(k*k*k)),y=Math.acos(x)/3,z=Math.sqrt(k),A=Math.cos(y),B=(-h-2*z*A)/(3*g),C=(-h+z*(A+this.THREE_SQRT*Math.sin(y)))/(3*g),D=(-h+z*(A-this.THREE_SQRT*Math.sin(y)))/(3*g);B>=0&&1>=B&&(f[n++]=B),C>=0&&1>=C&&(f[n++]=C),D>=0&&1>=D&&(f[n++]=D)}}return n}},{key:"cubicExtrema",value:function(a,b,c,d,e){var f=6*c-12*b+6*a,g=9*b+3*d-3*a-9*c,h=3*b-3*a,i=0;if(this.isAroundZero(g)){if(this.isNotAroundZero(f)){var j=-h/f;j>=0&&1>=j&&(e[i++]=j)}}else{var k=f*f-4*g*h;if(this.isAroundZero(k))e[0]=-f/(2*g);else if(k>0){var l=Math.sqrt(k),m=(-f+l)/(2*g),n=(-f-l)/(2*g);m>=0&&1>=m&&(e[i++]=m),n>=0&&1>=n&&(e[i++]=n)}}return i}},{key:"cubicSubdivide",value:function(a,b,c,d,e,f){var g=(b-a)*e+a,h=(c-b)*e+b,i=(d-c)*e+c,j=(h-g)*e+g,k=(i-h)*e+h,l=(k-j)*e+j;f[0]=a,f[1]=g,f[2]=j,f[3]=l,f[4]=l,f[5]=k,f[6]=i,f[7]=d}},{key:"cubicProjectPoint",value:function(a,b,c,d,e,f,g,h,i,j,k){var l,m=this.vector.create(),n=this.vector.create(),o=this.vector.create(),p=.005,q=1/0;m[0]=i,m[1]=j;for(var r=0;1>r;r+=.05){n[0]=this.cubicAt(a,c,e,g,r),n[1]=this.cubicAt(b,d,f,h,r);var s=this.vector.distSquare(m,n);q>s&&(l=r,q=s)}q=1/0;for(var t=0;32>t&&!(p<this.EPSILON);t++){var u=l-p,v=l+p;n[0]=this.cubicAt(a,c,e,g,u),n[1]=this.cubicAt(b,d,f,h,u);var w=this.vector.distSquare(n,m);if(u>=0&&q>w)l=u,q=w;else{o[0]=this.cubicAt(a,c,e,g,v),o[1]=this.cubicAt(b,d,f,h,v);var x=this.vector.distSquare(o,m);1>=v&&q>x?(l=v,q=x):p*=.5}}return k&&(k[0]=this.cubicAt(a,c,e,g,l),k[1]=this.cubicAt(b,d,f,h,l)),Math.sqrt(q)}},{key:"quadraticAt",value:function(a,b,c,d){var e=1-d;return e*(e*a+2*d*b)+d*d*c}},{key:"quadraticDerivativeAt",value:function(a,b,c,d){return 2*((1-d)*(b-a)+d*(c-b))}},{key:"quadraticRootAt",value:function(a,b,c,d,e){var f=a-2*b+c,g=2*(b-a),h=a-d,i=0;if(this.isAroundZero(f)){if(this.isNotAroundZero(g)){var j=-h/g;j>=0&&1>=j&&(e[i++]=j)}}else{var k=g*g-4*f*h;if(this.isAroundZero(k)){var l=-g/(2*f);l>=0&&1>=l&&(e[i++]=l)}else if(k>0){var m=Math.sqrt(k),n=(-g+m)/(2*f),o=(-g-m)/(2*f);n>=0&&1>=n&&(e[i++]=n),o>=0&&1>=o&&(e[i++]=o)}}return i}},{key:"quadraticExtremum",value:function(a,b,c){var d=a+c-2*b;return 0===d?.5:(a-b)/d}},{key:"quadraticProjectPoint",value:function(a,b,c,d,e,f,g,h,i){var j,k=this.vector.create(),l=this.vector.create(),m=this.vector.create(),n=.005,o=1/0;k[0]=g,k[1]=h;for(var p=0;1>p;p+=.05){l[0]=this.quadraticAt(a,c,e,p),l[1]=this.quadraticAt(b,d,f,p);var q=this.vector.distSquare(k,l);o>q&&(j=p,o=q)}o=1/0;for(var r=0;32>r&&!(n<this.EPSILON);r++){var s=j-n,t=j+n;l[0]=this.quadraticAt(a,c,e,s),l[1]=this.quadraticAt(b,d,f,s);var u=this.vector.distSquare(l,k);if(s>=0&&o>u)j=s,o=u;else{m[0]=this.quadraticAt(a,c,e,t),m[1]=this.quadraticAt(b,d,f,t);var v=this.vector.distSquare(m,k);1>=t&&o>v?(j=t,o=v):n*=.5}}return i&&(i[0]=this.quadraticAt(a,c,e,j),i[1]=this.quadraticAt(b,d,f,j)),Math.sqrt(o)}}]),a}()},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Transformable=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(12);b.Transformable=function(){function a(){var b;!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.position=[0,0],this.rotation=[0,0,0],this.scale=[1,1,0,0],this.needLocalTransform=!1,this.needTransform=!1,this.CLASS_NAME="SuperMap.LevelRenderer.Transformable",this.lookAt=(b=e.SUtil.Util_vector.create(),function(a){function c(a){return a>-5e-5&&5e-5>a}this.transform||(this.transform=e.SUtil.Util_matrix.create());var d=this.transform;e.SUtil.Util_vector.sub(b,a,this.position),c(b[0])&&c(b[1])||(e.SUtil.Util_vector.normalize(b,b),d[2]=b[0]*this.scale[1],d[3]=b[1]*this.scale[1],d[0]=b[1]*this.scale[0],d[1]=-b[0]*this.scale[0],d[4]=this.position[0],d[5]=this.position[1],this.decomposeTransform())})}return d(a,[{key:"destroy",value:function(){this.position=null,this.rotation=null,this.scale=null,this.needLocalTransform=null,this.needTransform=null}},{key:"updateNeedTransform",value:function(){function a(a){return a>5e-5||-5e-5>a}this.needLocalTransform=a(this.rotation[0])||a(this.position[0])||a(this.position[1])||a(this.scale[0]-1)||a(this.scale[1]-1)}},{key:"updateTransform",value:function(){function a(a){return a>5e-5||-5e-5>a}if(this.updateNeedTransform(),this.parent?this.needTransform=this.needLocalTransform||this.parent.needTransform:this.needTransform=this.needLocalTransform,this.needTransform){var b=[0,0],c=this.transform||e.SUtil.Util_matrix.create();if(e.SUtil.Util_matrix.identity(c),this.needLocalTransform){if(a(this.scale[0])||a(this.scale[1])){b[0]=-this.scale[2]||0,b[1]=-this.scale[3]||0;var d=a(b[0])||a(b[1]);d&&e.SUtil.Util_matrix.translate(c,c,b),e.SUtil.Util_matrix.scale(c,c,this.scale),d&&(b[0]=-b[0],b[1]=-b[1],e.SUtil.Util_matrix.translate(c,c,b))}if(this.rotation instanceof Array){if(0!==this.rotation[0]){b[0]=-this.rotation[1]||0,b[1]=-this.rotation[2]||0;var f=a(b[0])||a(b[1]);f&&e.SUtil.Util_matrix.translate(c,c,b),e.SUtil.Util_matrix.rotate(c,c,this.rotation[0]),f&&(b[0]=-b[0],b[1]=-b[1],e.SUtil.Util_matrix.translate(c,c,b))}}else 0!==this.rotation&&e.SUtil.Util_matrix.rotate(c,c,this.rotation);(a(this.position[0])||a(this.position[1]))&&e.SUtil.Util_matrix.translate(c,c,this.position)}this.transform=c,this.parent&&this.parent.needTransform&&(this.needLocalTransform?e.SUtil.Util_matrix.mul(this.transform,this.parent.transform,this.transform):e.SUtil.Util_matrix.copy(this.transform,this.parent.transform))}}},{key:"setTransform",value:function(a){if(this.needTransform){var b=this.transform;a.transform(b[0],b[1],b[2],b[3],b[4],b[5])}}},{key:"decomposeTransform",value:function(){function a(a){return a>5e-5||-5e-5>a}if(this.transform){var b=this.transform,c=b[0]*b[0]+b[1]*b[1],d=this.position,e=this.scale,f=this.rotation;a(c-1)&&(c=Math.sqrt(c));var g=b[2]*b[2]+b[3]*b[3];a(g-1)&&(g=Math.sqrt(g)),d[0]=b[4],d[1]=b[5],e[0]=c,e[1]=g,e[2]=e[3]=0,f[0]=Math.atan2(-b[1]/g,b[0]/c),f[1]=f[2]=0}}}]),a}()},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Sector=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(26),g=b.Sector=function(a){function b(a,c,d,e,f,g,h){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var i=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d,e,f,g,h));return i.x=isNaN(a)?0:a,i.y=isNaN(c)?0:c,i.r=isNaN(d)?0:d,i.startAngle=isNaN(e)?0:e,i.endAngle=isNaN(f)?0:f,i.r0=isNaN(g)?0:g,i.clockWise=h,i.CLASS_NAME="SuperMap.Feature.ShapeParameters.Sector",i}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,f.ShapeParameters),d(b,[{key:"destroy",value:function(){this.x=null,this.y=null,this.r=null,this.startAngle=null,this.endAngle=null,this.r0=null,this.clockWise=null,function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0}(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}}]),b}();e.SuperMap.Feature=e.SuperMap.Feature||{},e.SuperMap.Feature.ShapeParameters.Sector=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Polygon=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(26),g=b.Polygon=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.pointList=a,c.holePolygonPointLists=null,c.CLASS_NAME="SuperMap.Feature.ShapeParameters.Polygon",c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,f.ShapeParameters),d(b,[{key:"destroy",value:function(){this.pointList=null,this.holePolygonPointLists=null,function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0}(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}}]),b}();e.SuperMap.Feature=e.SuperMap.Feature||{},e.SuperMap.Feature.ShapeParameters.Polygon=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Line=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(26),g=b.Line=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.pointList=a,c.CLASS_NAME="SuperMap.Feature.ShapeParameters.Line",c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,f.ShapeParameters),d(b,[{key:"destroy",value:function(){this.pointList=null,function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0}(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}}]),b}();e.SuperMap.Feature=e.SuperMap.Feature||{},e.SuperMap.Feature.ShapeParameters.Line=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Point=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(26),g=b.Point=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.x=isNaN(a)?0:a,d.y=isNaN(c)?0:c,d.r=6,d.CLASS_NAME="SuperMap.Feature.ShapeParameters.Point",d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,f.ShapeParameters),d(b,[{key:"destroy",value:function(){this.x=null,this.y=null,this.r=null,function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0}(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}}]),b}();e.SuperMap.Feature=e.SuperMap.Feature||{},e.SuperMap.Feature.ShapeParameters.Point=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.LabelMatrixCell=void 0;var d=c(0),e=b.LabelMatrixCell=function f(){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,f),this.CLASS_NAME="LabelMatrixCell"};d.SuperMap.LabelMatrixCell=e},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ThemeOffset=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=b.ThemeOffset=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.offsetFixed=!1,this.offsetX="0.0",this.offsetY="0.0",b&&f.Util.extend(this,b),this.CLASS_NAME="SuperMap.ThemeOffset"}return d(a,[{key:"destroy",value:function(){this.offsetFixed=null,this.offsetX=null,this.offsetY=null}}],[{key:"fromObj",value:function(b){if(b){var c=new a;return f.Util.copy(c,b),c}}}]),a}();e.SuperMap.ThemeOffset=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ThemeFlow=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(14),h=b.ThemeFlow=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.flowEnabled=!1,this.leaderLineDisplayed=!1,this.leaderLineStyle=new g.ServerStyle,b&&f.Util.extend(this,b),this.CLASS_NAME="SuperMap.ThemeFlow"}return d(a,[{key:"destroy",value:function(){var a=this;a.flowEnabled=null,a.leaderLineDisplayed=null,a.leaderLineStyle&&(a.leaderLineStyle.destroy(),a.leaderLineStyle=null)}}],[{key:"fromObj",value:function(b){if(b){var c=new a;return f.Util.copy(c,b),c.leaderLineStyle=g.ServerStyle.fromJson(b.leaderLineStyle),c}}}]),a}();e.SuperMap.ThemeFlow=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ThemeLabel=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(28),h=c(264),i=c(123),j=c(83),k=c(82),l=c(263),m=c(261),n=c(260),o=c(4),p=b.ThemeLabel=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,"LABEL",a));return c.alongLine=new m.ThemeLabelAlongLine,c.background=new n.ThemeLabelBackground,c.flow=new j.ThemeFlow,c.items=null,c.uniqueItems=null,c.labelExpression=null,c.labelOverLengthMode=o.LabelOverLengthMode.NONE,c.matrixCells=null,c.maxLabelLength=256,c.numericPrecision=0,c.offset=new k.ThemeOffset,c.overlapAvoided=!0,c.rangeExpression=null,c.uniqueExpression=null,c.smallGeometryLabeled=!1,c.text=new l.ThemeLabelText,c.textSpace=0,a&&f.Util.extend(c,a),c.CLASS_NAME="SuperMap.ThemeLabel",c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g.Theme),d(b,[{key:"destroy",value:function(){(function i(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:i(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0!==f?f.call(c):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this);var a=this;if(a.alongLine=null,a.background&&(a.background.destroy(),a.background=null),a.flow=null,a.items){for(var c=0,d=a.items,e=d.length;e>c;c++)d[c].destroy();a.items=null}if(a.uniqueItems){for(var f=0,g=a.uniqueItems,h=g.length;h>f;f++)g[f].destory();a.uniqueItems=null}a.labelExpression=null,a.labelOverLengthMode=null,a.matrixCells=null,a.maxLabelLength=null,a.numericPrecision=null,a.overlapAvoided=null,a.rangeExpression=null,a.uniqueExpression=null,a.offset&&(a.offset.destroy(),a.offset=null),a.overlapAvoided=null,a.smallGeometryLabeled=null,a.text&&(a.text.destroy(),a.text=null),a.textSpace=null}},{key:"toJSON",value:function(){return f.Util.toJSON(this.toServerJSONObject())}},{key:"toServerJSONObject",value:function(){var a={};return a.type=this.type,a.memoryData=this.memoryData,this.alongLine&&(a.alongLine=this.alongLine.isAlongLine,a.alongLineDirection=this.alongLine.alongLineDirection,a.angleFixed=this.alongLine.angleFixed,a.isLabelRepeated=this.alongLine.isLabelRepeated,a.labelRepeatInterval=this.alongLine.labelRepeatInterval,a.repeatedLabelAvoided=this.alongLine.repeatedLabelAvoided,a.repeatIntervalFixed=this.alongLine.repeatIntervalFixed),this.offset&&(a.offsetFixed=this.offset.offsetFixed,a.offsetX=this.offset.offsetX,a.offsetY=this.offset.offsetY),this.flow&&(a.flowEnabled=this.flow.flowEnabled,a.leaderLineDisplayed=this.flow.leaderLineDisplayed,a.leaderLineStyle=this.flow.leaderLineStyle),this.text&&(a.maxTextHeight=this.text.maxTextHeight,a.maxTextWidth=this.text.maxTextWidth,a.minTextHeight=this.text.minTextHeight,a.minTextWidth=this.text.minTextWidth,a.uniformStyle=this.text.uniformStyle,a.uniformMixedStyle=this.text.uniformMixedStyle),this.background&&(a.labelBackShape=this.background.labelBackShape,a.backStyle=this.background.backStyle),a.labelOverLengthMode=this.labelOverLengthMode,a.maxLabelLength=this.maxLabelLength,a.smallGeometryLabeled=this.smallGeometryLabeled,a.rangeExpression=this.rangeExpression,a.uniqueExpression=this.uniqueExpression,a.numericPrecision=this.numericPrecision,a.items=this.items,a.uniqueItems=this.uniqueItems,a.labelExpression=this.labelExpression,a.overlapAvoided=this.overlapAvoided,a.matrixCells=this.matrixCells,a.textSpace=this.textSpace,a}}],[{key:"fromObj",value:function(a){if(a){var c=new b,d=a.items,e=a.uniqueItems,g=a.matrixCells;if(a.matrixCells=null,f.Util.copy(c,a),c.alongLine=m.ThemeLabelAlongLine.fromObj(a),c.background=n.ThemeLabelBackground.fromObj(a),c.flow=new j.ThemeFlow({flowEnabled:a.flowEnabled,leaderLineDisplayed:a.leaderLineDisplayed,leaderLineStyle:a.leaderLineStyle}),d){c.items=[];for(var o=0,p=d.length;p>o;o++)c.items.push(h.ThemeLabelItem.fromObj(d[o]))}if(e){c.uniqueItems=[];for(var q=0,r=e.length;r>q;q++)c.uniqueItems.push(i.ThemeUniqueItem.fromObj(e[q]))}if(g){c.matrixCells=[];for(var s=0,t=g.length;t>s;s++);}return c.offset=k.ThemeOffset.fromObj(a),c.text=l.ThemeLabelText.fromObj(a),c}}}]),b}();e.SuperMap.ThemeLabel=p},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ThiessenAnalystParameters=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=b.ThiessenAnalystParameters=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),b&&(this.clipRegion=null,this.createResultDataset=!1,this.resultDatasetName=null,this.resultDatasourceName=null,this.returnResultRegion=!0,f.Util.extend(this,b),this.CLASS_NAME="SuperMap.ThiessenAnalystParameters")}return d(a,[{key:"destroy",value:function(){var a=this;a.clipRegion&&(a.clipRegion.destroy(),a.clipRegion=null),a.createResultDataset=null,a.resultDatasetName=null,a.resultDatasourceName=null,a.returnResultRegion=null}}]),a}();e.SuperMap.ThiessenAnalystParameters=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SurfaceAnalystParameters=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(62),h=c(4),i=c(293),j=b.SurfaceAnalystParameters=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.resolution=0,this.extractParameter=new i.SurfaceAnalystParametersSetting,this.resultSetting=new g.DataReturnOption,this.surfaceAnalystMethod=h.SurfaceAnalystMethod.ISOLINE,b&&f.Util.extend(this,b),this.CLASS_NAME="SuperMap.SurfaceAnalystParameters"}return d(a,[{key:"destroy",value:function(){var a=this;a.resolution=null,a.extractParameter&&(a.extractParameter.destroy(),a.extractParameter=null),a.resultSetting&&(a.resultSetting.destroy(),a.resultSetting=null),a.surfaceAnalystMethod=null}}]),a}();e.SuperMap.SurfaceAnalystParameters=j},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.JoinItem=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=b.JoinItem=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.foreignTableName=null,this.joinFilter=null,this.joinType=null,b&&f.Util.extend(this,b),this.CLASS_NAME="SuperMap.JoinItem"}return d(a,[{key:"destroy",value:function(){this.foreignTableName=null,this.joinFilter=null,this.joinType=null}},{key:"toServerJSONObject",value:function(){var a={};return a=f.Util.copyAttributes(a,this)}}]),a}();e.SuperMap.JoinItem=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.IPortalServiceBase=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(4),g=c(40),h=c(135),i=c(21),j=b.IPortalServiceBase=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.serviceUrl=b,this.serverType=f.ServerType.iPortal,this.CLASS_NAME="SuperMap.iPortalServiceBase"}return d(a,[{key:"request",value:function(a,b,c,d){return b=this.createCredentialUrl(b),i.FetchRequest.commit(a,b,c,d).then(function(a){return a.json()})}},{key:"createCredentialUrl",value:function(a){var b=a,c=this.getCredential();if(c){var d=b.substring(b.length-1,b.length);b+=b.indexOf("?")>-1&&"?"===d?c.getUrlParameters():b.indexOf("?")>-1&&"?"!==d?"&"+c.getUrlParameters():"?"+c.getUrlParameters()}return b}},{key:"getCredential",value:function(){var a,b=g.SecurityManager.getToken(this.serviceUrl);return(a=b?new h.Credential(b,"token"):null)||(a=(b=this.getKey())?new h.Credential(b,"key"):null),a}},{key:"getKey",value:function(){}}]),a}();e.SuperMap.iPortalServiceBase=j},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Route=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d);
}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(41),h=c(23),i=c(320),j=c(34),k=b.Route=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.id=null,d.center=null,d.style=null,d.length=null,d.maxM=null,d.minM=null,d.parts=null,d.points=null,d.type=null,d.componentTypes=["SuperMap.Geometry.LinearRing","SuperMap.Geometry.LineString"],c&&f.Util.extend(d,c),d.CLASS_NAME="SuperMap.Route",d.geometryType="LINEM",d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,j.Collection),d(b,[{key:"toJson",value:function(){var a="{";if(null!=this.id&&void 0!=this.id&&(a+='"id":'+this.id+","),null!=this.center&&void 0!=this.center&&(a+='"center":'+this.center+","),null!=this.style&&void 0!=this.style&&(a+='"style":'+this.style+","),null!=this.length&&void 0!=this.length&&(a+='"length":'+this.length+","),null!=this.maxM&&void 0!=this.maxM&&(a+='"maxM":'+this.maxM+","),null!=this.minM&&void 0!=this.minM&&(a+='"minM":'+this.minM+","),null!=this.type&&void 0!=this.type&&(a+='"type":"'+this.type+'",'),null!=this.parts&&void 0!=this.parts){a+='"parts":['+this.parts[0];for(var b=1;b<this.parts.length;b++)a+=","+this.parts[b];a+="],"}if(null!=this.components&&this.components.length>0){a+='"points":[';for(var c=0,d=this.components.length;d>c;c++)for(var e=0,f=this.components[c].components.length;f>e;e++)a+=this.components[c].components[e].toJson()+",";a=a.replace(/,$/g,""),a+="]"}return a=a.replace(/,$/g,""),a+="}"}},{key:"destroy",value:function(){var a=this;a.id=null,a.center=null,a.style=null,a.length=null,a.maxM=null,a.minM=null,a.type=null,a.parts=null,a.components.length=0,a.components=null,a.componentTypes=null}}],[{key:"fromJson",value:function(a){if(a){var c=a.parts||[],d=a.points||[],e=c.length,f=[];if(!(e>0))return null;for(var j=0,k=0,l=[];e>j;j++){for(var m=0;m<c[j];m++)l.push(i.PointWithMeasure.fromJson(d[k+m]));k+=c[j],l[0].equals(l[c[j]-1])?f.push(new g.LinearRing(l)):f.push(new h.LineString(l)),l=[]}return new b(f,{id:a.id,center:a.center,style:a.style,length:a.length,maxM:a.maxM,minM:a.minM,type:a.type,parts:a.parts})}}}]),b}();e.SuperMap.Route=k},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Vector=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(321),g=c(1),h=b.Vector=function(a){function b(a,c,d){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var f=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,null,null,c));return f.fid=null,f.geometry=a||null,f.attributes={},c&&(f.attributes=g.Util.extend(f.attributes,c)),f.bounds=null,f.state=null,f.style=d||null,f.url=null,f.lonlat=null,f.CLASS_NAME="SuperMap.Feature.Vector",e.SuperMap.State={UNKNOWN:"Unknown",INSERT:"Insert",UPDATE:"Update",DELETE:"Delete"},b.style={"default":{fillColor:"#ee9900",fillOpacity:.4,hoverFillColor:"white",hoverFillOpacity:.8,strokeColor:"#ee9900",strokeOpacity:1,strokeWidth:1,strokeLinecap:"round",strokeDashstyle:"solid",hoverStrokeColor:"red",hoverStrokeOpacity:1,hoverStrokeWidth:.2,pointRadius:6,hoverPointRadius:1,hoverPointUnit:"%",pointerEvents:"visiblePainted",cursor:"inherit",fontColor:"#000000",labelAlign:"cm",labelOutlineColor:"white",labelOutlineWidth:3},select:{fillColor:"blue",fillOpacity:.4,hoverFillColor:"white",hoverFillOpacity:.8,strokeColor:"blue",strokeOpacity:1,strokeWidth:2,strokeLinecap:"round",strokeDashstyle:"solid",hoverStrokeColor:"red",hoverStrokeOpacity:1,hoverStrokeWidth:.2,pointRadius:6,hoverPointRadius:1,hoverPointUnit:"%",pointerEvents:"visiblePainted",cursor:"pointer",fontColor:"#000000",labelAlign:"cm",labelOutlineColor:"white",labelOutlineWidth:3},temporary:{fillColor:"#66cccc",fillOpacity:.2,hoverFillColor:"white",hoverFillOpacity:.8,strokeColor:"#66cccc",strokeOpacity:1,strokeLinecap:"round",strokeWidth:2,strokeDashstyle:"solid",hoverStrokeColor:"red",hoverStrokeOpacity:1,hoverStrokeWidth:.2,pointRadius:6,hoverPointRadius:1,hoverPointUnit:"%",pointerEvents:"visiblePainted",cursor:"default",fontColor:"#000000",labelAlign:"cm",labelOutlineColor:"white",labelOutlineWidth:3},"delete":{display:"none"}},f}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,f.Feature),d(b,[{key:"destroy",value:function(){this.layer&&(this.layer.removeFeatures(this),this.layer=null),this.geometry=null,function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0}(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"clone",value:function(){return new b(this.geometry?this.geometry.clone():null,this.attributes,this.style)}},{key:"toState",value:function(a){if(a===e.SuperMap.State.UPDATE)switch(this.state){case e.SuperMap.State.UNKNOWN:case e.SuperMap.State.DELETE:this.state=a;break;case e.SuperMap.State.UPDATE:case e.SuperMap.State.INSERT:}else if(a===e.SuperMap.State.INSERT)switch(this.state){case e.SuperMap.State.UNKNOWN:break;default:this.state=a}else if(a===e.SuperMap.State.DELETE)switch(this.state){case e.SuperMap.State.INSERT:case e.SuperMap.State.DELETE:break;case e.SuperMap.State.UNKNOWN:case e.SuperMap.State.UPDATE:this.state=a}else a===e.SuperMap.State.UNKNOWN&&(this.state=a)}}]),b}();e.SuperMap.Feature.Vector=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Events=void 0;var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=c(0),g=c(92),h=c(322),i=c(66),j=c(1),k=b.Events=function(){function a(b,c,d,e,f){if(function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.BROWSER_EVENTS=["mouseover","mouseout","mousedown","mouseup","mousemove","click","dblclick","rightclick","dblrightclick","resize","focus","blur","touchstart","touchmove","touchend","keydown","MSPointerDown","MSPointerUp","pointerdown","pointerup","MSGestureStart","MSGestureChange","MSGestureEnd","contextmenu"],this.listeners={},this.object=b,this.element=null,this.eventTypes=[],this.eventHandler=null,this.fallThrough=e,this.includeXY=!1,this.extensions={},this.extensionCount={},this.clearMouseListener=null,j.Util.extend(this,f),null!=d)for(var g=0,h=d.length;h>g;g++)this.addEventType(d[g]);null!=c&&this.attachToElement(c),this.CLASS_NAME="SuperMap.Events"}return e(a,[{key:"destroy",value:function(){for(var a in this.extensions)"boolean"!=typeof this.extensions[a]&&this.extensions[a].destroy();this.extensions=null,this.element&&(h.Event.stopObservingElement(this.element),this.element.hasScrollEvent&&h.Event.stopObserving(window,"scroll",this.clearMouseListener)),this.element=null,this.listeners=null,this.object=null,this.eventTypes=null,this.fallThrough=null,this.eventHandler=null}},{key:"addEventType",value:function(a){this.listeners[a]||(this.eventTypes.push(a),this.listeners[a]=[])}},{key:"attachToElement",value:function(a){this.element?h.Event.stopObservingElement(this.element):(this.eventHandler=i.FunctionExt.bindAsEventListener(this.handleBrowserEvent,this),this.clearMouseListener=i.FunctionExt.bind(this.clearMouseCache,this)),this.element=a;for(var b=0,c=this.BROWSER_EVENTS.length;c>b;b++){var d=this.BROWSER_EVENTS[b];this.addEventType(d),h.Event.observe(a,d,this.eventHandler)}h.Event.observe(a,"dragstart",h.Event.stop)}},{key:"on",value:function(a){for(var b in a)"scope"!==b&&a.hasOwnProperty(b)&&this.register(b,a.scope,a[b])}},{key:"register",value:function(b,c,e,f){if(b in a&&!this.extensions[b]&&(this.extensions[b]=new a[b](this)),null!=e&&-1!==j.Util.indexOf(this.eventTypes,b)){null==c&&(c=this.object);var g=this.listeners[b];g||(g=[],this.listeners[b]=g,this.extensionCount[b]=0);var h={obj:c,func:e};f?(g.splice(this.extensionCount[b],0,h),"object"===(void 0===f?"undefined":d(f))&&f.extension&&this.extensionCount[b]++):g.push(h)}}},{key:"registerPriority",value:function(a,b,c){this.register(a,b,c,!0)}},{key:"un",value:function(a){for(var b in a)"scope"!==b&&a.hasOwnProperty(b)&&this.unregister(b,a.scope,a[b])}},{key:"unregister",value:function(a,b,c){null==b&&(b=this.object);var d=this.listeners[a];if(null!=d)for(var e=0,f=d.length;f>e;e++)if(d[e].obj===b&&d[e].func===c){d.splice(e,1);break}}},{key:"remove",value:function(a){null!=this.listeners[a]&&(this.listeners[a]=[])}},{key:"triggerEvent",value:function(a,b){var c=this.listeners[a];if(c&&0!=c.length){var d;null==b&&(b={}),b.object=this.object,b.element=this.element,b.type||(b.type=a);for(var e=0,f=(c=c.slice()).length;f>e;e++){var g=c[e];if(void 0!=(d=g.func.apply(g.obj,[b]))&&0==d)break}return this.fallThrough||h.Event.stop(b,!0),d}}},{key:"handleBrowserEvent",value:function(a){var b=a.type,c=this.listeners[b];if(c&&0!=c.length){var d=a.touches;if(d&&d[0]){for(var e,f=0,g=0,h=d.length,i=0;h>i;++i)f+=(e=d[i]).clientX,g+=e.clientY;a.clientX=f/h,a.clientY=g/h}this.includeXY&&(a.xy=this.getMousePosition(a)),this.triggerEvent(b,a)}}},{key:"clearMouseCache",value:function(){this.element.scrolls=null,this.element.lefttop=null;var a=document.body;a&&(0==a.scrollTop&&0==a.scrollLeft||!navigator.userAgent.match(/iPhone/i))&&(this.element.offsets=null)}},{key:"getMousePosition",value:function(a){if(this.includeXY?this.element.hasScrollEvent||(h.Event.observe(window,"scroll",this.clearMouseListener),this.element.hasScrollEvent=!0):this.clearMouseCache(),!this.element.scrolls){var b=j.Util.getViewportElement();this.element.scrolls=[b.scrollLeft,b.scrollTop]}return this.element.lefttop||(this.element.lefttop=[document.documentElement.clientLeft||0,document.documentElement.clientTop||0]),this.element.offsets||(this.element.offsets=j.Util.pagePosition(this.element)),new g.Pixel(a.clientX+this.element.scrolls[0]-this.element.offsets[0]-this.element.lefttop[0],a.clientY+this.element.scrolls[1]-this.element.offsets[1]-this.element.lefttop[1])}}]),a}();f.SuperMap.Events=k,f.SuperMap.Events.prototype.BROWSER_EVENTS=["mouseover","mouseout","mousedown","mouseup","mousemove","click","dblclick","rightclick","dblrightclick","resize","focus","blur","touchstart","touchmove","touchend","keydown","MSPointerDown","MSPointerUp","pointerdown","pointerup","MSGestureStart","MSGestureChange","MSGestureEnd","contextmenu"]},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Pixel=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=b.Pixel=function(){function a(b,c,d){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.x=b?parseFloat(b):0,this.y=c?parseFloat(c):0,this.mode=d,this.CLASS_NAME="SuperMap.Pixel",e.SuperMap.Pixel.Mode={LeftTop:"lefttop",RightTop:"righttop",RightBottom:"rightbottom",LeftBottom:"leftbottom"}}return d(a,[{key:"toString",value:function(){return"x="+this.x+",y="+this.y}},{key:"clone",value:function(){return new a(this.x,this.y,this.mode)}},{key:"equals",value:function(a){var b=!1;return null!=a&&(b=this.x==a.x&&this.y==a.y||isNaN(this.x)&&isNaN(this.y)&&isNaN(a.x)&&isNaN(a.y)),b}},{key:"distanceTo",value:function(a){return Math.sqrt(Math.pow(this.x-a.x,2)+Math.pow(this.y-a.y,2))}},{key:"add",value:function(b,c){if(null==b||null==c)throw new TypeError("Pixel.add cannot receive null values");return new a(this.x+b,this.y+c)}},{key:"offset",value:function(a){var b=this.clone();return a&&(b=this.add(a.x,a.y)),b}},{key:"destroy",value:function(){this.x=null,this.y=null,this.mode=null}}]),a}();e.SuperMap.Pixel=f},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0}),b.GeoJsonLayerDataModel=b.GeoJsonLayersDataModel=void 0;var e,f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(2),h=(e=g)&&e.__esModule?e:{"default":e};c(3);var i=b.GeoJsonLayersDataModel=function(){function a(b){d(this,a),this.layers=[],b&&b.length>0&&this.addLayers(b),this.currentLayerDataModel=null}return f(a,[{key:"addLayers",value:function(a,b,c,d){for(var e=0;e<a.length;e++){var f=a[e].layerName;if(a[e].layer instanceof h["default"].GeoJSON){var g=new j(a[e].layer);this.layers[f]=g,b&&b.call(d,{layerName:f,layer:g})}else c&&c.call(d,"")}}},{key:"setCurrentLayerDataModel",value:function(a){this.layers[a]&&(this.currentLayerDataModel=this.layers[a])}}]),a}();h["default"].supermap.widgets.GeoJsonLayersDataModel=i;var j=b.GeoJsonLayerDataModel=function(){function a(b){if(d(this,a),this.layer=b,this.features=b.getLayers(),this.attributeNames=[],this.features[0].feature.properties)for(var c in this.features[0].feature.properties)this.attributeNames.push(c);this.operatingAttributeNames=[],this.attributes={}}return f(a,[{key:"setOperatingAttributeNames",value:function(a){this.operatingAttributeNames=a}},{key:"getAllAttributeNames",value:function(){return this.attributeNames}},{key:"getAttributeNamesByType",value:function(a){if(this.features[0].feature.properties){var b=this.features[0].feature.properties,c=[];if("Num"===a)for(var d in b)isNaN(b[d])||c.push(d);else c=this.attributeNames;return c}}},{key:"getAllFeatures",value:function(){return this.features}},{key:"getAttributeValueByAttributeName",value:function(a){if(this.attributes[a])return this.attributes[a];this.attributes[a]=[];for(var b=0;b<this.features.length;b++)this.attributes[a].push([this.features[b].feature.properties[a]]);return this.attributes[a]}},{key:"getFeaturesByKeyWord",value:function(a){var b=[],c=new RegExp(a.toLowerCase()),d=this;return this.features.forEach(function(a){if(!a.feature.properties)return null;for(var e=a.feature.properties,f=void 0,g=0,h=(f=d.operatingAttributeNames.length>0?d.operatingAttributeNames:d.attributeNames).length;h>g;g++)if(e[f[g]]&&c.test(e[f[g]].toString().toLowerCase())){var i=f[g],j=e[f[g]];a.filterAttribute={filterAttributeName:i,filterAttributeValue:j},b.push(a);break}}),b}}]),a}()},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.VectorTileFormat=void 0;var d,e=c(2),f=(d=e)&&d.__esModule?d:{"default":d};c(3);var g=b.VectorTileFormat={JSON:"JSON",MVT:"MVT",PBF:"PBF"};f["default"].supermap.VectorTileFormat=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.PolyBase=void 0;var d,e=c(2),f=(d=e)&&d.__esModule?d:{"default":d};b.PolyBase={_makeFeatureParts:function(a,b){b=b||{x:1,y:1};var c,d=a.geometry;this._parts=[];for(var e=0;e<d.length;e++){for(var g=d[e],h=[],i=0;i<g.length;i++)c=g[i],h.push(f["default"].point(c).scaleBy(b));this._parts.push(h)}},makeInteractive:function(){this._pxBounds=this._getPixelBounds()}}},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.TextSymbolizer=void 0;var d,e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},f=c(2),g=(d=f)&&d.__esModule?d:{"default":d},h=c(50),i=c(97),j=c(98),k=b.TextSymbolizer=g["default"].Path.extend({includes:h.Symbolizer.prototype,options:{color:"white",fillColor:"black",fill:!0,fillOpacity:1,opacity:.6,weight:1,rotation:0,stroke:!0,fontFamily:"Arial Unicode MS Regular",fontSize:14,fontWeight:"normal",textAlign:"center",offsetX:1,offsetY:1},initialize:function(a,b){h.Symbolizer.prototype.initialize.call(this,a),this._makeFeatureParts(a,b),this.options.offsetX=b||1,this.options.offsetY=b||1},render:function(a,b){if(this.properties.texts&&(this._text=this.properties.texts[0]),!this._text){var c=this.properties.attributes;this._text=c&&this.properties.textField&&c[this.properties.textField]||""}var d=this.options;this._pxBounds=g["default"].bounds(this._point,this._point),h.Symbolizer.prototype.render.apply(this,[a,b]),this.options=g["default"].Util.extend(d,b),this._updatePath()},_makeFeatureParts:function(a,b){b=b||{x:1,y:1};var c=a.geometry[0];"object"===e(c[0])&&"x"in c[0]?(this._point=g["default"].point(c[0]).scaleBy(b),this._empty=g["default"].Util.falseFn):(this._point=g["default"].point(c).scaleBy(b),this._empty=g["default"].Util.falseFn)},makeInteractive:function(){this._updateBounds()},updateStyle:function(a,b){return this._updateBounds(),h.Symbolizer.prototype.updateStyle.call(this,a,b)},_updateBounds:function(){var a=this._renderer._getTextWidth(this),b=[a/2,a/2];this._pxBounds=g["default"].bounds(this._point.subtract(b),this._point.add(b))},_updatePath:function(){this._renderer._updateText(this)},_containsPoint:function(a){return!1}});i.CanvasRenderer.include({_getTextWidth:function(a){return this._ctx.measureText(a._text).width},_updateText:function(a){if(this._drawing&&!a._empty()){var b=this.getContainer(),c=this._map.getSize();b.width=c.x,b.height=c.y,b.style.width=c.x+"px",b.style.height=c.y+"px";var d=this._ctx,e=a.options,f=e.offsetX||1,h=e.offsetY||1,i=a._point.subtract(g["default"].point(f,h));e.fill&&(this._drawnLayers[a._leaflet_id]=a,d.fillRect(0,0,c.x,c.y),d.font=[e.fontWeight?e.fontWeight:"normal",e.fontSize?e.fontSize:"14px",e.fontFamily?e.fontFamily:"Arial Unicode MS Regular,Microsoft Yahei"].join(" "),d.textAlign=e.textAlign,d.lineWidth=e.weight,d.fillStyle=e.fillColor,d.fillText(a._text,i.x,i.y),d.strokeStyle=e.color,d.strokeText(a._text,i.x,i.y),d.rotate(e.rotation))}}}),j.SVGRenderer.include({_getTextWidth:function(a){return a._path.getComputedTextLength()||0},_initPath:function(a){var b;k&&a instanceof k?(b=a._path=g["default"].SVG.create("text")).textContent=a._text:b=a._path=g["default"].SVG.create("path"),a.options.className&&g["default"].DomUtil.addClass(b,a.options.className),a.options.interactive&&g["default"].DomUtil.addClass(b,"leaflet-interactive"),this._updateStyle(a),this._layers[g["default"].stamp(a)]=a},_updateText:function(a){var b=a._path,c=a.options,d=c.offsetX||1,e=c.offsetY||1,f=a._point.subtract(g["default"].point(d,e));b.setAttribute("x",f.x),b.setAttribute("y",f.y),c.rotation=c.rotation||0,b.setAttribute("transform","rotate("+c.rotation/Math.PI*180+" "+f.x+" "+f.y+")"),b.setAttribute("text-anchor","center"===c.textAlign?"middle":c.textAlign),b.style.fontSize=c.fontSize,b.style.fontFamily=c.fontFamily,b.style.fontWeight=c.fontWeight||"normal",b.style.glyphOrientationVertical=c.rotation||"",c.stroke?(b.setAttribute("stroke",c.color),b.setAttribute("stroke-linecap","round"),b.setAttribute("stroke-linejoin","round"),b.setAttribute("stroke-opacity",c.opacity),b.setAttribute("stroke-width",c.weight>1?c.weight/10:c.weight)):b.setAttribute("stroke","none"),c.fill?(b.setAttribute("fill",c.fillColor||c.color),b.setAttribute("fill-opacity",c.fillOpacity)):b.setAttribute("fill","none")}})},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.CanvasRenderer=void 0;var d,e=c(2),f=(d=e)&&d.__esModule?d:{"default":d};b.CanvasRenderer=f["default"].Canvas.extend({initialize:function(a,b,c){f["default"].Canvas.prototype.initialize.call(this,c),this._tileCoord=a,this._size=b,this._initContainer(),this._container.setAttribute("width",this._size.x),this._container.setAttribute("height",this._size.y),this._layers={},this._drawnLayers={},this._drawing=!0,c.interactive&&(this._container.style.pointerEvents="auto")},getCoord:function(){return this._tileCoord},getContainer:function(){return this._container},getOffset:function(){return this._tileCoord.scaleBy(this._size).subtract(this._map.getPixelOrigin())},onAdd:f["default"].Util.falseFn,addTo:function(a){this._map=a},removeFrom:function(a){delete this._map},_updateDashArray:function(a){var b=a.options.dashArray;if(b&&"string"==typeof b){var c,d=b.split(","),e=[];for(c=0;c<d.length;c++)e.push(Number(d[c]));a.options._dashArray=e}else a.options._dashArray=b},_onClick:function(a){var b,c,d=this._map.mouseEventToLayerPoint(a).subtract(this.getOffset());for(var e in this._layers)(b=this._layers[e]).options.interactive&&b._containsPoint(d)&&!this._map._draggableMoved(b)&&(c=b);c&&(f["default"].DomEvent.stop(a),this._fireEvent([c],a))},_onMouseMove:function(a){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var b=this._map.mouseEventToLayerPoint(a).subtract(this.getOffset());this._handleMouseHover(a,b)}},_updateIcon:function(a){if(this._drawing){var b=a.options,c=this._ctx,d=a._getImage();if(b.iconSize&&d.complete){var e=f["default"].point(b.iconSize),g=e&&e.divideBy(2,!0),h=a._point.subtract(g);c.drawImage(d,h.x,h.y,e.x,e.y)}else f["default"].DomEvent.on(d,"load",function(){var b=f["default"].point([d.width,d.height]),e=b&&b.divideBy(2,!0),g=a._point.subtract(e);c.drawImage(d,g.x,g.y,b.x,b.y)});this._drawnLayers[a._leaflet_id]=a}}})},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SVGRenderer=void 0;var d,e=c(2),f=(d=e)&&d.__esModule?d:{"default":d};b.SVGRenderer=f["default"].SVG.extend({initialize:function(a,b,c){f["default"].SVG.prototype.initialize.call(this,c),this._tileCoord=a,this._size=b,this._initContainer(),this._container.setAttribute("width",this._size.x),this._container.setAttribute("height",this._size.y),this._container.setAttribute("viewBox",[0,0,this._size.x,this._size.y].join(" ")),this._layers={}},getCoord:function(){return this._tileCoord},getContainer:function(){return this._container},onAdd:f["default"].Util.falseFn,addTo:function(a){if(this._map=a,this.options.interactive)for(var b in this._layers){var c=this._layers[b];c._path.style.pointerEvents="auto",this._map._targets[f["default"].stamp(c._path)]=c}},removeFrom:function(a){var b=a||this._map;if(this.options.interactive)for(var c in this._layers){var d=this._layers[c];delete b._targets[f["default"].stamp(d._path)]}delete this._map},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup||(this._rootGroup=this._container),this._rootGroup.appendChild(a._path),this._layers[f["default"].stamp(a)]=a},_updateIcon:function(a){var b=a._path=f["default"].SVG.create("image"),c=a.options,d=c.iconUrl;if(c.iconSize){var e=f["default"].point(c.iconSize),g=e&&e.divideBy(2,!0),h=a._point.subtract(g);b.setAttribute("x",h.x),b.setAttribute("y",h.y),b.setAttribute("width",e.x+"px"),b.setAttribute("height",e.y+"px")}else{var i=new Image;i.src=d,f["default"].DomEvent.on(i,"load",function(){var c=f["default"].point([i.width,i.height]),d=c&&c.divideBy(2,!0),e=a._point.subtract(d);b.setAttribute("x",e.x),b.setAttribute("y",e.y),b.setAttribute("width",c.x+"px"),b.setAttribute("height",c.y+"px")})}b.setAttribute("href",d)}})},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.themeFeature=b.ThemeFeature=void 0;var d,e=c(2),f=(d=e)&&d.__esModule?d:{"default":d};c(3);var g=c(5),h=b.ThemeFeature=f["default"].Class.extend({initialize:function(a,b){this.geometry=a,this.attributes=b},toFeature:function(){var a=this.geometry,b=[],c=void 0;if(a.toGeoJSON)return(c=a.toGeoJSON()).properties=this.attributes,(new g.GeoJSON).read(c)[0];if(3===a.length)a=new g.GeoText(a[1],a[0],a[2]);else if(2===a.length)a=new g.GeometryPoint(b[0],b[1]);else if(a instanceof f["default"].LatLng)a=new g.GeometryPoint(a.lng,a.lat);else if(a instanceof f["default"].Point)a=new g.GeometryPoint(a.x,a.y);else if(a instanceof f["default"].CircleMarker){var d=a.getLatLng();a=new g.GeometryPoint(d.lng,d.lat)}return new g.GeometryVector(a,this.attributes)},reverseLatLngs:function(a){f["default"].Util.isArray(a)||(a=[a]);for(var b=0;b<a.length;b++)a[b]=[a[b].lng,a[b].lat];return a}}),i=b.themeFeature=function(a,b){return new h(a,b)};f["default"].supermap.themeFeature=i},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0}),b.ThemeLayer=void 0;var e=d(c(2)),f=c(5),g=c(99),h=d(c(11));b.ThemeLayer=e["default"].Layer.extend({options:{alwaysMapCRS:!1,id:f.CommonUtil.createUniqueID("themeLayer_"),opacity:1,TFEvents:[],attribution:h["default"].Common.attribution},initialize:function(a,b){e["default"].Util.setOptions(this,b),this.name=a,this.features=[],this.TFEvents=this.options.TFEvents,this.levelRenderer=new f.LevelRenderer,this.movingOffset=[0,0]},getEvents:function(){var a={zoomend:this._reset,moveend:this._reset,resize:this._resize};return this._map._zoomAnimated&&(a.zoomanim=this._zoomAnim),a},onRemove:function(a){e["default"].DomUtil.remove(this.container),a.off("mousemove",this.mouseMoveHandler)},onAdd:function(a){var b=this;if(b.map=b._map=a,b._initContainer(),b.levelRenderer){var c=a.getSize();b.container.style.width=c.x+"px",b.container.style.height=c.y+"px",b._updateOpacity(),b.renderer=b.levelRenderer.init(b.container),b.renderer.clear(),b.features&&b.features.length>0&&b._reset(),b.addTFEvents(),b.mouseMoveHandler=function(a){var c=a.layerPoint;b.currentMousePosition=e["default"].point(c.x+b.movingOffset[0],c.y+b.movingOffset[1])},a.on("mousemove",b.mouseMoveHandler),b.update(a.getBounds())}else a.removeLayer(b)},addFeatures:function(a){},redrawThematicFeatures:function(a){},destroyFeatures:function(a){if(void 0===a&&(a=this.features),a){this.removeFeatures(a);for(var b=a.length-1;b>=0;b--)a[b].destroy()}},removeFeatures:function(a){var b=this;if(a&&0!==a.length){if(a===b.features)return b.removeAllFeatures();e["default"].Util.isArray(a)||(a=[a]);for(var c=[],d=a.length-1;d>=0;d--){var f=a[d],g=e["default"].Util.indexOf(b.features,f);-1!==g?b.features.splice(g,1):c.push(f)}for(var h=[],i=0,j=b.features.length;j>i;i++)f=b.features[i],h.push(f);b.features=[],b.addFeatures(h),b.renderer&&(b._map?b.redrawThematicFeatures(b._map.getBounds()):b.redrawThematicFeatures());var k=0==c.length;b.fire("featuresremoved",{features:c,succeed:k})}},removeAllFeatures:function(){this.renderer&&this.renderer.clear(),this.features=[],this.fire("featuresremoved",{features:[],succeed:!0})},getFeatures:function(){for(var a=this.features.length,b=new Array(a),c=0;a>c;++c)b[c]=this.features[c];return b},getFeatureBy:function(a,b){var c=null;for(var d in this.features)if(this.features[d][a]===b){c=this.features[d];break}return c},getFeatureById:function(a){return this.getFeatureBy("id",a)},getFeaturesByAttribute:function(a,b){var c,d=[];for(var e in this.features)(c=this.features[e])&&c.attributes&&c.attributes[a]===b&&d.push(c);return d},update:function(a){var b=this._map.containerPointToLayerPoint([0,0]);e["default"].DomUtil.setPosition(this.container,b);var c=this;c.renderer&&c.redrawThematicFeatures(a),c.currentMousePosition&&(c.currentMousePosition=e["default"].point(c.currentMousePosition.x-c.movingOffset[0],c.currentMousePosition.y-c.movingOffset[1])),c.movingOffset=[0,0],c._zoom=c._map.getZoom(),c._center=c._map.getCenter()},setOpacity:function(a){a!==this.options.opacity&&(isNaN(a)||(this.options.opacity=a,this._updateOpacity()))},redraw:function(){var a=this;return!!a.renderer&&(a._map?a.redrawThematicFeatures(a._map.getBounds()):a.redrawThematicFeatures(),!0)},on:function(a,b,c){return this.renderer?this.renderer.on(a,b):e["default"].Layer.prototype.on.call(this,a,b),this},off:function(a,b,c){return this.renderer?this.renderer.un(a,b):e["default"].Layer.prototype.off.call(this,a,b),this},fire:function(a,b,c){return this.renderer&&this.renderer.trigger(a,b),e["default"].Layer.prototype.fire.call(this,a,b,c),this},addTFEvents:function(){for(var a=this.TFEvents,b=a.length,c=0;b>c;c++)this.renderer.on(a[c][0],a[c][1])},getLocalXY:function(a){if(!this._map)return a;var b=a;e["default"].Util.isArray(a)&&(b=e["default"].point(a[0],a[1])),a instanceof e["default"].Point||(b=a instanceof f.GeometryPoint||a instanceof f.GeoText?e["default"].point(a.x,a.y):e["default"].point(a.lon,a.lat));var c=this._map.latLngToContainerPoint(this.options.alwaysMapCRS?this._map.options.crs.unproject(b):e["default"].latLng(b.y,b.x));return[c.x,c.y]},toiClientFeature:function(a){f.CommonUtil.isArray(a)||(a=[a]);for(var b=[],c=0;c<a.length;c++)if(a[c]instanceof g.ThemeFeature)b.push(a[c].toFeature());else if(a[c]instanceof f.GeometryVector)b.push(a[c]);else if(-1!=["FeatureCollection","Feature","Geometry"].indexOf(a[c].type)){var d=new f.GeoJSON;b=b.concat(d.read(a[c]))}else{if(!a[c].geometry||!a[c].geometry.parts)throw new Error("features["+c+"]'s type is not be supported.");b.push(f.ServerFeature.fromJson(a[c]).toFeature())}return b},toFeature:function(a){return this.toiClientFeature(a)},_initContainer:function(){var a=this.getPane(),b="themeLayer leaflet-layer leaflet-zoom-"+(this._map.options.zoomAnimation&&e["default"].Browser.any3d?"animated":"hide");this.container=e["default"].DomUtil.create("div",b,a);var c=e["default"].DomUtil.testProp(["transformOrigin","WebkitTransformOrigin","msTransformOrigin"]);this.container.id=this.options.id,this.container.style[c]="50% 50%",this.container.style.position="absolute",this.container.style.zIndex=200},_zoomAnim:function(a){var b=this._map.getZoomScale(a.zoom),c=this._map._getCenterOffset(a.center)._multiplyBy(-b).subtract(this._map._getMapPanePos());e["default"].DomUtil.setTransform?e["default"].DomUtil.setTransform(this.container,c,b):this.container.style[e["default"].DomUtil.TRANSFORM]=e["default"].DomUtil.getTranslateString(c)+" scale("+b+")"},_updateOpacity:function(){var a=this;f.CommonUtil.modifyDOMElement(a.container,null,null,null,null,null,null,a.options.opacity),null!==a._map&&a._map.fire("changelayer",{layer:a,property:"opacity"})},_reset:function(){var a=this,b=a._map.getBounds();a.update(b);var c=a._map.getSize(),d=this._map.containerPointToLayerPoint([0,0]);e["default"].DomUtil.setPosition(this.container,d),parseFloat(a.container.width)!==parseFloat(c.x)&&(a.container.width=c.x+"px"),parseFloat(a.container.height)!==parseFloat(c.y)&&(a.container.height=c.y+"px"),a.redraw()},_resize:function(){var a=this._map.getSize();this.container.style.width=a.x+"px",this.container.style.height=a.y+"px",this.renderer.resize()}})},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.CartoCSSToLeaflet=void 0;var d,e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d);
}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=c(2),g=(d=f)&&d.__esModule?d:{"default":d};c(3);var h=c(5),i=c(167),j=c(166),k=b.CartoCSSToLeaflet=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.cartoCSS=null,this.mapUrl=b}return e(a,[{key:"pretreatedCartoCSS",value:function(a,b){b&&(a=this.processCharacters(a)),this.cartoCSS=this.cartoCSS||{};var c=new h.CartoCSS(a).getShaders();if(c)for(var d=0;d<c.length;d++){var e=c[d].elements[0],f=c[d].attachment;this.cartoCSS[e.clean]=this.cartoCSS[e.clean]||{},this.cartoCSS[e.clean][f]=this.cartoCSS[e.clean][f]||[],this.cartoCSS[e.clean][f].push(c[d])}}},{key:"processCharacters",value:function(a){var b=a;if(b){b=(b=b.replace(/[@]/gi,"___")).replace(/\\#/gi,"#");var c={};return this.layersInfo&&Object.keys(this.layersInfo).sort().forEach(function(a){for(var d=a.replace(/[@#\s]/gi,"___"),e=a,f=Object.keys(c),g=f.length;g>-1;g--)if(a.indexOf(f[g])>-1){e=a.replace(f[g],c[f[g]]);break}e=e.replace(/[#]/gi,"#"),c[a]=d,b=b.replace(new RegExp(e,"g"),d)}),b=(b=b.replace(/[#]/gi,"\n#")).replace(/\[zoom/gi,"[scale")}}},{key:"pickShader",value:function(a){if(!this.cartoCSS)return null;var b=a.replace(/[@#\s]/gi,"___");return this.cartoCSS[b]}},{key:"getDefaultStyle",value:function(a){var b={},c=i.DefaultStyle[a];for(var d in c){var e=c[d];b[d]=e}return b}},{key:"getStyleFromiPortalMarker",value:function(a){return 0==a.indexOf("./")?null:(0==a.indexOf("http://support.supermap.com.cn:8092/static/portal")&&(a=a.replace("http://support.supermap.com.cn:8092/static/portal","http://support.supermap.com.cn:8092/apps/viewer/static")),g["default"].icon({iconUrl:a,iconSize:g["default"].point(48,43),iconAnchor:g["default"].point(24,43),popupAnchor:g["default"].point(0,-43)}))}},{key:"getStyleFromiPortalStyle",value:function(a,b,c){var d=c?JSON.parse(c):null,e={};if("Point"===b||"MultiPoint"===b){var f=d||a.pointStyle;return f.externalGraphic?0==f.externalGraphic.indexOf("./")?null:(0==f.externalGraphic.indexOf("http://support.supermap.com.cn:8092/static/portal")&&(f.externalGraphic=f.externalGraphic.replace("http://support.supermap.com.cn:8092/static/portal","http://support.supermap.com.cn:8092/apps/viewer/static")),g["default"].icon({iconUrl:f.externalGraphic,iconSize:g["default"].point(f.graphicWidth,f.graphicHeight),iconAnchor:g["default"].point(-f.graphicXOffset,-f.graphicYOffset),popupAnchor:g["default"].point(0,-f.graphicHeight)})):(e.radius=f.pointRadius,e.color=f.strokeColor,e.opacity=f.strokeOpacity,e.lineCap=f.strokeLineCap,e.weight=f.strokeWidth,e.fillColor=f.fillColor,e.fillOpacity=f.fillOpacity,e.dashArray=this.dashStyle(f,1),e)}if("LineString"===b||"MultiLineString"===b||"Box"===b){var h=d||a.lineStyle;return e.color=h.strokeColor,e.opacity=h.strokeOpacity,e.fillOpacity=h.fillOpacity,e.lineCap=h.strokeLineCap,e.weight=h.strokeWidth,e.dashArray=this.dashStyle(h,1),e}if("Polygon"===b||"MultiPolygon"===b){var i=d||a.polygonStyle;return e.color=i.strokeColor,e.opacity=i.strokeOpacity,e.lineCap=i.strokeLineCap,e.weight=i.strokeWidth,e.fillColor=i.fillColor,e.fillOpacity=i.fillOpacity,e.dashArray=this.dashStyle(i,1),e}}},{key:"dashStyle",value:function(a,b){if(!a)return[];var c=a.strokeWidth*b,d=a.strokeDashstyle;switch(d){case"solid":return[];case"dot":return[1,4*c];case"dash":return[4*c,4*c];case"dashdot":return[4*c,4*c,1,4*c];case"longdash":return[8*c,4*c];case"longdashdot":return[8*c,4*c,1,4*c];default:return d?h.CommonUtil.isArray(d)?d:(d=h.StringExt.trim(d).replace(/\s+/g,",")).replace(/\[|\]/gi,"").split(","):[]}}},{key:"getValidStyleFromCarto",value:function(a,b,c,d,e){if(!c)return null;var f=d.type,g=d.properties.attributes||{},h=this.getDefaultStyle(f);e=void 0===e||e,g.FEATUREID=d.properties.id,g.SCALE=b;for(var i,k,l=j.CartoStyleMap[f],m=0,n=c.length;n>m;m++){var o=c[m],p=l[o.property],q=o.getValue(g,a,!0);if(null!==q&&p)if("fontSize"===p)e&&(q*=.8),i=q+"px",h.fontSize=i;else if("fontName"===p)k=q,h.fontName=k;else{if("globalCompositeOperation"===p){if(!(q=j.CompOpMap[q]))continue}else if(e&&"iconUrl"===p){q=(q=this.mapUrl+"/tileFeature/symbols/"+q.replace(/(___)/gi,"@")).replace(/(__0__0__)/gi,"__8__8__"),h.iconUrl=q;continue}"weight"===p&&1>q&&(q=Math.ceil(q)),h[p]=q}}return h}},{key:"getValidStyleFromLayerInfo",value:function(a,b){var c=a.type,d=this.getDefaultStyle(c),e=b&&b.layerStyle;if(!e)return d;if("POINT"===c){var f=Math.ceil(e.markerSize*h.SuperMap.DOTS_PER_INCH*h.SuperMap.INCHES_PER_UNIT.mm)||8,g={transparent:!0,resourceType:"SYMBOLMARKER",picWidth:f,picHeight:f,style:JSON.stringify(e)};return d.iconUrl=h.CommonUtil.urlAppend(this.mapUrl+"/symbol.png",h.CommonUtil.getParameterString(g)),d.iconSize=[f,f],d}if("TEXT"===c){if(e=a.properties.textStyle||b.layerStyle,d.fontWeight=e.bold?e.fontWeight:"normal",e.fontHeight){var i=e.fontHeight*h.SuperMap.DOTS_PER_INCH*h.SuperMap.INCHES_PER_UNIT.mm*.85;d.fontSize=i+"px",d.textHeight=i}if(e.fontName&&(d.fontFamily=e.fontName.indexOf("@")?e.fontName.replace(/@/g,""):e.fontName),e.align){var k=e.align.replace(/TOP|MIDDLE|BASELINE|BOTTOM/,"");d.textAlign=k.toLowerCase()}return d.weight=e.outline?e.outlineWidth:0,e.backColor&&(d.color="rgba("+e.backColor.red+","+e.backColor.green+","+e.backColor.blue+",1)"),e.foreColor&&(d.fillColor="rgba("+e.foreColor.red+","+e.foreColor.green+","+e.foreColor.blue+",1)"),d.rotation=e.rotation||0,d}var l=e.fillSymbolID>7?0:e.fillSymbolID,m=e.lineSymbolID>5?0:e.lineSymbolID;for(var n in e){var o=j.ServerStyleMap[n];if(o){var p=o.leafletStyle;switch(o.type){case"number":var q=e[n];o.unit&&(q=q*h.SuperMap.DOTS_PER_INCH*h.SuperMap.INCHES_PER_UNIT[o.unit]*2.5),d[p]=q;break;case"color":var r=e[n],s=void 0,t=1;if("fillColor"===p)0!==l&&1!==l||(t=1-l,s="rgba("+r.red+","+r.green+","+r.blue+","+t+")");else if("color"===p){if(0===m||5===m)t=0===m?1:0;else{var u=[1,0];switch(m){case 1:u=[9.7,3.7];break;case 2:u=[3.7,3.7];break;case 3:u=[9.7,3.7,2.3,3.7];break;case 4:u=[9.7,3.7,2.3,3.7,2.3,3.7]}d.lineDasharray=u}s="rgba("+r.red+","+r.green+","+r.blue+","+t+")"}d[p]=s}}}return b.textField&&(d.textAlign="LEFT"),d}}]),a}();g["default"].supermap.CartoCSSToLeaflet=k},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.wmtsLayer=b.WMTSLayer=void 0;var d,e=c(2),f=(d=e)&&d.__esModule?d:{"default":d};c(3);var g=b.WMTSLayer=f["default"].TileLayer.extend({options:{version:"1.0.0",style:"",tilematrixSet:"",format:"image/png",tileSize:256,matrixIds:null,layer:"",requestEncoding:"KVP",attribution:""},initialize:function(a,b){this._url=a,f["default"].setOptions(this,b);var c=this.options;"REST"===c.requestEncoding?this.formatSuffix="."+({"image/png":"png","image/png8":"png","image/png24":"png","image/png32":"png",png:"png","image/jpeg":"jpg","image/jpg":"jpg",jpeg:"jpg",jpg:"jpg"}[c.format]||c.format.split("/").pop()||"png"):c.requestEncoding="KVP"},getTileUrl:function(a){var b=this._getZoomForUrl(),c=this.options.matrixIds?this.options.matrixIds[b].identifier:b,d=f["default"].Util.template(this._url,{s:this._getSubdomain(a)}),e={service:"WMTS",request:"GetTile",version:this.options.version,style:this.options.style,tilematrixSet:this.options.tilematrixSet,format:this.options.format,width:this.options.tileSize,height:this.options.tileSize,layer:this.options.layer,tilematrix:c,tilerow:a.y,tilecol:a.x};return this.options.tileProxy&&(d=this.options.tileProxy+d),"KVP"===this.options.requestEncoding?d+=f["default"].Util.getParamString(e,d):"REST"===this.options.requestEncoding&&(d+="/"+e.layer+"/"+e.style+"/"+e.tilematrixSet+"/"+e.tilematrix+"/"+e.tilerow+"/"+e.tilecol+this.formatSuffix),d}}),h=b.wmtsLayer=function(a,b){return new g(a,b)};f["default"].supermap.wmtsLayer=h},function(a,b,c){"use strict";a.exports=function(a,b){var c;return a>1e-7?(1-a*a)*(b/(1-(c=a*b)*c)-.5/a*Math.log((1-c)/(1+c))):2*b}},function(a,b,c){"use strict";a.exports=function(a,b,c,d,e){var f,g;f=a/b;for(var h=0;15>h;h++)if(f+=g=(a-(b*f-c*Math.sin(2*f)+d*Math.sin(4*f)-e*Math.sin(6*f)))/(b-2*c*Math.cos(2*f)+4*d*Math.cos(4*f)-6*e*Math.cos(6*f)),Math.abs(g)<=1e-10)return f;return NaN}},function(a,b,c){"use strict";a.exports=function(a,b,c){var d=b*c;return a/Math.sqrt(1-d*d)}},function(a,b,c){"use strict";a.exports=function(a,b){var c,d;if(a=a||{},!b)return a;for(d in b)void 0!==(c=b[d])&&(a[d]=c);return a}},function(a,b,c){"use strict";function d(a,b){if(!(this instanceof d))return new d(a);b=b||function(a){if(a)throw a};var c=f(a);if("object"===(void 0===c?"undefined":e(c))){var h=i(c),j=d.projections.get(h.projName);j?(g(this,h),g(this,j),this.init(),b(null,this)):b(a)}else b(a)}var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},f=c(427),g=c(106),h=c(423),i=c(420);d.projections=h,d.projections.start(),a.exports=d},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.nonEarthCRS=b.NonEarthCRS=b.nonProjection=b.NonProjection=void 0;var d,e=c(2),f=(d=e)&&d.__esModule?d:{"default":d};f["default"].Projection={};var g=b.NonProjection=f["default"].Class.extend({initialize:function(a){this.bounds=a},project:function(a){return new f["default"].Point(a.lng,a.lat)},unproject:function(a){return new f["default"].LatLng(a.y,a.x)}}),h=b.nonProjection=function(a){return new g(a)},i=b.NonEarthCRS=f["default"].Class.extend({includes:f["default"].CRS,initialize:function(a){a.origin&&(this.transformation=new f["default"].Transformation(1,-a.origin.x,-1,a.origin.y)),this.projection=f["default"].Projection.NonProjection(a.bounds),this.bounds=a.bounds,this.origin=a.origin,this.resolutions=a.resolutions},scale:function(a){return this.resolutions&&0!==this.resolutions.length?1/this.resolutions[a]:1/(Math.max(this.bounds.getSize().x,this.bounds.getSize().y)/256)*Math.pow(2,a)},zoom:function(a){if(!this.resolutions||0===this.resolutions.length){var b=1/(Math.max(this.bounds.getSize().x,this.bounds.getSize().y)/256);return Math.log(a/b)/Math.LN2}for(var c=0;c<this.resolutions.length;c++)if(1/this.resolutions[c]==a)return c;return-1},distance:function(a,b){var c=b.lng-a.lng,d=b.lat-a.lat;return Math.sqrt(c*c+d*d)},infinite:!1}),j=b.nonEarthCRS=function(a){return new i(a)};f["default"].Projection.NonProjection=h,f["default"].CRS.NonEarthCRS=j},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SmicRectangle=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(13);b.SmicRectangle=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.type="smicrectangle",c.refOriginalPosition&&2===c.refOriginalPosition.length||(c.refOriginalPosition=[0,0]),c.CLASS_NAME="SuperMap.LevelRenderer.Shape.SmicRectangle",c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,e.Shape),d(b,[{key:"destroy",value:function(){this.type=null,function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0}(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"_buildRadiusPath",value:function(a,b){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var c,d,e,f,g,h=this.refOriginalPosition,i=b.x+h[0],j=b.y+h[1],k=b.width,l=b.height,m=b.radius;"number"==typeof m?c=d=e=f=m:m instanceof Array?1===m.length?c=d=e=f=m[0]:2===m.length?(c=e=m[0],d=f=m[1]):3===m.length?(c=m[0],d=f=m[1],e=m[2]):(c=m[0],d=m[1],e=m[2],f=m[3]):c=d=e=f=0,c+d>k&&(c*=k/(g=c+d),d*=k/g),e+f>k&&(e*=k/(g=e+f),f*=k/g),d+e>l&&(d*=l/(g=d+e),e*=l/g),c+f>l&&(c*=l/(g=c+f),f*=l/g),a.moveTo(i+c,j),a.lineTo(i+k-d,j),0!==d&&a.quadraticCurveTo(i+k,j,i+k,j+d),a.lineTo(i+k,j+l-e),0!==e&&a.quadraticCurveTo(i+k,j+l,i+k-e,j+l),a.lineTo(i+f,j+l),0!==f&&a.quadraticCurveTo(i,j+l,i,j+l-f),a.lineTo(i,j+c),0!==c&&a.quadraticCurveTo(i,j,i+c,j)}},{key:"buildPath",value:function(a,b){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var c=this.refOriginalPosition;b.radius?this._buildRadiusPath(a,b):(a.moveTo(b.x+c[0],b.y+c[1]),a.lineTo(b.x+c[0]+b.width,b.y+c[1]),a.lineTo(b.x+c[0]+b.width,b.y+c[1]+b.height),a.lineTo(b.x+c[0],b.y+c[1]+b.height),a.lineTo(b.x+c[0],b.y+c[1])),a.closePath()}},{key:"getRect",value:function(a){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var b,c=this.refOriginalPosition;return a.__rect?a.__rect:(b="stroke"==a.brushType||"fill"==a.brushType?a.lineWidth||1:0,a.__rect={x:Math.round(a.x+c[0]-b/2),y:Math.round(a.y+c[1]-b/2),width:a.width+b,height:a.height+b},a.__rect)}}]),b}()},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SmicImage=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(13),f=b.SmicImage=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.type="smicimage",c._imageCache={},c.refOriginalPosition&&2===c.refOriginalPosition.length||(c.refOriginalPosition=[0,0]),c.CLASS_NAME="SuperMap.LevelRenderer.Shape.SmicImage",c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,e.Shape),d(b,[{key:"destroy",value:function(){this.type=null,this._imageCache=null,function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0}(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"brush",value:function(a,c,d){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var e=this.refOriginalPosition,f=this.style||{};c&&(f=this.getHighlightStyle(f,this.highlightStyle||{}));var g=f.image,h=this;if("string"==typeof g){var i=g;this._imageCache[i]?g=this._imageCache[i]:((g=new Image).onload=function(){g.onload=null,clearTimeout(b._refreshTimeout),b._needsRefresh.push(h),b._refreshTimeout=setTimeout(function(){d&&d(b._needsRefresh),b._needsRefresh=[]},10)},g.src=i,this._imageCache[i]=g)}if(g){if("IMG"==g.nodeName.toUpperCase())if(window.ActiveXObject){if("complete"!=g.readyState)return}else if(!g.complete)return;var j=f.width||g.width,k=f.height||g.height,l=f.x+e[0],m=f.y+e[1];if(!g.width||!g.height)return;if(a.save(),this.doClip(a),this.setContext(a,f),this.setTransform(a),f.sWidth&&f.sHeight){var n=f.sx+e[0]||0,o=f.sy+e[1]||0;a.drawImage(g,n,o,f.sWidth,f.sHeight,l,m,j,k)}else if(f.sx&&f.sy){var p=f.sx+e[0],q=f.sy+e[1],r=j-p,s=k-q;a.drawImage(g,p,q,r,s,l,m,j,k)}else a.drawImage(g,l,m,j,k);f.width||(f.width=j),f.height||(f.height=k),this.style.width||(this.style.width=j),this.style.height||(this.style.height=k),this.drawText(a,f,this.style),a.restore()}}},{key:"getRect",value:function(a){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var b=this.refOriginalPosition;return{x:a.x+b[0],y:a.y+b[1],width:a.width,height:a.height}}},{key:"clearCache",value:function(){this._imageCache={}}}]),b}();f._needsRefresh=[],f._refreshTimeout=null},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SmicBrokenLine=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(13),f=c(72),g=c(12);b.SmicBrokenLine=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.brushTypeOnly="stroke",c.textPosition="end",c.type="smicbroken-line",c.refOriginalPosition&&2===c.refOriginalPosition.length||(c.refOriginalPosition=[0,0]),c.CLASS_NAME="SuperMap.LevelRenderer.Shape.SmicBrokenLine",c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,e.Shape),d(b,[{key:"destroy",value:function(){this.brushTypeOnly=null,this.textPosition=null,this.type=null,function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0}(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"buildPath",value:function(a,b){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var c=this.refOriginalPosition,d=b.pointList;if(!(d.length<2)){var e=Math.min(b.pointList.length,Math.round(b.pointListLength||b.pointList.length));if(b.smooth&&"spline"!==b.smooth){var f,h,i,j=g.SUtil.SUtil_smoothBezier(d,b.smooth,!1,b.smoothConstraint,c);a.moveTo(d[0][0]+c[0],d[0][1]+c[1]);for(var k=0;e-1>k;k++)f=j[2*k],h=j[2*k+1],i=[d[k+1][0]+c[0],d[k+1][1]+c[1]],a.bezierCurveTo(f[0],f[1],h[0],h[1],i[0],i[1])}else if("spline"===b.smooth&&(e=(d=g.SUtil.SUtil_smoothSpline(d,null,null,c)).length),b.lineType&&"solid"!==b.lineType){if("dashed"===b.lineType||"dotted"===b.lineType||"dot"===b.lineType||"dash"===b.lineType||"longdash"===b.lineType){var l=b.lineWidth||1,m=l,n=l;"dashed"===b.lineType&&(m*=5,n*=5,b.lineCap&&"butt"!==b.lineCap&&(m-=l,n+=l)),"dotted"===b.lineType&&b.lineCap&&"butt"!==b.lineCap&&(m=1,n+=l),"dot"===b.lineType&&(n*=4,b.lineCap&&"butt"!==b.lineCap&&(m=1,n+=l)),"dash"===b.lineType&&(m*=4,n*=4,b.lineCap&&"butt"!==b.lineCap&&(m-=l,n+=l)),"longdash"===b.lineType&&(m*=8,n*=4,b.lineCap&&"butt"!==b.lineCap&&(m-=l,n+=l)),a.moveTo(d[0][0]+c[0],d[0][1]+c[1]);for(var o=1;e>o;o++)g.SUtil.SUtil_dashedLineTo(a,d[o-1][0]+c[0],d[o-1][1]+c[1],d[o][0]+c[0],d[o][1]+c[1],l,[m,n])}else if("dashdot"===b.lineType||"longdashdot"===b.lineType){var p=b.lineWidth||1,q=p,r=p,s=p,t=p;"dashdot"===b.lineType&&(q*=4,r*=4,t*=4,b.lineCap&&"butt"!==b.lineCap&&(q-=p,r+=p,s=1,t+=p)),"longdashdot"===b.lineType&&(q*=8,r*=4,t*=4,b.lineCap&&"butt"!==b.lineCap&&(q-=p,r+=p,s=1,t+=p)),p=(b.lineWidth||1)*("dashed"===b.lineType?5:1),a.moveTo(d[0][0]+c[0],d[0][1]+c[1]);for(var u=1;e>u;u++)g.SUtil.SUtil_dashedLineTo(a,d[u-1][0]+c[0],d[u-1][1]+c[1],d[u][0]+c[0],d[u][1]+c[1],p,[q,r,s,t])}}else{a.moveTo(d[0][0]+c[0],d[0][1]+c[1]);for(var v=1;e>v;v++)a.lineTo(d[v][0]+c[0],d[v][1]+c[1])}}}},{key:"getRect",value:function(a){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var b=this.refOriginalPosition;return f.SmicPolygon.prototype.getRect.apply(this,[a,b])}}]),b}()},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SmicText=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(13),f=c(12);b.SmicText=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.type="smictext",c.refOriginalPosition&&2===c.refOriginalPosition.length||(c.refOriginalPosition=[0,0]),c.CLASS_NAME="SuperMap.LevelRenderer.Shape.SmicText",c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,e.Shape),d(b,[{key:"destroy",value:function(){this.type=null,function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0}(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"brush",value:function(a,b){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var c=this.refOriginalPosition,d=this.style;if(b&&(d=this.getHighlightStyle(d,this.highlightStyle||{})),void 0!==d.text&&!1!==d.text){a.save(),this.doClip(a),this.setContext(a,d),this.setTransform(a),d.textFont&&(a.font=d.textFont),a.textAlign=d.textAlign||"start",a.textBaseline=d.textBaseline||"middle";var e,g=(d.text+"").split("\n"),h=f.SUtil.Util_area.getTextHeight("ZH",d.textFont),i=this.getRectNoRotation(d),j=d.x+c[0];e="top"==d.textBaseline?i.y:"bottom"==d.textBaseline?i.y+h:i.y+h/2;for(var k=d.x+c[0],l=d.y+c[1],m=0,n=g.length;n>m;m++){switch(d.labelRect&&(a.fillRect(i.x-2,i.y,i.width+4,i.height),a.fillStyle=d.strokeColor,a.strokeRect(i.x-2,i.y,i.width+4,i.height),a.fillStyle=d.textColor),d.brushType){case"stroke":this.setCtxGlobalAlpha(a,"stroke",d),d.textRotation&&0!==d.textRotation?(a.save(),a.translate(k,l),a.rotate(d.textRotation*Math.PI/180),"top"==d.textBaseline?d.maxWidth?a.strokeText(g[m],0,h*m,d.maxWidth):a.strokeText(g[m],0,h*m):"bottom"==d.textBaseline?d.maxWidth?a.strokeText(g[m],0,h*(m+1)-i.height,d.maxWidth):a.strokeText(g[m],0,h*(m+1)-i.height):d.maxWidth?a.strokeText(g[m],0,h*(m+1)-i.height/2-h/2,d.maxWidth):a.strokeText(g[m],0,h*(m+1)-i.height/2-h/2),a.restore()):d.maxWidth?a.strokeText(g[m],j,e,d.maxWidth):a.strokeText(g[m],j,e),this.setCtxGlobalAlpha(a,"reset",d);break;case"both":d.textRotation&&0!==d.textRotation?(a.save(),a.translate(k,l),a.rotate(d.textRotation*Math.PI/180),"top"==d.textBaseline?d.maxWidth?(this.setCtxGlobalAlpha(a,"fill",d),a.fillText(g[m],0,h*m,d.maxWidth),this.setCtxGlobalAlpha(a,"reset",d),this.setCtxGlobalAlpha(a,"stroke",d),a.strokeText(g[m],0,h*m,d.maxWidth),this.setCtxGlobalAlpha(a,"reset",d)):(this.setCtxGlobalAlpha(a,"fill",d),a.fillText(g[m],0,h*m),this.setCtxGlobalAlpha(a,"reset",d),this.setCtxGlobalAlpha(a,"stroke",d),a.strokeText(g[m],0,h*m),this.setCtxGlobalAlpha(a,"reset",d)):"bottom"==d.textBaseline?d.maxWidth?(this.setCtxGlobalAlpha(a,"fill",d),a.fillText(g[m],0,h*(m+1)-i.height,d.maxWidth),this.setCtxGlobalAlpha(a,"reset",d),this.setCtxGlobalAlpha(a,"stroke",d),a.strokeText(g[m],0,h*(m+1)-i.height,d.maxWidth),this.setCtxGlobalAlpha(a,"reset",d)):(this.setCtxGlobalAlpha(a,"fill",d),a.fillText(g[m],0,h*(m+1)-i.height),this.setCtxGlobalAlpha(a,"reset",d),this.setCtxGlobalAlpha(a,"stroke",d),a.strokeText(g[m],0,h*(m+1)-i.height),this.setCtxGlobalAlpha(a,"reset",d)):d.maxWidth?(this.setCtxGlobalAlpha(a,"fill",d),a.fillText(g[m],0,h*(m+1)-i.height/2-h/2,d.maxWidth),this.setCtxGlobalAlpha(a,"reset",d),this.setCtxGlobalAlpha(a,"stroke",d),a.strokeText(g[m],0,h*(m+1)-i.height/2-h/2,d.maxWidth),this.setCtxGlobalAlpha(a,"reset",d)):(this.setCtxGlobalAlpha(a,"fill",d),a.fillText(g[m],0,h*(m+1)-i.height/2-h/2),this.setCtxGlobalAlpha(a,"reset",d),this.setCtxGlobalAlpha(a,"stroke",d),a.strokeText(g[m],0,h*(m+1)-i.height/2-h/2),this.setCtxGlobalAlpha(a,"reset",d)),a.restore()):d.maxWidth?(this.setCtxGlobalAlpha(a,"fill",d),a.fillText(g[m],j,e,d.maxWidth),this.setCtxGlobalAlpha(a,"reset",d),this.setCtxGlobalAlpha(a,"stroke",d),a.strokeText(g[m],j,e,d.maxWidth),this.setCtxGlobalAlpha(a,"reset",d)):(this.setCtxGlobalAlpha(a,"fill",d),a.fillText(g[m],j,e),this.setCtxGlobalAlpha(a,"reset",d),this.setCtxGlobalAlpha(a,"stroke",d),a.strokeText(g[m],j,e),this.setCtxGlobalAlpha(a,"reset",d));break;default:this.setCtxGlobalAlpha(a,"fill",d),d.textRotation&&0!==d.textRotation?(a.save(),a.translate(k,l),a.rotate(d.textRotation*Math.PI/180),"top"==d.textBaseline?d.maxWidth?a.fillText(g[m],0,h*m,d.maxWidth):a.fillText(g[m],0,h*m):"bottom"==d.textBaseline?d.maxWidth?a.fillText(g[m],0,h*(m+1)-i.height,d.maxWidth):a.fillText(g[m],0,h*(m+1)-i.height):d.maxWidth?a.fillText(g[m],0,h*(m+1)-i.height/2-h/2,d.maxWidth):a.fillText(g[m],0,h*(m+1)-i.height/2-h/2),a.restore()):d.maxWidth?a.fillText(g[m],j,e,d.maxWidth):a.fillText(g[m],j,e),this.setCtxGlobalAlpha(a,"reset",d)}e+=h}a.restore()}}},{key:"getRect",value:function(a){if(a.__rect)return a.__rect;for(var b,c,d,e,f=this.getTextBackground(a,!0),g=0,h=f.length;h>g;g++){var i=f[g];0==g?(b=i[0],d=i[0],c=i[1],e=i[1]):(i[0]<b&&(b=i[0]),i[0]>d&&(d=i[0]),i[1]<c&&(c=i[1]),i[1]>e&&(e=i[1]))}return a.__rect={x:b,y:c,width:d-b,height:e-c},a.__rect}},{key:"getRectNoRotation",value:function(a){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var b,c=this.refOriginalPosition,d=f.SUtil.Util_area.getTextHeight("ZH",a.textFont),e=f.SUtil.Util_area.getTextWidth(a.text,a.textFont),g=f.SUtil.Util_area.getTextHeight(a.text,a.textFont),h=a.x+c[0];"end"==a.textAlign||"right"==a.textAlign?h-=e:"center"==a.textAlign&&(h-=e/2),b="top"==a.textBaseline?a.y+c[1]:"bottom"==a.textBaseline?a.y+c[1]-g:a.y+c[1]-g/2;var i,j=!1;if(a.maxWidth){var k=parseInt(a.maxWidth);e>k&&(i=e,j=!0,e=k),h=a.x+c[0],"end"==a.textAlign||"right"==a.textAlign?h-=e:"center"==a.textAlign&&(h-=e/2)}return a.textFont&&a.textFont.toLowerCase().indexOf("italic")>-1&&(e+=!0===j?d/3*(e/i):d/3),{x:h,y:b,width:e,height:g}}},{key:"getTextBackground",value:function(a,b){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var c=this.refOriginalPosition;if(!b&&a.__textBackground)return a.__textBackground;var d=this.getRectNoRotation(a),e=a.x+c[0],f=a.y+c[1],g=[];if(a.textRotation&&0!==a.textRotation){var h=a.textRotation,i=this.getRotatedLocation(d.x,d.y,e,f,h),j=this.getRotatedLocation(d.x+d.width,d.y,e,f,h),k=this.getRotatedLocation(d.x+d.width,d.y+d.height,e,f,h),l=this.getRotatedLocation(d.x,d.y+d.height,e,f,h);g.push(i),g.push(j),g.push(k),g.push(l)}else{var m=[d.x,d.y],n=[d.x+d.width,d.y],o=[d.x+d.width,d.y+d.height],p=[d.x,d.y+d.height];g.push(m),g.push(n),g.push(o),g.push(p)}return a.__textBackground=g,a.__textBackground}},{key:"getRotatedLocation",value:function(a,b,c,d,e){var f,g,h=new Array;return b=-b,d=-d,e=-e,f=(a-c)*Math.cos(e/180*Math.PI)-(b-d)*Math.sin(e/180*Math.PI)+c,g=(a-c)*Math.sin(e/180*Math.PI)+(b-d)*Math.cos(e/180*Math.PI)+d,h[0]=f,h[1]=-g,h}}]),b}()},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Color=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(33);b.Color=function(){function a(){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.util=new e.Util,this._ctx=null,this.palette=["#ff9277"," #dddd00"," #ffc877"," #bbe3ff"," #d5ffbb","#bbbbff"," #ddb000"," #b0dd00"," #e2bbff"," #ffbbe3","#ff7777"," #ff9900"," #83dd00"," #77e3ff"," #778fff","#c877ff"," #ff77ab"," #ff6600"," #aa8800"," #77c7ff","#ad77ff"," #ff77ff"," #dd0083"," #777700"," #00aa00","#0088aa"," #8400dd"," #aa0088"," #dd0000"," #772e00"],this._palette=this.palette,this.highlightColor="rgba(0,0,255,1)",this._highlightColor=this.highlightColor,this.colorRegExp=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i,this._nameColors={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#0ff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000",blanchedalmond:"#ffebcd",blue:"#00f",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#0ff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#f0f",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#789",lightslategrey:"#789",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#0f0",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#f0f",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",
peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#f00",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#fff",whitesmoke:"#f5f5f5",yellow:"#ff0",yellowgreen:"#9acd32"},this.CLASS_NAME="SuperMap.LevelRenderer.Tool.Color"}return d(a,[{key:"customPalette",value:function(a){this.palette=a}},{key:"resetPalette",value:function(){this.palette=this._palette}},{key:"getColor",value:function(a,b){return a|=0,(b=b||this.palette)[a%b.length]}},{key:"customHighlight",value:function(a){this.highlightColor=a}},{key:"resetHighlight",value:function(){this.highlightColor=this._highlightColor}},{key:"getHighlightColor",value:function(){return this.highlightColor}},{key:"getRadialGradient",value:function(a,b,c,d,e,f,g){var h=this.util;this._ctx||(this._ctx=h.getContext());for(var i=this._ctx.createRadialGradient(a,b,c,d,e,f),j=0,k=g.length;k>j;j++)i.addColorStop(g[j][0],g[j][1]);return i.__nonRecursion=!0,i}},{key:"getLinearGradient",value:function(a,b,c,d,e){var f=this.util;this._ctx||(this._ctx=f.getContext());for(var g=this._ctx.createLinearGradient(a,b,c,d),h=0,i=e.length;i>h;h++)g.addColorStop(e[h][0],e[h][1]);return g.__nonRecursion=!0,g}},{key:"getStepColors",value:function(a,b,c){a=this.toRGBA(a),b=this.toRGBA(b),a=this.getData(a);for(var d=[],e=((b=this.getData(b))[0]-a[0])/c,f=(b[1]-a[1])/c,g=(b[2]-a[2])/c,h=(b[3]-a[3])/c,i=0,j=a[0],k=a[1],l=a[2],m=a[3];c>i;i++)d[i]=this.toColor([this.adjust(Math.floor(j),[0,255]),this.adjust(Math.floor(k),[0,255]),this.adjust(Math.floor(l),[0,255]),m.toFixed(4)-0],"rgba"),j+=e,k+=f,l+=g,m+=h;return j=b[0],k=b[1],l=b[2],m=b[3],d[i]=this.toColor([j,k,l,m],"rgba"),d}},{key:"getGradientColors",value:function(a,b){var c=[],d=a.length;if(void 0===b&&(b=20),1===d)c=this.getStepColors(a[0],a[0],b);else if(d>1)for(var e=0,f=d-1;f>e;e++){var g=this.getStepColors(a[e],a[e+1],b);f-1>e&&g.pop(),c=c.concat(g)}return c}},{key:"toColor",value:function(a,b){if(b=b||"rgb",a&&(3===a.length||4===a.length)){if(a=this.map(a,function(a){return a>1?Math.ceil(a):a}),b.indexOf("hex")>-1)return"#"+((1<<24)+(a[0]<<16)+(a[1]<<8)+ +a[2]).toString(16).slice(1);if(b.indexOf("hs")>-1){var c=this.map(a.slice(1,3),function(a){return a+"%"});a[1]=c[0],a[2]=c[1]}return b.indexOf("a")>-1?(3===a.length&&a.push(1),a[3]=this.adjust(a[3],[0,1]),b+"("+a.slice(0,4).join(",")+")"):b+"("+a.slice(0,3).join(",")+")"}}},{key:"toArray",value:function(a){(a=this.trim(a)).indexOf("rgba")<0&&(a=this.toRGBA(a));var b=[],c=0;return a.replace(/[\d.]+/g,function(a){3>c?a|=0:a=+a,b[c++]=a}),b}},{key:"convert",value:function(a,b){if(!this.isCalculableColor(a))return a;var c=this.getData(a),d=c[3];return void 0===d&&(d=1),a.indexOf("hsb")>-1?c=this._HSV_2_RGB(c):a.indexOf("hsl")>-1&&(c=this._HSL_2_RGB(c)),b.indexOf("hsb")>-1||b.indexOf("hsv")>-1?c=this._RGB_2_HSB(c):b.indexOf("hsl")>-1&&(c=this._RGB_2_HSL(c)),c[3]=d,this.toColor(c,b)}},{key:"toRGBA",value:function(a){return this.convert(a,"rgba")}},{key:"toRGB",value:function(a){return this.convert(a,"rgb")}},{key:"toHex",value:function(a){return this.convert(a,"hex")}},{key:"toHSVA",value:function(a){return this.convert(a,"hsva")}},{key:"toHSV",value:function(a){return this.convert(a,"hsv")}},{key:"toHSBA",value:function(a){return this.convert(a,"hsba")}},{key:"toHSB",value:function(a){return this.convert(a,"hsb")}},{key:"toHSLA",value:function(a){return this.convert(a,"hsla")}},{key:"toHSL",value:function(a){return this.convert(a,"hsl")}},{key:"toName",value:function(a){for(var b in this._nameColors)if(this.toHex(this._nameColors[b])===this.toHex(a))return b;return null}},{key:"trim",value:function(a){return String(a).replace(/\s+/g,"")}},{key:"normalize",value:function(a){if(this._nameColors[a]&&(a=this._nameColors[a]),a=(a=this.trim(a)).replace(/hsv/i,"hsb"),/^#[\da-f]{3}$/i.test(a)){var b=(3840&(a=parseInt(a.slice(1),16)))<<8,c=(240&a)<<4,d=15&a;a="#"+((1<<24)+(b<<4)+b+(c<<4)+c+(d<<4)+d).toString(16).slice(1)}return a}},{key:"lift",value:function(a,b){if(!this.isCalculableColor(a))return a;var c=b>0?1:-1;void 0===b&&(b=0),b=Math.abs(b)>1?1:Math.abs(b),a=this.toRGB(a);for(var d=this.getData(a),e=0;3>e;e++)d[e]=1===c?d[e]*(1-b)|0:(255-d[e])*b+d[e]|0;return"rgb("+d.join(",")+")"}},{key:"reverse",value:function(a){if(!this.isCalculableColor(a))return a;var b=this.getData(this.toRGBA(a));return b=this.map(b,function(a){return 255-a}),this.toColor(b,"rgb")}},{key:"mix",value:function(a,b,c){if(!this.isCalculableColor(a)||!this.isCalculableColor(b))return a;void 0===c&&(c=.5);for(var d=2*(c=1-this.adjust(c,[0,1]))-1,e=this.getData(this.toRGBA(a)),f=this.getData(this.toRGBA(b)),g=e[3]-f[3],h=((d*g==-1?d:(d+g)/(1+d*g))+1)/2,i=1-h,j=[],k=0;3>k;k++)j[k]=e[k]*h+f[k]*i;var l=e[3]*c+f[3]*(1-c);return l=Math.max(0,Math.min(1,l)),1===e[3]&&1===f[3]?this.toColor(j,"rgb"):(j[3]=l,this.toColor(j,"rgba"))}},{key:"random",value:function(){return"#"+Math.random().toString(16).slice(2,8)}},{key:"getData",value:function(b){var c,d,e=(b=this.normalize(b)).match(this.colorRegExp);if(null===e)throw new Error("The color format error");var f,g=[];if(e[2])f=[(c=e[2].replace("#","").split(""))[0]+c[1],c[2]+c[3],c[4]+c[5]],g=this.map(f,function(b){return a.prototype.adjust.call(this,parseInt(b,16),[0,255])});else if(e[4]){var h=e[4].split(",");d=h[3],f=h.slice(0,3),g=this.map(f,function(b){return b=Math.floor(b.indexOf("%")>0?2.55*parseInt(b,0):b),a.prototype.adjust.call(this,b,[0,255])}),void 0!==d&&g.push(this.adjust(parseFloat(d),[0,1]))}else if(e[5]||e[6]){var i=(e[5]||e[6]).split(","),j=parseInt(i[0],0)/360,k=i[1],l=i[2];d=i[3],(g=this.map([k,l],function(b){return a.prototype.adjust.call(this,parseFloat(b)/100,[0,1])})).unshift(j),void 0!==d&&g.push(this.adjust(parseFloat(d),[0,1]))}return g}},{key:"alpha",value:function(a,b){if(!this.isCalculableColor(a))return a;null===b&&(b=1);var c=this.getData(this.toRGBA(a));return c[3]=this.adjust(Number(b).toFixed(4),[0,1]),this.toColor(c,"rgba")}},{key:"map",value:function(a,b){if("function"!=typeof b)throw new TypeError;for(var c=a?a.length:0,d=0;c>d;d++)a[d]=b(a[d]);return a}},{key:"adjust",value:function(a,b){return a<=b[0]?a=b[0]:a>=b[1]&&(a=b[1]),a}},{key:"isCalculableColor",value:function(a){return a instanceof Array||"string"==typeof a}},{key:"_HSV_2_RGB",value:function(a){var b,c,d,e=a[0],f=a[1],g=a[2];if(0===f)b=255*g,c=255*g,d=255*g;else{var h=6*e;6===h&&(h=0);var i=0|h,j=g*(1-f),k=g*(1-f*(h-i)),l=g*(1-f*(1-(h-i))),m=0,n=0,o=0;0===i?(m=g,n=l,o=j):1===i?(m=k,n=g,o=j):2===i?(m=j,n=g,o=l):3===i?(m=j,n=k,o=g):4===i?(m=l,n=j,o=g):(m=g,n=j,o=k),b=255*m,c=255*n,d=255*o}return[b,c,d]}},{key:"_HSL_2_RGB",value:function(a){var b,c,d,e=a[0],f=a[1],g=a[2];if(0===f)b=255*g,c=255*g,d=255*g;else{var h,i=2*g-(h=.5>g?g*(1+f):g+f-f*g);b=255*this._HUE_2_RGB(i,h,e+1/3),c=255*this._HUE_2_RGB(i,h,e),d=255*this._HUE_2_RGB(i,h,e-1/3)}return[b,c,d]}},{key:"_HUE_2_RGB",value:function(a,b,c){return 0>c&&(c+=1),c>1&&(c-=1),1>6*c?a+6*(b-a)*c:1>2*c?b:2>3*c?a+(b-a)*(2/3-c)*6:a}},{key:"_RGB_2_HSB",value:function(a){var b,c,d=a[0]/255,e=a[1]/255,f=a[2]/255,g=Math.min(d,e,f),h=Math.max(d,e,f),i=h-g,j=h;if(0===i)b=0,c=0;else{c=i/h;var k=((h-d)/6+i/2)/i,l=((h-e)/6+i/2)/i,m=((h-f)/6+i/2)/i;d===h?b=m-l:e===h?b=1/3+k-m:f===h&&(b=2/3+l-k),0>b&&(b+=1),b>1&&(b-=1)}return[b*=360,c*=100,j*=100]}},{key:"_RGB_2_HSL",value:function(a){var b,c,d=a[0]/255,e=a[1]/255,f=a[2]/255,g=Math.min(d,e,f),h=Math.max(d,e,f),i=h-g,j=(h+g)/2;if(0===i)b=0,c=0;else{c=.5>j?i/(h+g):i/(2-h-g);var k=((h-d)/6+i/2)/i,l=((h-e)/6+i/2)/i,m=((h-f)/6+i/2)/i;d===h?b=m-l:e===h?b=1/3+k-m:f===h&&(b=2/3+l-k),0>b&&(b+=1),b>1&&(b-=1)}return[b*=360,c*=100,j*=100]}}]),a}()},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SmicPoint=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(13);b.SmicPoint=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.type="smicpoint",c.refOriginalPosition&&2===c.refOriginalPosition.length||(c.refOriginalPosition=[0,0]),c.CLASS_NAME="SuperMap.LevelRenderer.Shape.SmicPoint",c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,e.Shape),d(b,[{key:"destroy",value:function(){this.type=null,function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0}(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"buildPath",value:function(a,b){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var c=this.refOriginalPosition;a.arc(b.x+c[0],b.y+c[1],b.r,0,2*Math.PI,!0)}},{key:"getRect",value:function(a){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var b,c=this.refOriginalPosition;return a.__rect?a.__rect:(b="stroke"==a.brushType||"fill"==a.brushType?a.lineWidth||1:0,a.__rect={x:Math.round(a.x+c[0]-a.r-b/2),y:Math.round(a.y+c[1]-a.r-b/2),width:2*a.r+b,height:2*a.r+b},a.__rect)}}]),b}()},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Circle=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(26),g=b.Circle=function(a){function b(a,c,d){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var e=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d));return e.x=isNaN(a)?0:a,e.y=isNaN(c)?0:c,e.r=isNaN(d)?0:d,e.CLASS_NAME="SuperMap.Feature.ShapeParameters.Circle",e}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,f.ShapeParameters),d(b,[{key:"destroy",value:function(){this.x=null,this.y=null,this.r=null,function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0}(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}}]),b}();e.SuperMap.Feature=e.SuperMap.Feature||{},e.SuperMap.Feature.ShapeParameters.Circle=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Label=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(26),g=b.Label=function(a){function b(a,c,d){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var e=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d));return e.x=a,e.y=c,e.text=d,e.CLASS_NAME="SuperMap.Feature.ShapeParameters.Label",e}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,f.ShapeParameters),d(b,[{key:"destroy",value:function(){this.x=null,this.y=null,this.text=null,function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0}(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}}]),b}();e.SuperMap.Feature=e.SuperMap.Feature||{},e.SuperMap.Feature.ShapeParameters.Label=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.UGCLayer=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(30);c(4);var h=b.UGCLayer=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),b=b||{},this.bounds=null,this.caption=null,this.description=null,this.name=null,this.queryable=null,this.subLayers=null,this.type=null,this.visible=null,f.Util.extend(this,b),this.CLASS_NAME="SuperMap.UGCLayer"}return d(a,[{key:"destroy",value:function(){f.Util.reset(this)}},{key:"fromJson",value:function(a){a=a||{},f.Util.extend(this,a);var b=this.bounds;b&&(this.bounds=new g.Bounds(b.leftBottom.x,b.leftBottom.y,b.rightTop.x,b.rightTop.y))}},{key:"toServerJSONObject",value:function(){var a={};return(a=f.Util.copyAttributes(a,this)).bounds&&a.bounds.toServerJSONObject&&(a.bounds=a.bounds.toServerJSONObject()),a}}]),a}();e.SuperMap.UGCLayer=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ThemeRange=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(28),h=c(254),i=c(4),j=b.ThemeRange=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,"RANGE",a));return c.precision="1.0E-12",c.items=null,c.rangeExpression=null,c.rangeMode=i.RangeMode.EQUALINTERVAL,c.rangeParameter=0,c.colorGradientType=i.ColorGradientType.YELLOW_RED,a&&f.Util.extend(c,a),c.CLASS_NAME="SuperMap.ThemeRange",c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g.Theme),d(b,[{key:"destroy",value:function(){(function d(a,b,c){null===a&&(a=Function.prototype);var e=Object.getOwnPropertyDescriptor(a,b);if(void 0===e){var f=Object.getPrototypeOf(a);return null===f?void 0:d(f,b,c)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(c):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this);var a=this;if(a.items){if(a.items.length>0)for(var c in a.items)a.items[c].destroy(),a.items[c]=null;a.items=null}a.rangeExpression=null,a.rangeMode=null,a.rangeParameter=null,a.colorGradientType=null}}],[{key:"fromObj",value:function(a){if(a){var c=new b;f.Util.copy(c,a);var d=a.items,e=d?d.length:0;c.items=[];for(var g=0;e>g;g++)c.items.push(h.ThemeRangeItem.fromObj(d[g]));return c}}}]),b}();e.SuperMap.ThemeRange=j},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ThemeGraduatedSymbol=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(28),h=c(83),i=c(82),j=c(255),k=c(4),l=b.ThemeGraduatedSymbol=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,"GRADUATEDSYMBOL",a));return c.baseValue=0,c.expression=null,c.flow=new h.ThemeFlow,c.graduatedMode=e.SuperMap.GraduatedMode.CONSTAN,c.offset=new i.ThemeOffset,c.style=new j.ThemeGraduatedSymbolStyle,a&&f.Util.extend(c,a),c.CLASS_NAME="SuperMap.ThemeGraduatedSymbol",c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g.Theme),d(b,[{key:"destroy",value:function(){(function c(a,b,d){null===a&&(a=Function.prototype);var e=Object.getOwnPropertyDescriptor(a,b);if(void 0===e){var f=Object.getPrototypeOf(a);return null===f?void 0:c(f,b,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this);var a=this;a.expression=null,a.flow&&(a.flow.destroy(),a.flow=null),a.graduatedMode=k.GraduatedMode.CONSTANT,a.offset&&(a.offset.destroy(),a.offset=null),a.style&&(a.style.destroy(),a.style=null)}},{key:"toJSON",value:function(){return f.Util.toJSON(this.toServerJSONObject())}},{key:"toServerJSONObject",value:function(){var a={};return a.type=this.type,a.memoryData=this.memoryData,a.baseValue=this.baseValue,a.expression=this.expression,a.graduatedMode=this.graduatedMode,this.flow&&(a.flowEnabled=this.flow.flowEnabled,a.leaderLineDisplayed=this.flow.leaderLineDisplayed,a.leaderLineStyle=this.flow.leaderLineStyle),this.offset&&(a.offsetFixed=this.offset.offsetFixed,a.offsetX=this.offset.offsetX,a.offsetY=this.offset.offsetY),this.style&&(a.negativeStyle=this.style.negativeStyle,a.negativeDisplayed=this.style.negativeDisplayed,a.positiveStyle=this.style.positiveStyle,a.zeroDisplayed=this.style.zeroDisplayed,a.zeroStyle=this.style.zeroStyle),a}}],[{key:"fromObj",value:function(a){if(a){var b=new e.SuperMap.ThemeGraduatedSymbol;return f.Util.copy(b,a),b.flow=h.ThemeFlow.fromObj(a),b.offset=i.ThemeOffset.fromObj(a),b.style=j.ThemeGraduatedSymbolStyle.fromObj(a),b}}}]),b}();e.SuperMap.ThemeGraduatedSymbol=l},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ThemeDotDensity=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(28),h=c(14),i=b.ThemeDotDensity=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,"DOTDENSITY",a));return c.dotExpression=null,c.style=new h.ServerStyle,c.value=null,a&&f.Util.extend(c,a),c.CLASS_NAME="SuperMap.ThemeDotDensity",c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g.Theme),d(b,[{key:"destroy",value:function(){var a=this;a.dotExpression=null,a.value=null,a.style&&(a.style.destroy(),a.style=null)}},{key:"toServerJSONObject",value:function(){var a={};return(a=f.Util.copyAttributes(a,this)).style&&a.style.toServerJSONObject&&(a.style=a.style.toServerJSONObject()),a}}],[{key:"fromObj",value:function(a){if(a){var c=new b;return f.Util.copy(c,a),c.style=h.ServerStyle.fromJson(a.style),c}}}]),b}();e.SuperMap.ThemeDotDensity=i},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ThemeGraph=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(28),h=c(83),i=c(82),j=c(259),k=c(258),l=c(257),m=c(256),n=c(4),o=b.ThemeGraph=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,"GRAPH",a));return c.barWidth=0,c.flow=new h.ThemeFlow,c.graduatedMode=n.GraduatedMode.CONSTANT,c.graphAxes=new j.ThemeGraphAxes,c.graphSize=new k.ThemeGraphSize,c.graphSizeFixed=!1,c.graphText=new l.ThemeGraphText,c.graphType=n.ThemeGraphType.AREA,c.graphAxesTextDisplayMode=n.GraphAxesTextDisplayMode.NONE,c.items=null,c.memoryKeys=null,c.negativeDisplayed=!1,c.offset=new i.ThemeOffset,c.overlapAvoided=!0,c.roseAngle=0,c.startAngle=0,a&&f.Util.extend(c,a),c.CLASS_NAME="SuperMap.ThemeGraph",c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g.Theme),d(b,[{key:"destroy",value:function(){(function f(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:f(e,b,c)}if("value"in d)return d.value;var g=d.get;return void 0!==g?g.call(c):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this);var a=this;if(a.barWidth=null,a.flow&&(a.flow.destroy(),a.flow=null),a.graduatedMode=null,a.graphAxes&&(a.graphAxes.destroy(),a.graphAxes=null),a.graphSize&&(a.graphSize.destroy(),a.graphSize=null),a.graphSizeFixed=null,a.graphText&&(a.graphText.destroy(),a.graphText=null),a.graphType=null,a.items){for(var c=0,d=a.items,e=d.length;e>c;c++)d[c].destroy();a.items=null}a.memoryKeys=null,a.negativeDisplayed=null,a.offset&&(a.offset.destroy(),a.offset=null),a.overlapAvoided=null,a.roseAngle=null,a.startAngle=null,a.graphAxesTextDisplayMode=null}},{key:"toJSON",value:function(){return f.Util.toJSON(this.toServerJSONObject())}},{key:"toServerJSONObject",value:function(){var a={};return a.type=this.type,this.graphText&&(a.graphTextDisplayed=this.graphText.graphTextDisplayed,a.graphTextFormat=this.graphText.graphTextFormat,a.graphTextStyle=this.graphText.graphTextStyle),this.flow&&(a.flowEnabled=this.flow.flowEnabled,a.leaderLineDisplayed=this.flow.leaderLineDisplayed,a.leaderLineStyle=this.flow.leaderLineStyle),this.graphAxes&&(a.axesColor=this.graphAxes.axesColor,a.axesDisplayed=this.graphAxes.axesDisplayed,a.axesGridDisplayed=this.graphAxes.axesGridDisplayed,a.axesTextDisplayed=this.graphAxes.axesTextDisplayed,a.axesTextStyle=this.graphAxes.axesTextStyle),this.graphSize&&(a.maxGraphSize=this.graphSize.maxGraphSize,a.minGraphSize=this.graphSize.minGraphSize),this.offset&&(a.offsetFixed=this.offset.offsetFixed,a.offsetX=this.offset.offsetX,a.offsetY=this.offset.offsetY),a.barWidth=this.barWidth,a.graduatedMode=this.graduatedMode,a.graphSizeFixed=this.graphSizeFixed,a.graphType=this.graphType,a.graphAxesTextDisplayMode=this.graphAxesTextDisplayMode,a.items=this.items,a.memoryKeys=this.memoryKeys,a.negativeDisplayed=this.negativeDisplayed,a.overlapAvoided=this.overlapAvoided,a.roseAngle=this.roseAngle,a.startAngle=this.startAngle,a}}],[{key:"fromObj",value:function(a){var c=new b,d=a.items,e=d?d.length:0;f.Util.copy(c,a),c.items=[],c.flow=h.ThemeFlow.fromObj(a),c.graphAxes=j.ThemeGraphAxes.fromObj(a),c.graphSize=k.ThemeGraphSize.fromObj(a),c.graphText=l.ThemeGraphText.fromObj(a),c.offset=i.ThemeOffset.fromObj(a);for(var g=0;e>g;g++)c.items.push(m.ThemeGraphItem.fromObj(d[g]));return c}}]),b}();e.SuperMap.ThemeGraph=o},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ThemeUnique=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(28),h=c(14),i=c(123),j=c(4),k=b.ThemeUnique=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,"UNIQUE",a));return c.defaultStyle=new h.ServerStyle,c.items=null,c.uniqueExpression=null,c.colorGradientType=j.ColorGradientType.YELLOW_RED,a&&f.Util.extend(c,a),c.CLASS_NAME="SuperMap.ThemeUnique",c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g.Theme),d(b,[{key:"destroy",value:function(){(function d(a,b,c){null===a&&(a=Function.prototype);var e=Object.getOwnPropertyDescriptor(a,b);if(void 0===e){var f=Object.getPrototypeOf(a);return null===f?void 0:d(f,b,c)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(c):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this);var a=this;if(a.uniqueExpression=null,a.colorGradientType=null,a.items){if(a.items.length>0)for(var c in a.items)a.items[c].destroy(),a.items[c]=null;a.items=null}a.defaultStyle&&(a.defaultStyle.destroy(),a.defaultStyle=null)}},{key:"toServerJSONObject",value:function(){var a={};if((a=f.Util.copyAttributes(a,this)).defaultStyle&&a.defaultStyle.toServerJSONObject&&(a.defaultStyle=a.defaultStyle.toServerJSONObject()),a.items){for(var b=[],c=a.items.length,d=0;c>d;d++)b.push(a.items[d].toServerJSONObject());a.items=b}return a}}],[{key:"fromObj",value:function(a){var c=new b,d=a.items,e=d?d.length:0;f.Util.extend(c,a),c.items=[],c.defaultStyle=h.ServerStyle.fromJson(a.defaultStyle);for(var g=0;e>g;g++)c.items.push(i.ThemeUniqueItem.fromObj(d[g]));return c}}]),b}();e.SuperMap.ThemeUnique=k},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ThemeUniqueItem=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(14),h=b.ThemeUniqueItem=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.caption=null,this.style=new g.ServerStyle,this.unique=null,this.visible=!0,b&&f.Util.extend(this,b),this.CLASS_NAME="SuperMap.ThemeUniqueItem"}return d(a,[{key:"destroy",value:function(){var a=this;a.caption=null,a.unique=null,a.style&&(a.style.destroy(),a.style=null),a.visible=null}},{key:"toServerJSONObject",value:function(){var a={};return(a=f.Util.copyAttributes(a,this)).style&&a.style.toServerJSONObject&&(a.style=a.style.toServerJSONObject()),a}}],[{key:"fromObj",value:function(b){var c=new a;return f.Util.copy(c,b),c.style=g.ServerStyle.fromJson(b.style),c}}]),a}();e.SuperMap.ThemeUniqueItem=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.GeometryThiessenAnalystParameters=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(85),h=c(9),i=b.GeometryThiessenAnalystParameters=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.points=null,a&&f.Util.extend(c,a),c.CLASS_NAME="SuperMap.GeometryThiessenAnalystParameters",c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g.ThiessenAnalystParameters),d(b,[{key:"destroy",value:function(){if(function c(a,b,d){null===a&&(a=Function.prototype);var e=Object.getOwnPropertyDescriptor(a,b);if(void 0===e){var f=Object.getPrototypeOf(a);return null===f?void 0:c(f,b,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0}(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this),this.points){for(var a=this.points.length-1;a>=0;a--)this.points[a].destroy();this.points=null}}}],[{key:"toObject",value:function(a,b){for(var c in a)"clipRegion"===c?b.clipRegion=h.ServerGeometry.fromGeometry(a.clipRegion):b[c]=a[c]}}]),b}();e.SuperMap.GeometryThiessenAnalystParameters=i},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.GeometryOverlayAnalystParameters=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(126),h=c(9),i=b.GeometryOverlayAnalystParameters=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));
return a&&a.operateGeometry&&(c.operateGeometry=a.operateGeometry),a&&a.sourceGeometry&&(c.sourceGeometry=a.sourceGeometry),a&&a.operateGeometries&&(c.operateGeometries=a.operateGeometries),a&&a.sourceGeometries&&(c.sourceGeometries=a.sourceGeometries),a&&f.Util.extend(c,a),c.CLASS_NAME="SuperMap.GeometryOverlayAnalystParameters",c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g.OverlayAnalystParameters),d(b,[{key:"destroy",value:function(){(function c(a,b,d){null===a&&(a=Function.prototype);var e=Object.getOwnPropertyDescriptor(a,b);if(void 0===e){var f=Object.getPrototypeOf(a);return null===f?void 0:c(f,b,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this);var a=this;a.sourceGeometry&&(a.sourceGeometry.destroy(),a.sourceGeometry=null),a.sourceGeometries&&(a.sourceGeometries.destroy(),a.sourceGeometries=null),a.sourceGeometry&&(a.sourceGeometry.destroy(),a.sourceGeometry=null),a.operateGeometries&&(a.operateGeometries.destroy(),a.operateGeometries=null)}}],[{key:"toObject",value:function(a,b){for(var c in a)if("sourceGeometry"===c)b.sourceGeometry=h.ServerGeometry.fromGeometry(a.sourceGeometry);else if("sourceGeometries"===c){for(var d=[],e=0;e<a.sourceGeometries.length;e++)d.push(h.ServerGeometry.fromGeometry(a.sourceGeometries[e]));b.sourceGeometries=d}else if("operateGeometry"===c)b.operateGeometry=h.ServerGeometry.fromGeometry(a.operateGeometry);else if("operateGeometries"===c){for(var f=[],g=0;g<a.operateGeometries.length;g++)f.push(h.ServerGeometry.fromGeometry(a.operateGeometries[g]));b.operateGeometries=f}else b[c]=a[c]}}]),b}();e.SuperMap.GeometryOverlayAnalystParameters=i},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.OverlayAnalystParameters=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(4),h=b.OverlayAnalystParameters=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.operation=g.OverlayOperationType.UNION,b&&f.Util.extend(this,b),this.CLASS_NAME="SuperMap.OverlayAnalystParameters"}return d(a,[{key:"destroy",value:function(){this.operation=null}}]),a}();e.SuperMap.OverlayAnalystParameters=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.GeometryBufferAnalystParameters=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(129),h=c(9),i=b.GeometryBufferAnalystParameters=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.sourceGeometry=null,c.sourceGeometrySRID=null,a&&f.Util.extend(c,a),c.CLASS_NAME=" SuperMap.GeometryBufferAnalystParameters",c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g.BufferAnalystParameters),d(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this),this.sourceGeometry&&(this.sourceGeometry.destroy(),this.sourceGeometry=null)}}],[{key:"toObject",value:function(a,b){for(var c in a)if("bufferSetting"===c){var d={};for(var e in a.bufferSetting)d[e]=a.bufferSetting[e];b.analystParameter=d}else"sourceGeometry"===c?b.sourceGeometry=h.ServerGeometry.fromGeometry(a.sourceGeometry):b[c]=a[c]}}]),b}();e.SuperMap.GeometryBufferAnalystParameters=i},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.DatasourceConnectionInfo=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1);c(4);var g=b.DatasourceConnectionInfo=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.alias=null,this.connect=null,this.dataBase=null,this.driver=null,this.engineType=null,this.exclusive=null,this.OpenLinkTable=null,this.password=null,this.readOnly=null,this.server=null,this.user=null,b&&f.Util.extend(this,b),this.CLASS_NAME="SuperMap.DatasourceConnectionInfo"}return d(a,[{key:"destroy",value:function(){var a=this;a.alias=null,a.connect=null,a.dataBase=null,a.driver=null,a.engineType=null,a.exclusive=null,a.OpenLinkTable=null,a.password=null,a.readOnly=null,a.server=null,a.user=null}}]),a}();e.SuperMap.DatasourceConnectionInfo=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.BufferAnalystParameters=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(308),h=b.BufferAnalystParameters=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.bufferSetting=new g.BufferSetting,f.Util.extend(this,b),this.CLASS_NAME="SuperMap.BufferAnalystParameters"}return d(a,[{key:"destroy",value:function(){this.bufferSetting&&(this.bufferSetting.destroy(),this.bufferSetting=null)}}]),a}();e.SuperMap.BufferAnalystParameters=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.AggregationParameter=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=b.AggregationParameter=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.aggName=null,this.aggType=null,this.aggFieldName=null,this.subAgg=null,this.CLASS_NAME="SuperMap.AggregationParameter",f.Util.extend(this,b)}return d(a,[{key:"destroy",value:function(){var a=this;a.aggName=null,a.aggFieldName=null,a.aggType=null,a.subAgg&&(a.subAgg=null)}}]),a}();e.SuperMap.AggregationParameter=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.AggQueryBuilderParameter=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=b.AggQueryBuilderParameter=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.name=null,this.queryType=null,this.CLASS_NAME="SuperMap.AggQueryBuilderParameter",f.Util.extend(this,b)}return d(a,[{key:"destroy",value:function(){this.name=null,this.queryType=null}}]),a}();e.SuperMap.AggQueryBuilderParameter=g},function(a,b,c){"use strict";var d,e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};d=function(){return this}();try{d=d||Function("return this")()||(0,eval)("this")}catch(a){"object"===("undefined"==typeof window?"undefined":e(window))&&(d=window)}a.exports=d},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.JSONFormat=void 0;var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=c(0),g=c(134),h=b.JSONFormat=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.indent="    ",c.space=" ",c.newline="\n",c.level=0,c.pretty=!1,c.nativeJSON=!(!window.JSON||"function"!=typeof JSON.parse||"function"!=typeof JSON.stringify),c.CLASS_NAME="SuperMap.Format.JSON",c.serialize={object:function(a){if(null==a)return"null";if(a.constructor===Date)return this.serialize.date.apply(this,[a]);if(a.constructor===Array)return this.serialize.array.apply(this,[a]);var b,c,d,e=["{"];this.level+=1;var f=!1;for(b in a)a.hasOwnProperty(b)&&(c=this.write.apply(this,[b,this.pretty]),d=this.write.apply(this,[a[b],this.pretty]),null!=c&&null!=d&&(f&&e.push(","),e.push(this.writeNewline(),this.writeIndent(),c,":",this.writeSpace(),d),f=!0));return this.level-=1,e.push(this.writeNewline(),this.writeIndent(),"}"),e.join("")},array:function(a){var b,c=["["];this.level+=1;for(var d=0,e=a.length;e>d;++d)null!=(b=this.write.apply(this,[a[d],this.pretty]))&&(d>0&&c.push(","),c.push(this.writeNewline(),this.writeIndent(),b));return this.level-=1,c.push(this.writeNewline(),this.writeIndent(),"]"),c.join("")},string:function(a){var b={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return/["\\\x00-\x1f]/.test(a)?'"'+a.replace(/([\x00-\x1f\\"])/g,function(a,c){var d=b[c];return d||(d=c.charCodeAt(),"\\u00"+Math.floor(d/16).toString(16)+(d%16).toString(16))})+'"':'"'+a+'"'},number:function(a){return isFinite(a)?String(a):"null"},"boolean":function(a){return String(a)},date:function(a){function b(a){return 10>a?"0"+a:a}return'"'+a.getFullYear()+"-"+b(a.getMonth()+1)+"-"+b(a.getDate())+"T"+b(a.getHours())+":"+b(a.getMinutes())+":"+b(a.getSeconds())+'"'}},c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g.Format),e(b,[{key:"read",value:function(a,b){var c;if(this.nativeJSON)try{c=JSON.parse(a,b)}catch(a){}return this.keepData&&(this.data=c),c}},{key:"write",value:function(a,b){this.pretty=!!b;var c=null,e=void 0===a?"undefined":d(a);if(this.serialize[e])try{c=!this.pretty&&this.nativeJSON?JSON.stringify(a):this.serialize[e].apply(this,[a])}catch(a){}return c}},{key:"writeIndent",value:function(){var a=[];if(this.pretty)for(var b=0;b<this.level;++b)a.push(this.indent);return a.join("")}},{key:"writeNewline",value:function(){return this.pretty?this.newline:""}},{key:"writeSpace",value:function(){return this.pretty?this.space:""}}]),b}();f.SuperMap.Format.JSON=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Format=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=b.Format=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.data=null,this.keepData=!1,f.Util.extend(this,b),this.options=b,this.CLASS_NAME="SuperMap.Format"}return d(a,[{key:"destroy",value:function(){}},{key:"read",value:function(a){}},{key:"write",value:function(a){}}]),a}();e.SuperMap.Format=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Credential=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=b.Credential=function(){function a(b,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.value=b||"",this.name=c||"token",this.CLASS_NAME="SuperMap.Credential"}return d(a,[{key:"getUrlParameters",value:function(){return this.name+"="+this.value}},{key:"getValue",value:function(){return this.value}},{key:"destroy",value:function(){this.value=null,this.name=null}}]),a}();f.CREDENTIAL=null,e.SuperMap.Credential=f},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.GeoText=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(29),g=c(30),h=c(1),i=c(24);c(23),c(92),c(49);var j=b.GeoText=function(a){function b(a,c,d){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var e=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d));return e.x=parseFloat(a),e.y=parseFloat(c),e.text=d.toString(),e.bsInfo={h:null,w:null},e.element=document.createElement("span"),e.CLASS_NAME="SuperMap.Geometry.GeoText",e.geometryType="GeoText",e}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,f.Geometry),d(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this),this.x=null,this.y=null,this.text=null}},{key:"getCentroid",value:function(){return new i.Point(this.x,this.y)}},{key:"clone",value:function(a){return null==a&&(a=new b(this.x,this.y,this.text)),h.Util.applyDefaults(a,this),a}},{key:"calculateBounds",value:function(){this.bounds=new g.Bounds(this.x,this.y,this.x,this.y)}},{key:"getLabelPxBoundsByLabel",value:function(a,b,c,d){var e,f,i,j,k=h.Util.cloneObject(a),l=(d.label||this.text).split("\n").length;if(b=parseFloat(b),c=parseFloat(c),l>1&&(c=parseFloat(c)*l),d.labelAlign&&"cm"!==d.labelAlign)switch(d.labelAlign){case"lt":k.x+=b/2,k.y+=c/2;break;case"lm":k.x+=b/2;break;case"lb":k.x+=b/2,k.y-=c/2;break;case"ct":k.y+=c/2;break;case"cb":k.y-=c/2;break;case"rt":k.x-=b/2,k.y+=c/2;break;case"rm":k.x-=b/2;break;case"rb":k.x-=b/2,k.y-=c/2}return this.bsInfo.h=c,this.bsInfo.w=b,e=k.x-parseFloat(b)/2,f=k.y+parseFloat(c)/2,j=k.x+parseFloat(b)/2,i=k.y-parseFloat(c)/2,new g.Bounds(e,f,j,i)}},{key:"getLabelPxBoundsByText",value:function(a,b){var c,d,e,f,i=this.getLabelPxSize(b),j=h.Util.cloneObject(a);if(b.labelAlign&&"cm"!==b.labelAlign)switch(b.labelAlign){case"lt":j.x+=i.w/2,j.y+=i.h/2;break;case"lm":j.x+=i.w/2;break;case"lb":j.x+=i.w/2,j.y-=i.h/2;break;case"ct":j.y+=i.h/2;break;case"cb":j.y-=i.h/2;break;case"rt":j.x-=i.w/2,j.y+=i.h/2;break;case"rm":j.x-=i.w/2;break;case"rb":j.x-=i.w/2,j.y-=i.h/2}return this.bsInfo.h=i.h,this.bsInfo.w=i.w,c=j.x-i.w/2,d=j.y+i.h/2,f=b.fontStyle&&"italic"===b.fontStyle?j.x+i.w/2+parseInt(parseFloat(b.fontSize)/2):j.x+i.w/2,e=j.y-i.h/2,new g.Bounds(c,d,f,e)}},{key:"getLabelPxSize",value:function(a){var b,c,d,e,f=parseFloat(a.strokeWidth);b=a.label||this.text,c=a.fontSize?parseFloat(a.fontSize):parseFloat("12px");var g=b.split("\n"),i=g.length;e=i>1?c*i+i+f+.2*c:c+f+.2*c+1,d=0,this.labelWTmp&&d<this.labelWTmp&&(d=this.labelWTmp);for(var j=0;i>j;j++){var k=this.getTextCount(g[j]),l=this.labelWTmp=h.Util.getTextBounds(a,g[j],this.element).textWidth+1*k.textC+f;l>d&&(d=l)}var m=new Object;return m.h=e,m.w=d,m}},{key:"getTextCount",value:function(a){for(var b={},c=0,d=0,e=0;e<a.length;e++)a.charCodeAt(e)>255?c++:d++;return b.cnC=c,b.enC=d,b.textC=a.length,b}}]),b}();e.SuperMap.Geometry.GeoText=j},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Curve=void 0;var d=c(0),e=c(48),f=b.Curve=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.componentTypes=["SuperMap.Geometry.Point","SuperMap.PointWithMeasure"],c.CLASS_NAME="SuperMap.Geometry.Curve",c.geometryType="Curve",c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,e.MultiPoint),b}();d.SuperMap.Geometry.Curve=f},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.dataServiceQueryViewModel=b.DataServiceQueryViewModel=void 0;var d,e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=c(2),g=(d=f)&&d.__esModule?d:{"default":d};c(3);var h=c(5);b.DataServiceQueryViewModel=function(a){function b(){return function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b),function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g["default"].Evented),e(b,[{key:"initialize",value:function(a){this.dataserviceUrl=a,this.resultLayers=[]}},{key:"getFeatures",value:function(a,b){var c=this.dataserviceUrl,d=this,e=g["default"].supermap.featureService(c);a instanceof h.GetFeaturesByIDsParameters?e.getFeaturesByIDs(a,function(a){d._getQureyResult(a,b)}):a instanceof h.GetFeaturesBySQLParameters?e.getFeaturesBySQL(a,function(a){d._getQureyResult(a,b)}):a instanceof h.GetFeaturesByBoundsParameters?e.getFeaturesByBounds(a,function(a){d._getQureyResult(a,b)}):a instanceof h.GetFeaturesByBufferParameters?e.getFeaturesByBuffer(a,function(a){d._getQureyResult(a,b)}):a instanceof h.GetFeaturesByGeometryParameters&&e.getFeaturesByGeometry(a,function(a){d._getQureyResult(a,b)})}},{key:"_getQureyResult",value:function(a,b){if(a.error)this.fire("getfeaturesfailed",{error:a.error});else{var c=g["default"].geoJSON(a.result.features,{onEachFeature:function(a,b){b.bindPopup("ID: "+a.properties.SMID)},pointToLayer:function(a,b){return g["default"].circleMarker(b,{radius:6})}}).addTo(b);this.resultLayers.push(c),this.fire("getfeaturessucceeded",{result:a.result.features})}}},{key:"clearLayers",value:function(){for(var a in this.resultLayers)this.resultLayers[a].remove();this.resultLayers=[]}}]),b}();var i=b.dataServiceQueryViewModel=function j(a){return new j(a)};g["default"].supermap.widgets.dataServiceQueryViewModel=i},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.distributedAnalysisViewModel=b.DistributedAnalysisViewModel=void 0;var d,e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=c(2),g=(d=f)&&d.__esModule?d:{"default":d};c(3);var h=c(328),i=c(5),j=c(144),k=b.DistributedAnalysisViewModel=function(a){function b(){return function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b),function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g["default"].Evented),e(b,[{key:"initialize",value:function(a){this.processingUrl=a}},{key:"getDatasetsName",value:function(){var a=this.processingUrl;this.resultLayers=[],this.datasetNames=[],this.distributedAnalysisModel=new h.DistributedAnalysisModel(a),this.distributedAnalysisModel.getDatasetsName();var b=this;this.distributedAnalysisModel.on("datasetsloaded",function(a){b.fire("datasetsloaded",{result:a.result})})}},{key:"getDatasetInfo",value:function(a){this.distributedAnalysisModel.getDatasetInfo(a);var b=this;this.distributedAnalysisModel.on("datasetinfoloaded",function(a){var c=a.result.type,d=a.result.fields;b.fire("datasetinfoloaded",{result:{type:c,fields:d}})})}},{key:"analysis",value:function(a,b){var c=new j.ProcessingService(this.processingUrl);if(a.analysisParam instanceof i.KernelDensityJobParameter){var d=a.analysisParam,e=this;c.addKernelDensityJob(d,function(c){c.error?e.fire("analysisfailed",{error:c.error}):c.result.setting.serviceInfo.targetServiceInfos.map(function(c){return"RESTMAP"===c.serviceType&&i.FetchRequest.get(c.serviceAddress+"/maps").then(function(a){return a.json()}).then(function(c){var d=c[0].path;e.fire("analysissucceed",{result:c});var f=g["default"].supermap.tiledMapLayer(d,{noWrap:!0,transparent:!0});e.resultLayers.push(f),f.addTo(b);var h=new Date,i=a.resultLayerName||h.getTime();e.fire("layerloaded",{layer:f,name:i})}),c})})}}},{key:"clearLayers",value:function(){for(var a in this.resultLayers)this.resultLayers[a].remove();this.fire("layersremoved",{layers:this.resultLayers}),this.resultLayers=[]}}]),b}(),l=b.distributedAnalysisViewModel=function(a){return new k(a)};g["default"].supermap.widgets.distributedAnalysisViewModel=l},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.geoJSONLayerWithName=b.GeoJSONLayerWithName=void 0;var d,e=c(2),f=(d=e)&&d.__esModule?d:{"default":d};c(3);var g=b.GeoJSONLayerWithName=function i(a,b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,i),this.layerName=a,this.layer=b},h=b.geoJSONLayerWithName=function(a,b){return new g(a,b)};f["default"].supermap.widgets.geoJSONLayerWithName=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.clientComputationViewModel=b.ClientComputationViewModel=void 0;var d,e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=c(2),g=(d=f)&&d.__esModule?d:{"default":d};c(3);var h=c(140),i=c(93),j=c(5),k=b.ClientComputationViewModel=function(a){function b(){return function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b),function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g["default"].Evented),e(b,[{key:"initialize",value:function(a){this.workerUrl=a,this.turfLayers=[]}},{key:"getLayersData",value:function(a){for(var b={},c={},d={},e={},f=0;a>f;f++)a[f]=new h.GeoJSONLayerWithName(a[f].layerName,a[f].layer);this.geoJsonLayersDataModel=new i.GeoJsonLayersDataModel(a);for(var g=[],j=0;j<a.length;j++)g[a[j].layerName]={fields:a[j].fields,layer:a[j].layer.toGeoJSON()};for(var k in this.geoJsonLayersDataModel.layers){var l=void 0;l=g[k].fields?g[k].fields:this.geoJsonLayersDataModel.layers[k].getAttributeNamesByType("Num");for(var m=[],n=0;n<l.length;n++){m[l[n]]=this.geoJsonLayersDataModel.layers[k].getAttributeValueByAttributeName(l[n]);for(var o=m[l[n]],p=0;p<o.length;p++)""!=o[p]&&void 0!==o[p]||(o.splice(p,1),p-=1),o[p]=parseFloat(o[p]);m[l[n]]=Array.from(new Set(o.sort(function(a,b){return a-b})))}var q={layerName:k,fields:l,fieldsValue:m,features:g[k].layer},r=g[k].layer.features[0].geometry.type;"Point"===r?c[k]=q:"LineString"===r?d[k]=q:"Polygon"===r&&(e[k]=q)}return b.point=c,b.lineString=d,b.polygon=e,b}},{key:"analysis",value:function(a,b){this.geoJsonLayersDataModel.setCurrentLayerDataModel(a.analysisLayers),this.worker=new Worker(this.workerUrl);var c=this.geoJsonLayersDataModel.currentLayerDataModel.layer.toGeoJSON();if("isolines"===a.analysisMethod){for(var d=a.analysisFieldsValue.split(","),e=c,f=0;f<d.length;f++)d[f]=parseFloat(d[f]);var h=this,i={pointGrid:e,analysisMethod:a.analysisMethod,breaks:d,zProperty:a.analysisFields,analysisCellSize:a.analysisCellSize,options:{gridType:"point",property:a.analysisFields,weight:Number(a.analysisBreaks)}};this.worker.postMessage(i),this.worker.onmessage=function(c){if(0===c.data.features.length)h.fire("analysisfailed");else{h.fire("analysissucceeded",{data:c.data});var d=g["default"].geoJSON(c.data,{style:{color:"#1060C2",weight:3},onEachFeature:function(a,b){a.properties&&b.bindPopup(new j.AttributesPopContainer(a.properties).getElement()),b.on({mouseover:function(){b.setStyle({color:"#ffffff",weight:5})},mouseout:function(){b.setStyle({color:"#1060C2",weight:3})},click:function(){b.setStyle({color:"#ffffff",weight:5})}})}}).addTo(b);h.turfLayers.push(d),h.fire("layerloaded",{layer:d,name:a.resultLayersName}),h.worker.terminate()}}}else if("buffer"===a.analysisMethod){var k=this,l={analysisMethod:"buffer",radius:a.radius,unit:a.unit,isSave:a.isSaveStatus,isUnion:a.isUnion,geoJson:c};this.worker.postMessage(l),this.worker.onmessage=function(c){var d=g["default"].geoJSON(c.data,{style:{color:"#ffffff",fillColor:"#1060C2",fillOpacity:.5,weight:1.5},onEachFeature:function(a,b){a.properties&&b.bindPopup(new j.AttributesPopContainer(a.properties).getElement()),b.on({mouseover:function(){b.setStyle({color:"#ffffff",fillColor:"rgb(46,40,79)",fillOpacity:.5,weight:5})},mouseout:function(){b.setStyle({color:"#ffffff",fillColor:"#1060C2",fillOpacity:.5,weight:1.5})},click:function(){b.setStyle({color:"#ffffff",fillColor:"rgb(46,40,79)",fillOpacity:.5,weight:2})}})}}).addTo(b);k.turfLayers.push(d),k.fire("layerloaded",{layer:d,name:a.resultLayersName}),k.worker.terminate()}}}},{key:"clearLayers",value:function(){for(var a in this.turfLayers)this.turfLayers[a].clearLayers();this.fire("layersremoved",{layers:this.turfLayers})}},{key:"cancelAnalysis",value:function(){this.worker.terminate()}}]),b}(),l=b.clientComputationViewModel=function(a){return new k(a)};g["default"].supermap.widgets.clientComputationViewModel=l},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.searchViewModel=b.SearchViewModel=void 0;var d,e=c(2),f=(d=e)&&d.__esModule?d:{"default":d};c(3);var g=c(5),h=c(93),i=b.SearchViewModel=f["default"].Evented.extend({options:{cityGeoCodingConfig:{addressUrl:"http://www.supermapol.com/iserver/services/localsearch/rest/searchdatas/China/poiinfos",key:"fvV2osxwuZWlY0wJb8FEb2i5"}},initialize:function(a,b){return a?(this.map=a,f["default"].Util.setOptions(this,b),this.dataModel=new h.GeoJsonLayersDataModel,this.geoCodeParam={keyWords:"北京市",city:"北京市",pageSize:this.options.pageSize,pageNum:this.options.pageNum},this.searchCache={},void 0):new Error("Cannot find map, fileModel.map cannot be null.")},search:function(a,b){b?this.searchFromLayer(a,b):this.searchFromCityLocalSearchService(a)},searchFromLayer:function(a,b){if(this.dataModel.layers[b]){var c=this.dataModel.layers[b].getFeaturesByKeyWord(a);c&&c.length>0?this.fire("searchlayersucceeded",{result:c}):this.fire("searchfailed",{searchType:"searchLayersField"})}},searchFromCityLocalSearchService:function(a){if(this.searchCache[a])this.fire("geocodesucceeded",{result:this.searchCache[a]});else{this.geoCodeParam.keyWords=a||this.geoCodeParam.city;var b=this,c=this._getSearchUrl(this.geoCodeParam);g.FetchRequest.get(c).then(function(a){return a.json()}).then(function(a){if(a.error||0===a.poiInfos.length)b.fire("searchfailed",{searchType:"searchGeocodeField"});else if(a.poiInfos){var c=b._dataToGeoJson(a.poiInfos,b.geoCodeParam);b.fire("geocodesucceeded",{result:c})}})}},addSearchLayers:function(a){var b=this;this.dataModel.addLayers(a,function(a){b.fire("newlayeradded",{layerName:a.layerName})},null,this)},panToLayer:function(a){this.dataModel.layers[a]&&this.map.flyToBounds(this.dataModel.layers[a].layer.getBounds())},panToCity:function(a){this.geoCodeParam.keyWords=a,this.geoCodeParam.city=a;var b=this,c=this._getSearchUrl(this.geoCodeParam);g.FetchRequest.get(c).then(function(a){return a.json()}).then(function(a){if(a.poiInfos.length>0){var c=f["default"].latLng(a.poiInfos[0].location.y,a.poiInfos[0].location.x);b.map.setView(c,8)}else b.fire("searchfailed",{searchType:"cityGeocodeField"})})},_dataToGeoJson:function(a,b){for(var c=[],d=0;d<a.length;d++){var e={type:"Feature",geometry:{type:"Point",coordinates:[a[d].location.x,a[d].location.y]},properties:{name:a[d].name||b.keyWords,address:a[d].formatedAddress||a[d].address}};c.push(e)}return c},_getSearchUrl:function(a){return this.options.cityGeoCodingConfig.addressUrl+".json?keywords="+a.keyWords+"&city="+a.city+"&pageSize="+a.pageSize+"&pageNum="+a.pageNum+"&key="+this.options.cityGeoCodingConfig.key;
}}),j=b.searchViewModel=function(a){return new i(a)};f["default"].supermap.widgets.searchViewModel=j},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.openFileViewModel=b.OpenFileViewModel=void 0;var d,e=c(2),f=(d=e)&&d.__esModule?d:{"default":d};c(3);var g=c(5),h=b.OpenFileViewModel=f["default"].Evented.extend({initialize:function(){this.fileModel=new g.FileModel},readFile:function(a){var b=a.target,c=b.files[0];if(c.size>this.fileModel.FileConfig.fileMaxSize)return this.fire("filesizeexceed",{messageType:"warring",message:g.Lang.i18n("msg_fileSizeExceeded")}),!1;var d=b.value,e=c.name,f=g.widgetsUtil.getFileType(e);return f?void(""!==e&&(this.fileModel.set("loadFileObject",{file:c,filePath:d,fileName:e,fileType:f}),this._readData())):(this.fire("errorfileformat",{messageType:"failure",message:g.Lang.i18n("msg_fileTypeUnsupported")}),!1)},_readData:function(){var a=this,b=this,c=this.fileModel.loadFileObject.fileType;g.FileReaderUtil.readFile(c,{file:this.fileModel.loadFileObject.file,path:this.fileModel.loadFileObject.filePath},function(d){g.FileReaderUtil.processDataToGeoJson(c,d,function(b){b&&a.fire("openfilesucceeded",{result:b,layerName:a.fileModel.loadFileObject.fileName.split(".")[0]})},function(a){b.fire("openfilefailed",{messageType:"failure",message:a})},a)},function(){b.fire("openfilefailed",{messageType:"failure",message:g.Lang.i18n("msg_openFileFail")})},this)}}),i=b.openFileViewModel=function(a){return new h(a)};f["default"].supermap.widgets.openFileViewModel=i,f["default"].supermap.widgets.util=g.widgetsUtil},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.processingService=b.ProcessingService=void 0;var d,e=c(2),f=(d=e)&&d.__esModule?d:{"default":d};c(3);var g=c(8),h=c(25),i=c(5),j=b.ProcessingService=g.ServiceBase.extend({initialize:function(a,b){b=b||{},f["default"].setOptions(this,b),g.ServiceBase.prototype.initialize.call(this,a,b),this.kernelDensityJobs={},this.summaryMeshJobs={},this.queryJobs={},this.summaryRegionJobs={},this.vectorClipJobs={},this.overlayGeoJobs={},this.buffersJobs={},this.topologyValidatorJobs={},this.summaryAttributesJobs={}},getKernelDensityJobs:function(a,b){var c=this,d=c._processFormat(b);new i.KernelDensityJobsService(c.url,{proxy:c.options.proxy,withCredentials:c.options.withCredentials,serverType:c.options.serverType,eventListeners:{scope:c,processCompleted:a,processFailed:a},format:d}).getKernelDensityJobs()},getKernelDensityJob:function(a,b,c){var d=this,e=d._processFormat(c);new i.KernelDensityJobsService(d.url,{proxy:d.options.proxy,withCredentials:d.options.withCredentials,serverType:d.options.serverType,eventListeners:{scope:d,processCompleted:b,processFailed:b},format:e}).getKernelDensityJob(a)},addKernelDensityJob:function(a,b,c,d){var e=this,f=e._processParams(a),g=e._processFormat(d);new i.KernelDensityJobsService(e.url,{proxy:e.options.proxy,withCredentials:e.options.withCredentials,serverType:e.options.serverType,eventListeners:{scope:e,processCompleted:b,processFailed:b,processRunning:function(a){e.kernelDensityJobs[a.id]=a.state}},format:g}).addKernelDensityJob(f,c)},getKernelDensityJobState:function(a){return this.kernelDensityJobs[a]},getSummaryMeshJobs:function(a,b){var c=this,d=c._processFormat(b);new i.SummaryMeshJobsService(c.url,{proxy:c.options.proxy,withCredentials:c.options.withCredentials,serverType:c.options.serverType,eventListeners:{scope:c,processCompleted:a,processFailed:a},format:d}).getSummaryMeshJobs()},getSummaryMeshJob:function(a,b,c){var d=this,e=d._processFormat(c);new i.SummaryMeshJobsService(d.url,{proxy:d.options.proxy,withCredentials:d.options.withCredentials,serverType:d.options.serverType,eventListeners:{scope:d,processCompleted:b,processFailed:b},format:e}).getSummaryMeshJob(a)},addSummaryMeshJob:function(a,b,c,d){var e=this,f=e._processParams(a),g=e._processFormat(d);new i.SummaryMeshJobsService(e.url,{proxy:e.options.proxy,withCredentials:e.options.withCredentials,serverType:e.options.serverType,eventListeners:{scope:e,processCompleted:b,processFailed:b,processRunning:function(a){e.summaryMeshJobs[a.id]=a.state}},format:g}).addSummaryMeshJob(f,c)},getSummaryMeshJobState:function(a){return this.summaryMeshJobs[a]},getQueryJobs:function(a,b){var c=this,d=c._processFormat(b);new i.SingleObjectQueryJobsService(c.url,{proxy:c.options.proxy,withCredentials:c.options.withCredentials,serverType:c.options.serverType,eventListeners:{scope:c,processCompleted:a,processFailed:a},format:d}).getQueryJobs()},getQueryJob:function(a,b,c){var d=this,e=d._processFormat(c);new i.SingleObjectQueryJobsService(d.url,{proxy:d.options.proxy,withCredentials:d.options.withCredentials,serverType:d.options.serverType,eventListeners:{scope:d,processCompleted:b,processFailed:b},format:e}).getQueryJob(a)},addQueryJob:function(a,b,c,d){var e=this,f=e._processParams(a),g=e._processFormat(d);new i.SingleObjectQueryJobsService(e.url,{proxy:e.options.proxy,withCredentials:e.options.withCredentials,serverType:e.options.serverType,eventListeners:{scope:e,processCompleted:b,processFailed:b,processRunning:function(a){e.queryJobs[a.id]=a.state}},format:g}).addQueryJob(f,c)},getQueryJobState:function(a){return this.queryJobs[a]},getSummaryRegionJobs:function(a,b){var c=this,d=c._processFormat(b);new i.SummaryRegionJobsService(c.url,{proxy:c.options.proxy,withCredentials:c.options.withCredentials,serverType:c.options.serverType,eventListeners:{scope:c,processCompleted:a,processFailed:a},format:d}).getSummaryRegionJobs()},getSummaryRegionJob:function(a,b,c){var d=this,e=d._processFormat(c);new i.SummaryRegionJobsService(d.url,{proxy:d.options.proxy,withCredentials:d.options.withCredentials,serverType:d.options.serverType,eventListeners:{scope:d,processCompleted:b,processFailed:b},format:e}).getSummaryRegionJob(a)},addSummaryRegionJob:function(a,b,c,d){var e=this,f=e._processParams(a),g=e._processFormat(d);new i.SummaryRegionJobsService(e.url,{proxy:e.options.proxy,withCredentials:e.options.withCredentials,serverType:e.options.serverType,eventListeners:{scope:e,processCompleted:b,processFailed:b,processRunning:function(a){e.summaryRegionJobs[a.id]=a.state}},format:g}).addSummaryRegionJob(f,c)},getSummaryRegionJobState:function(a){return this.summaryRegionJobs[a]},getVectorClipJobs:function(a,b){var c=this,d=c._processFormat(b);new i.VectorClipJobsService(c.url,{proxy:c.options.proxy,withCredentials:c.options.withCredentials,serverType:c.options.serverType,eventListeners:{scope:c,processCompleted:a,processFailed:a},format:d}).getVectorClipJobs()},getVectorClipJob:function(a,b,c){var d=this,e=d._processFormat(c);new i.VectorClipJobsService(d.url,{proxy:d.options.proxy,withCredentials:d.options.withCredentials,serverType:d.options.serverType,eventListeners:{scope:d,processCompleted:b,processFailed:b},format:e}).getVectorClipJob(a)},addVectorClipJob:function(a,b,c,d){var e=this,f=e._processParams(a),g=e._processFormat(d);new i.VectorClipJobsService(e.url,{proxy:e.options.proxy,withCredentials:e.options.withCredentials,serverType:e.options.serverType,eventListeners:{scope:e,processCompleted:b,processFailed:b,processRunning:function(a){e.vectorClipJobs[a.id]=a.state}},format:g}).addVectorClipJob(f,c)},getVectorClipJobState:function(a){return this.vectorClipJobs[a]},getOverlayGeoJobs:function(a,b){var c=this,d=c._processFormat(b);new i.OverlayGeoJobsService(c.url,{proxy:c.options.proxy,withCredentials:c.options.withCredentials,serverType:c.options.serverType,eventListeners:{scope:c,processCompleted:a,processFailed:a},format:d}).getOverlayGeoJobs()},getOverlayGeoJob:function(a,b,c){var d=this,e=d._processFormat(c);new i.OverlayGeoJobsService(d.url,{proxy:d.options.proxy,withCredentials:d.options.withCredentials,serverType:d.options.serverType,eventListeners:{scope:d,processCompleted:b,processFailed:b},format:e}).getOverlayGeoJob(a)},addOverlayGeoJob:function(a,b,c,d){var e=this,f=e._processParams(a),g=e._processFormat(d);new i.OverlayGeoJobsService(e.url,{proxy:e.options.proxy,withCredentials:e.options.withCredentials,serverType:e.options.serverType,eventListeners:{scope:e,processCompleted:b,processFailed:b,processRunning:function(a){e.overlayGeoJobs[a.id]=a.state}},format:g}).addOverlayGeoJob(f,c)},getoverlayGeoJobState:function(a){return this.overlayGeoJobs[a]},getBuffersJobs:function(a,b){var c=this,d=c._processFormat(b);new i.BuffersAnalystJobsService(c.url,{proxy:c.options.proxy,withCredentials:c.options.withCredentials,serverType:c.options.serverType,eventListeners:{scope:c,processCompleted:a,processFailed:a},format:d}).getBuffersJobs()},getBuffersJob:function(a,b,c){var d=this,e=d._processFormat(c);new i.BuffersAnalystJobsService(d.url,{proxy:d.options.proxy,withCredentials:d.options.withCredentials,serverType:d.options.serverType,eventListeners:{scope:d,processCompleted:b,processFailed:b},format:e}).getBuffersJob(a)},addBuffersJob:function(a,b,c,d){var e=this,f=e._processParams(a),g=e._processFormat(d);new i.BuffersAnalystJobsService(e.url,{proxy:e.options.proxy,withCredentials:e.options.withCredentials,serverType:e.options.serverType,eventListeners:{scope:e,processCompleted:b,processFailed:b,processRunning:function(a){e.buffersJobs[a.id]=a.state}},format:g}).addBuffersJob(f,c)},getBuffersJobState:function(a){return this.buffersJobs[a]},getTopologyValidatorJobs:function(a,b){var c=this,d=c._processFormat(b);new i.TopologyValidatorJobsService(c.url,{proxy:c.options.proxy,withCredentials:c.options.withCredentials,serverType:c.options.serverType,eventListeners:{scope:c,processCompleted:a,processFailed:a},format:d}).getTopologyValidatorJobs()},getTopologyValidatorJob:function(a,b,c){var d=this,e=d._processFormat(c);new i.TopologyValidatorJobsService(d.url,{proxy:d.options.proxy,withCredentials:d.options.withCredentials,serverType:d.options.serverType,eventListeners:{scope:d,processCompleted:b,processFailed:b},format:e}).getTopologyValidatorJob(a)},addTopologyValidatorJob:function(a,b,c,d){var e=this,f=e._processParams(a),g=e._processFormat(d);new i.TopologyValidatorJobsService(e.url,{proxy:e.options.proxy,withCredentials:e.options.withCredentials,serverType:e.options.serverType,eventListeners:{scope:e,processCompleted:b,processFailed:b,processRunning:function(a){e.topologyValidatorJobs[a.id]=a.state}},format:g}).addTopologyValidatorJob(f,c)},getTopologyValidatorJobState:function(a){return this.topologyValidatorJobs[a]},getSummaryAttributesJobs:function(a,b){var c=this,d=c._processFormat(b);new i.SummaryAttributesJobsService(c.url,{proxy:c.options.proxy,withCredentials:c.options.withCredentials,serverType:c.options.serverType,eventListeners:{scope:c,processCompleted:a,processFailed:a},format:d}).getSummaryAttributesJobs()},getSummaryAttributesJob:function(a,b,c){var d=this,e=d._processFormat(c);new i.SummaryAttributesJobsService(d.url,{proxy:d.options.proxy,withCredentials:d.options.withCredentials,serverType:d.options.serverType,eventListeners:{scope:d,processCompleted:b,processFailed:b},format:e}).getSummaryAttributesJob(a)},addSummaryAttributesJob:function(a,b,c,d){var e=this,f=e._processParams(a),g=e._processFormat(d);new i.SummaryAttributesJobsService(e.url,{proxy:e.options.proxy,withCredentials:e.options.withCredentials,serverType:e.options.serverType,eventListeners:{scope:e,processCompleted:b,processFailed:b,processRunning:function(a){e.summaryAttributesJobs[a.id]=a.state}},format:g}).addSummaryAttributesJob(f,c)},getSummaryAttributesJobState:function(a){return this.summaryAttributesJobs[a]},_processFormat:function(a){return a||i.DataFormat.GEOJSON},_processParams:function(a){return a?(a.bounds&&(a.bounds=h.CommontypesConversion.toSuperMapBounds(a.bounds)),a.query&&(a.query=h.CommontypesConversion.toSuperMapBounds(a.query)),a.geometryQuery&&(a.geometryQuery=h.CommontypesConversion.toProcessingParam(a.geometryQuery)),a.geometryClip&&(a.geometryClip=h.CommontypesConversion.toProcessingParam(a.geometryClip)),a):{}}}),k=b.processingService=function(a,b){return new j(a,b)};f["default"].supermap.processingService=k},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.VectorTileJSON=void 0;var d,e=c(2),f=(d=e)&&d.__esModule?d:{"default":d},g=c(51),h=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}(c(31)),i=c(5);b.VectorTileJSON=f["default"].Class.extend({initialize:function(a){this.url=a},getTile:function(){var a=this;return i.FetchRequest.get(a.url,null,{timeout:1e4}).then(function(a){return a.json()}).then(function(b){return a._processRecordSets(b,a)})},_processRecordSets:function(a,b){var c=a.recordsets;if(!(c=b._convertToGeoJSON(c)))return null;for(var d=0;d<c.length;d++){for(var e=c[d],f=0;f<e.features.length;f++){var g=e.features[f];(g=b._convertToVectorLayerFeature(g,b)).layerName=e.layerName,e.features[f]=g}e.extent=256,delete e.fieldTypes,delete e.fields}return c},_convertToVectorLayerFeature:function(a,b){if(a.geometry){var c,d,e,f,h={},i=a.geometry,j=i.type,k=i.coordinates,l=a.properties,m=l.id;if("Point"===j)h=l&&l.texts?b._createFeature(m,g.VectorFeatureType.TEXT,[k],l):b._createFeature(m,g.VectorFeatureType.POINT,[k],l);else if("MultiPoint"===j)h=b._createFeature(m,g.VectorFeatureType.POINT,k,l);else if("LineString"===j)h=b._createFeature(m,g.VectorFeatureType.LINE,[k],l);else if("MultiLineString"===j||"Polygon"===j){for(e=[],c=0;c<k.length;c++)f=k[c],"Polygon"===j&&(f.outer=0===c),e.push(f);var n="Polygon"===j?g.VectorFeatureType.REGION:g.VectorFeatureType.LINE;h=b._createFeature(m,n,e,l)}else{if("MultiPolygon"!==j)throw new Error("Illegal GeoJSON object");for(e=[],c=0;c<k.length;c++)for(d=0;d<k[c].length;d++)(f=k[c][d]).outer=0===d,e.push(f);h=b._createFeature(m,g.VectorFeatureType.REGION,e,l)}return h}},_convertToGeoJSON:function(a){if(a){for(var b=0;b<a.length;b++){for(var c=a[b],d=0;d<c.features.length;d++){for(var e=c.features[d],f=[],g=0,i=0;i<e.geometry.parts.length;i++){for(var j=2*e.geometry.parts[i],k=0,l=g;j>k;k+=2,l+=2){var m=e.geometry.points[l],n=e.geometry.points[l+1];f.push({x:m,y:n})}g+=j}e.geometry.points=f}c.features=h.toGeoJSON(c.features).features}return a}},_createFeature:function(a,b,c,d){return{id:a,type:b,geometry:c,properties:d}}})},function(a,b,c){"use strict";function d(a,b,c,d,f){this.properties={},this.extent=c,this.type=0,this._pbf=a,this._geometry=-1,this._keys=d,this._values=f,a.readFields(e,this,b)}function e(a,b,c){1==a?b.id=c.readVarint():2==a?function(a,b){for(var c=a.readVarint()+a.pos;a.pos<c;){var d=b._keys[a.readVarint()],e=b._values[a.readVarint()];b.properties[d]=e}}(c,b):3==a?b.type=c.readVarint():4==a&&(b._geometry=c.pos)}function f(a){for(var b,c,d=0,e=0,f=a.length,g=f-1;f>e;g=e++)b=a[e],d+=((c=a[g]).x-b.x)*(b.y+c.y);return d}var g=c(358);a.exports=d,d.types=["Unknown","Point","LineString","Polygon"],d.prototype.loadGeometry=function(){var a=this._pbf;a.pos=this._geometry;for(var b,c=a.readVarint()+a.pos,d=1,e=0,f=0,h=0,i=[];a.pos<c;){if(!e){var j=a.readVarint();d=7&j,e=j>>3}if(e--,1===d||2===d)f+=a.readSVarint(),h+=a.readSVarint(),1===d&&(b&&i.push(b),b=[]),b.push(new g(f,h));else{if(7!==d)throw new Error("unknown command "+d);b&&b.push(b[0].clone())}}return b&&i.push(b),i},d.prototype.bbox=function(){var a=this._pbf;a.pos=this._geometry;for(var b=a.readVarint()+a.pos,c=1,d=0,e=0,f=0,g=1/0,h=-1/0,i=1/0,j=-1/0;a.pos<b;){if(!d){var k=a.readVarint();c=7&k,d=k>>3}if(d--,1===c||2===c)e+=a.readSVarint(),f+=a.readSVarint(),g>e&&(g=e),e>h&&(h=e),i>f&&(i=f),f>j&&(j=f);else if(7!==c)throw new Error("unknown command "+c)}return[g,i,h,j]},d.prototype.toGeoJSON=function(a,b,c){function e(a){for(var b=0;b<a.length;b++){var c=a[b],d=180-360*(c.y+k)/i;a[b]=[360*(c.x+j)/i-180,360/Math.PI*Math.atan(Math.exp(d*Math.PI/180))-90]}}var g,h,i=this.extent*Math.pow(2,c),j=this.extent*a,k=this.extent*b,l=this.loadGeometry(),m=d.types[this.type];switch(this.type){case 1:var n=[];for(g=0;g<l.length;g++)n[g]=l[g][0];e(l=n);break;case 2:for(g=0;g<l.length;g++)e(l[g]);break;case 3:for(l=function(a){var b=a.length;if(1>=b)return[a];for(var c,d,e=[],g=0;b>g;g++){var h=f(a[g]);0!==h&&(void 0===d&&(d=0>h),d===0>h?(c&&e.push(c),c=[a[g]]):c.push(a[g]))}return c&&e.push(c),e}(l),g=0;g<l.length;g++)for(h=0;h<l[g].length;h++)e(l[g][h])}1===l.length?l=l[0]:m="Multi"+m;var o={type:"Feature",geometry:{type:m,coordinates:l},properties:this.properties};return"id"in this&&(o.id=this.id),o}},function(a,b,c){"use strict";function d(a,b){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=a,this._keys=[],this._values=[],this._features=[],a.readFields(e,this,b),this.length=this._features.length}function e(a,b,c){15===a?b.version=c.readVarint():1===a?b.name=c.readString():5===a?b.extent=c.readVarint():2===a?b._features.push(c.pos):3===a?b._keys.push(c.readString()):4===a&&b._values.push(function(a){for(var b=null,c=a.readVarint()+a.pos;a.pos<c;){var d=a.readVarint()>>3;b=1===d?a.readString():2===d?a.readFloat():3===d?a.readDouble():4===d?a.readVarint64():5===d?a.readVarint():6===d?a.readSVarint():7===d?a.readBoolean():null}return b}(c))}var f=c(146);a.exports=d,d.prototype.feature=function(a){if(0>a||a>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[a];var b=this._pbf.readVarint()+this._pbf.pos;return new f(this._pbf,b,this.extent,this._keys,this._values)}},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0}),b.VectorTilePBF=void 0;var e=d(c(2)),f=d(c(362)),g=c(360),h=c(51),i=c(5);b.VectorTilePBF=e["default"].Class.extend({initialize:function(a){this.url=a},getTile:function(){var a=this;return i.FetchRequest.get(a.url,null,{timeout:1e4}).then(function(a){return a.ok?a.blob().then(function(a){var b=new FileReader;return new Promise1(function(c){b.addEventListener("loadend",function(){var a=new f["default"](b.result);return c(new g.VectorTile(a))}),b.readAsArrayBuffer(a)})}):{layers:[]}}).then(function(b){return a._processVectorTileSpec(b)})},_processVectorTileSpec:function(a){var b=[];for(var c in a.layers){for(var d=[],f=0;f<a.layers[c].length;f++){var g=a.layers[c].feature(f);switch(g.geometry=g.loadGeometry(),g.layerName=c,g.properties={attributes:e["default"].Util.extend({},g.properties),id:g.id},g.type){case 1:g.type=h.VectorFeatureType.POINT;break;case 2:g.type=h.VectorFeatureType.LINE;break;case 3:g.type=h.VectorFeatureType.REGION}d.push(g)}var i={};i.features=d,i.layerName=c,i.extent=a.layers[c].extent,b.push(i)}return b}})},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.RegionSymbolizer=void 0;var d,e=c(2),f=(d=e)&&d.__esModule?d:{"default":d},g=c(50),h=c(95);b.RegionSymbolizer=f["default"].Polygon.extend({includes:[g.Symbolizer.prototype,h.PolyBase],initialize:function(a,b){g.Symbolizer.prototype.initialize.call(this,a),this._makeFeatureParts(a,b)},render:function(a,b){g.Symbolizer.prototype.render.call(this,a,b),this._updatePath()}})},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.LineSymbolizer=void 0;var d,e=c(2),f=(d=e)&&d.__esModule?d:{"default":d},g=c(50),h=c(95);b.LineSymbolizer=f["default"].Polyline.extend({includes:[g.Symbolizer.prototype,h.PolyBase],initialize:function(a,b){g.Symbolizer.prototype.initialize.call(this,a),this._makeFeatureParts(a,b)},render:function(a,b){b.fill=!1,g.Symbolizer.prototype.render.call(this,a,b),this._updatePath()},updateStyle:function(a,b){b.fill=!1,g.Symbolizer.prototype.updateStyle.call(this,a,b)}})},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.PointSymbolizer=void 0;var d,e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},f=c(50),g=c(2),h=(d=g)&&d.__esModule?d:{"default":d},i=b.PointSymbolizer=h["default"].CircleMarker.extend({includes:f.Symbolizer.prototype,statics:{iconCache:{}},initialize:function(a,b){f.Symbolizer.prototype.initialize.call(this,a),this._makeFeatureParts(a,b)},getLatLng:function(){return this._renderer._map.layerPointToLatLng(this._point)},render:function(a,b){f.Symbolizer.prototype.render.call(this,a,b),this._radius=b.radius||h["default"].CircleMarker.prototype.options.radius,this._updatePath()},_makeFeatureParts:function(a,b){b=b||{x:1,y:1};var c=a.geometry[0];"object"===e(c[0])&&"x"in c[0]?(this._point=h["default"].point(c[0]).scaleBy(b),this._empty=h["default"].Util.falseFn):(this._point=h["default"].point(c).scaleBy(b),this._empty=h["default"].Util.falseFn)},makeInteractive:function(){this._updateBounds()},updateStyle:function(a,b){return this._radius=b.radius||this._radius,this._updateBounds(),f.Symbolizer.prototype.updateStyle.call(this,a,b)},_updateBounds:function(){if(this.options.iconUrl&&this.options.iconSize){var a=h["default"].point(this.options.iconSize),b=a&&a.divideBy(2,!0),c=this._point.subtract(b);this._pxBounds=new h["default"].Bounds(c,c.add(a))}else h["default"].CircleMarker.prototype._updateBounds.call(this)},_updatePath:function(){this.options.iconUrl?this._renderer._updateIcon(this):h["default"].CircleMarker.prototype._updatePath.call(this)},_getImage:function(){if(!this.options.iconUrl)return null;var a=this.options.iconUrl,b=i.iconCache[a];if(!b){var c=this.options.iconSize||[50,50];b=i.iconCache[a]=this._createIcon(a,c)}return b},_createIcon:function(a,b){var c=a;if(!c)throw new Error("iconUrl not set in Icon options (see the docs).");var d=document.createElement("img");d.src=c,d.className="leaflet-marker-icon "+(this.layerName||"");var e=b;if("number"==typeof e&&(e=[e,e]),e){var f=h["default"].point(e),g=h["default"].point(f&&f.divideBy(2,!0));f&&(d.style.width=f.x+"px",d.style.height=f.y+"px"),g&&(d.style.marginLeft=-g.x+"px",d.style.marginTop=-g.y+"px")}return d.onload=function(){e||(d.style.width=this.width+"px",d.style.height=this.height+"px")},d},_containsPoint:function(a){return this.options.iconUrl?this._pxBounds.contains(a):h["default"].CircleMarker.prototype._containsPoint.call(this,a)}})},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.VectorTile=void 0;var d,e=c(2),f=(d=e)&&d.__esModule?d:{"default":d},g=c(51),h=c(96),i=c(151),j=c(150),k=c(149),l=c(148),m=c(145),n=c(94);b.VectorTile=f["default"].Class.extend({initialize:function(a,b){this.layer=a.layer,this.tileSize=a.layer.getTileSize(),this.format=a.format,this.coords=a.coords,this.renderer=a.renderer,this.done=b,this.layer._textVectorTiles={}},renderTile:function(){var a=this,b=a.layer,c=a.coords,d=b._getTileUrl(c);([n.VectorTileFormat.MVT,n.VectorTileFormat.PBF].indexOf(a.format.toUpperCase())>-1?new l.VectorTilePBF(d):new m.VectorTileJSON(d)).getTile().then(function(b){a.render(b,c)})},render:function(a,b){if(a){for(var c=this,d=c.renderer,e=c.layer,h=0;h<a.length;h++){var i=a[h],j=i.layerName;e._dataLayerNames[j]=!0;for(var k=c.tileSize.divideBy(i.extent),l=e.getLayerStyleInfo(i.layerName),m=0;m<i.features.length;m++){var n=i.features[m];if(n){l&&l.type===g.VectorFeatureType.LABEL&&n.type===g.VectorFeatureType.POINT&&n.properties.attributes&&(n.type=g.VectorFeatureType.TEXT);var o=c._getStyleOptions(b,n,j,c);if(o.length){var p=c._createFeatureLayer(n,k);if(p){var q={scope:c,coords:b,renderer:d};if(!c._extractTextLayer(n,p,o,q)){for(var r=0;r<o.length;r++){var s=c._validateStyle(o[r],n.type);p.render(d,s),d._addPath(p)}e.options.interactive&&p.makeInteractive();var t=e._getFeatureKey(n.id,j);d._features[t]={layerName:j,feature:p}}}}}}}e._map&&d.addTo(e._map),f["default"].Util.requestAnimFrame(c.done.bind(b,null,c.layer._vectorTiles[c.layer._tileCoordsToKey(b)]))}},_extractTextLayer:function(a,b,c,d){if(a.type!==g.VectorFeatureType.TEXT)return!1;var e=d.scope,f=d.coords,h=e.layer,i=h._tileCoordsToKey(f),j=a.id,k=a.layerName,l=h._textVectorTiles[i];return l||(l={layers:{},coords:f,renderer:d.renderer}),l.layers[j]={layer:b,style:c,layerName:k},h._textVectorTiles[i]=l,!0},_getStyleOptions:function(a,b,c,d){var e=d,f=e.layer,g=f.getVectorTileLayerStyle(a,b)||e._defaultStyle(b.type),h=b.id,i=f._getFeatureKey(h,c),j=f._overriddenStyles[i];return g=(g=(g=j||g)instanceof Function?g(b.properties,a.z):g)instanceof Array?g:[g]},_createFeatureLayer:function(a,b){var c;switch(a.type){case g.VectorFeatureType.POINT:c=new i.PointSymbolizer(a,b);break;case g.VectorFeatureType.LINE:c=new j.LineSymbolizer(a,b);break;case g.VectorFeatureType.REGION:c=new k.RegionSymbolizer(a,b);break;case g.VectorFeatureType.TEXT:c=new h.TextSymbolizer(a,b)}var d=this.layer;return c&&d.options.interactive&&c.addEventParent(d),c},_validateStyle:function(a,b){switch(f["default"].Path.prototype.options.weight=1,f["default"].Path.prototype.options.fillOpacity=1,b){case g.VectorFeatureType.POINT:return f["default"].extend({},f["default"].CircleMarker.prototype.options,a);case g.VectorFeatureType.LINE:return f["default"].extend({},f["default"].Polyline.prototype.options,a);case g.VectorFeatureType.REGION:return f["default"].extend({},f["default"].Polygon.prototype.options,a);case g.VectorFeatureType.TEXT:return f["default"].extend({},h.TextSymbolizer.prototype.options,a)}},_defaultStyle:function(a){var b=f["default"].Path.prototype.options;switch(b.weight=1,b.fillOpacity=1,b.radius=3,a){case g.VectorFeatureType.POINT:return f["default"].extend({},b,f["default"].CircleMarker.prototype.options);case g.VectorFeatureType.LINE:return f["default"].extend({},b,f["default"].Polyline.prototype.options);case g.VectorFeatureType.REGION:return f["default"].extend({},b,f["default"].Polygon.prototype.options);case g.VectorFeatureType.TEXT:return f["default"].extend({},b,h.TextSymbolizer.prototype.options)}}})},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.VectorGrid=void 0;var d,e=c(2),f=(d=e)&&d.__esModule?d:{"default":d},g=c(98),h=c(97),i=c(152),j=c(96),k=c(94),l=c(51);b.VectorGrid=f["default"].GridLayer.extend({options:{vectorTileLayerStyles:null,renderer:"SVG",format:k.VectorTileFormat.JSON,interactive:!0,maxZoom:23},initialize:function(a){var b=this;f["default"].setOptions(b,a),f["default"].GridLayer.prototype.initialize.call(b,a),b._vectorTiles={},b._overriddenStyles={},b.vectorTileLayerStyles=b.options.vectorTileLayerStyles,b.on("tileunload",function(a){var c=b._tileCoordsToKey(a.coords),d=b._vectorTiles[c];d&&b._map&&d.removeFrom(b._map),delete b._vectorTiles[c]},b),b.on("tileerror ",b._renderText,b),b.on("load",b._renderText,b),b._dataLayerNames={}},createTile:function(a,b){var c=this,d=c.getTileSize(),e=null;return e="Canvas"===c.options.renderer?new h.CanvasRenderer(a,d,c.options):new g.SVGRenderer(a,d,c.options),c._vectorTiles[c._tileCoordsToKey(a)]=e,e._features={},new i.VectorTile({layer:c,format:c.options.format,coords:a,renderer:e},b).renderTile(),e.getContainer()},getStyles:function(){return this.vectorTileLayerStyles},getStyle:function(a){return this.vectorTileLayerStyles&&this.vectorTileLayerStyles[a]},setFeatureStyle:function(a,b,c){var d=this._getFeatureKey(a,b);for(var e in this._overriddenStyles[d]=c,this._vectorTiles){var f=this._vectorTiles[e],g=f._features[d];if(g){var h=g.feature;this._updateStyles(h,f,c)}}return this},resetFeatureStyle:function(a,b){var c=this._getFeatureKey(a,b);for(var d in delete this._overriddenStyles[c],this._vectorTiles){var e=this._vectorTiles[d],f=e._features[c];if(f){var g=f.feature,h=this.vectorTileLayerStyles[f.layerName];this._updateStyles(g,e,h)}}return this},getDataLayerNames:function(){return Object.keys(this._dataLayerNames)},_removeAllTiles:function(){f["default"].GridLayer.prototype._removeAllTiles.call(this),this._textVectorTiles={}},_renderText:function(){var a=this._textVectorTiles;for(var b in a){var c=a[b],d=c.renderer;for(var e in c.layers){for(var f=c.layers[e],g=f.style,h=f.layer,i=0;i<g.length;i++)h.render(d,g[i]),d._addPath(h);this.options.interactive&&h.makeInteractive()}}},_getFeatureKey:function(a,b){return(a=a||0)+"_"+(b=b||"null")},_updateStyles:function(a,b,c){(c=c instanceof Function?c(a.properties,b.getCoord().z):c)instanceof Array||(c=[c]);for(var d=0;d<c.length;d++){var e=this._extendStyle(c[d],a.type);a.updateStyle(b,e)}},_extendStyle:function(a,b){switch(b){case l.VectorFeatureType.POINT:return f["default"].extend({},f["default"].CircleMarker.prototype.options,a);case l.VectorFeatureType.LINE:return f["default"].extend({},f["default"].Polyline.prototype.options,a);case l.VectorFeatureType.REGION:return f["default"].extend({},f["default"].Polygon.prototype.options,a);case l.VectorFeatureType.TEXT:return f["default"].extend({},j.TextSymbolizer.prototype.options,a)}}})},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.graphThemeLayer=b.GraphThemeLayer=void 0;var d,e=c(2),f=(d=e)&&d.__esModule?d:{"default":d};c(3);var g=c(5),h=c(100),i=c(25),j=b.GraphThemeLayer=h.ThemeLayer.extend({options:{isOverLay:!0},initialize:function(a,b,c){var d=[];d.push(a),d.push(c),h.ThemeLayer.prototype.initialize.apply(this,d),this.chartsType=b,this.themeFields=c&&c.themeFields?c.themeFields:null,this.charts=c&&c.charts?c.charts:[],this.cache=c&&c.cache?c.cache:{},this.chartsSetting=c&&c.chartsSetting?c.chartsSetting:{}},setChartsType:function(a){this.chartsType=a,this.redraw()},addFeatures:function(a){var b=this;b.fire("beforefeaturesadded",{features:a}),this.features=this.toiClientFeature(a),b.renderer&&(b._map?b.redrawThematicFeatures(b._map.getBounds()):b.redrawThematicFeatures())},redrawThematicFeatures:function(a){var b=this;b.renderer.clearAll();var c=b.features;if(this.options.alwaysMapCRS&&a&&a instanceof f["default"].LatLngBounds){var d=this._map.options.crs;a=f["default"].bounds(d.project(a.getSouthWest()),d.project(a.getNorthEast()))}a=i.CommontypesConversion.toSuperMapBounds(a);for(var e=0,g=c.length;g>e;e++){var h=c[e],j=h.geometry.getBounds();if(!a||a.intersectsBounds(j)){var k=b.cache,l=h.id;if(!k[l]){k[l]=l;var m=b.createThematicFeature(h),n=b.overlayWeightField&&h.attributes[b.overlayWeightField]&&!isNaN(h.attributes[b.overlayWeightField]);m&&n&&(m.__overlayWeight=h.attributes[b.overlayWeightField]),m&&b.charts.push(m)}}}b.drawCharts()},createThematicFeature:function(a){var b,c=this;return g.FeatureTheme[c.chartsType]&&c.themeFields&&c.chartsSetting&&(b=new g.FeatureTheme[c.chartsType](a,c,c.themeFields,c.chartsSetting)),!!b&&(b.assembleShapes(),b)},drawCharts:function(){var a=this;a.renderer&&(a.overlayWeightField&&a._sortChart(),a.options&&!a.options.isOverLay?a._addOverlayShape():a._addNoOverlayShape(),a.renderer.render())},getShapesByFeatureID:function(a){var b=[],c=this.renderer.getAllShapes();if(!a)return c;for(var d=0,e=c.length;e>d;d++){var f=c[d];f.refDataID&&a===f.refDataID&&b.push(f)}return b},isQuadrilateralOverLap:function(a,b){var c=a.length,d=b.length;if(5!==c||5!==d)return null;for(var e=!1,f=0;c>f;f++)if(this.isPointInPoly(a[f],b)){e=!0;break}for(var h=0;d>h;h++)if(this.isPointInPoly(b[h],a)){e=!0;break}for(var i=0;c-1>i&&!e;i++)for(var j=0;d-1>j;j++)if("SuperMap.Geometry.Point"===g.CommonUtil.lineIntersection(a[i],a[i+1],b[j],b[j+1]).CLASS_NAME){e=!0;break}return e},isPointInPoly:function(a,b){for(var c=!1,d=-1,e=b.length,f=e-1;++d<e;f=d)(b[d].y<=a.y&&a.y<b[f].y||b[f].y<=a.y&&a.y<b[d].y)&&a.x<(b[f].x-b[d].x)*(a.y-b[d].y)/(b[f].y-b[d].y)+b[d].x&&(c=!c);return c},isChartInMap:function(a,b){for(var c=a,d=!1,e=0,f=b.length;f>e;e++){var g=b[e];if(g.x>=c.left&&g.x<=c.right&&g.y>=c.top&&g.y<=c.bottom){d=!0;break}}return d},clearCache:function(){this.cache={},this.charts=[]},removeFeatures:function(a){this.clearCache(),h.ThemeLayer.prototype.removeFeatures.apply(this,arguments)},removeAllFeatures:function(){this.clearCache(),h.ThemeLayer.prototype.removeAllFeatures.apply(this,arguments)},redraw:function(){return this.clearCache(),h.ThemeLayer.prototype.redraw.apply(this,arguments)},clear:function(){var a=this;a.renderer&&(a.renderer.clearAll(),a.renderer.refresh()),
a.removeAllFeatures(),a.clearCache()},getWeightFieldValue:function(a,b,c){if((void 0===c||isNaN(c))&&(c=0),!a.attributes)return c;var d=a.attributes[b];return(void 0===d||isNaN(d))&&(d=c),d},_sortChart:function(){this.charts&&this.charts.sort(function(a,b){return void 0===a.__overlayWeight&&void 0===b.__overlayWeight?0:void 0!==a.__overlayWeight&&void 0===b.__overlayWeight?-1:void 0===a.__overlayWeight&&void 0!==b.__overlayWeight?1:void 0!==a.__overlayWeight&&void 0!==b.__overlayWeight?parseFloat(a.__overlayWeight)<parseFloat(b.__overlayWeight)?1:-1:0})},_addOverlayShape:function(){for(var a=this.charts,b=0,c=a.length;c>b;b++)for(var d=a[b],e=d.resetLocation(),f=d.shapes,g=0,h=f.length;h>g;g++)f[g].refOriginalPosition=e,this.renderer.addShape(f[g])},_addNoOverlayShape:function(){var a=this,b=a._map.getBounds(),c=this._map.options.crs;this.options.alwaysMapCRS&&(b=f["default"].bounds(c.project(b.getSouthWest()),c.project(b.getNorthEast()))),b=i.CommontypesConversion.toSuperMapBounds(b);for(var d=a.charts,e=[],h=a.getLocalXY(new g.LonLat(b.left,b.top)),j=a.getLocalXY(new g.LonLat(b.right,b.bottom)),k=new g.Bounds(h[0],j[1],j[0],h[1]),l=0,m=d.length;m>l;l++){var n=d[l],o=n.resetLocation(),p=n.chartBounds,q=[{x:p.left,y:p.top},{x:p.left,y:p.bottom},{x:p.right,y:p.bottom},{x:p.right,y:p.top},{x:p.left,y:p.top}];if(!k||a.isChartInMap(k,q)){for(var r=!1,s=0;s<e.length;s++)if(a.isQuadrilateralOverLap(q,e[s])){r=!0;break}if(!r){e.push(q);for(var t=n.shapes,u=0,v=t.length;v>u;u++)t[u].refOriginalPosition=o,a.renderer.addShape(t[u])}}}}}),k=b.graphThemeLayer=function(a,b,c){return new j(a,b,c)};f["default"].supermap.graphThemeLayer=k},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.imageStyle=b.ImageStyle=b.graphic=b.Graphic=b.circleStyle=b.CircleStyle=b.cloverStyle=b.CloverStyle=b.GraphicWebGLRenderer=b.GraphicCanvasRenderer=void 0;var d=c(369),e=c(368),f=c(165),g=c(367),h=c(366),i=c(365);b.GraphicCanvasRenderer=h.GraphicCanvasRenderer,b.GraphicWebGLRenderer=i.GraphicWebGLRenderer,b.CloverStyle=d.CloverStyle,b.cloverStyle=d.cloverStyle,b.CircleStyle=e.CircleStyle,b.circleStyle=e.circleStyle,b.Graphic=f.Graphic,b.graphic=f.graphic,b.ImageStyle=g.ImageStyle,b.imageStyle=g.imageStyle},function(a,b,c){"use strict";function d(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}Object.defineProperty(b,"__esModule",{value:!0}),b.MapVRenderer=void 0;var e,f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=function l(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:l(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0!==f?f.call(c):void 0},h=c(2),i=(e=h)&&e.__esModule?e:{"default":e},j=c(375),k=j.baiduMapLayer?j.baiduMapLayer.__proto__:Function;b.MapVRenderer=function(a){function b(a,c,e,f){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var g=d(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,e,f));if(!k)return d(g);var h=g;return f=f||{},h.init(f),h.argCheck(f),g.canvasLayer=c,g.clickEvent=g.clickEvent.bind(g),g.mousemoveEvent=g.mousemoveEvent.bind(g),g._moveStartEvent=g.moveStartEvent.bind(g),g._moveEndEvent=g.moveEndEvent.bind(g),g._zoomStartEvent=g.zoomStartEvent.bind(g),g.bindEvent(),g}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,k),f(b,[{key:"clickEvent",value:function(a){var c=this.map.containerPointToLayerPoint([0,0]),d=this.devicePixelRatio=this.canvasLayer.devicePixelRatio=window.devicePixelRatio,e=a.layerPoint;g(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"clickEvent",this).call(this,i["default"].point((e.x-c.x)/d,(e.y-c.y)/d),a)}},{key:"mousemoveEvent",value:function(a){var c=a.layerPoint;g(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"mousemoveEvent",this).call(this,c,a)}},{key:"bindEvent",value:function(){var a=this.map;this.options.methods&&(this.options.methods.click&&a.on("click",this.clickEvent),this.options.methods.mousemove&&a.on("mousemove",this.mousemoveEvent)),this.map.on("movestart",this._moveStartEvent),this.map.on("moveend",this._moveEndEvent),this.map.on("zoomstart",this._zoomStartEvent)}},{key:"destroy",value:function(){this.unbindEvent(),this.clearData(),this.animator&&this.animator.stop(),this.animator=null,this.canvasLayer=null}},{key:"unbindEvent",value:function(){var a=this.map;this.options.methods&&(this.options.methods.click&&a.off("click",this.clickEvent),this.options.methods.mousemove&&a.off("mousemove",this.mousemoveEvent)),this.map.off("movestart",this._moveStartEvent),this.map.off("moveend",this._moveEndEvent),this.map.off("zoomstart",this._zoomStartEvent)}},{key:"getContext",value:function(){return this.canvasLayer.getCanvas().getContext(this.context)}},{key:"addData",value:function(a,b){var c=a;a&&a.get&&(c=a.get()),this.dataSet.add(c),this.update({options:b})}},{key:"update",value:function(a){var c=a||{},d=c.data;d&&d.get&&(d=d.get()),void 0!=d&&this.dataSet.set(d),g(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"update",this).call(this,{options:c.options})}},{key:"getData",value:function(){return this.dataSet}},{key:"removeData",value:function(a){if(this.dataSet){var b=this.dataSet.get({filter:function(b){return null==a||"function"!=typeof a||!a(b)}});this.dataSet.set(b),this.update({options:null})}}},{key:"clearData",value:function(){this.dataSet&&this.dataSet.clear(),this.update({options:null})}},{key:"_canvasUpdate",value:function(a){if(this.canvasLayer){var b=this,c=b.options.animation,d=this.getContext(),e=this.map;if(b.isEnabledTime()){if(void 0===a)return void this.clear(d);"2d"===this.context&&(d.save(),d.globalCompositeOperation="destination-out",d.fillStyle="rgba(0, 0, 0, .1)",d.fillRect(0,0,d.canvas.width,d.canvas.height),d.restore())}else this.clear(d);if("2d"===this.context)for(var f in b.options)d[f]=b.options[f];else d.clear(d.COLOR_BUFFER_BIT);if(!(b.options.minZoom&&e.getZoom()<b.options.minZoom||b.options.maxZoom&&e.getZoom()>b.options.maxZoom)){var g=e.getBounds(),h=g.getEast()-g.getWest(),j=g.getNorth()-g.getSouth(),k=e.getSize(),l=h/k.x,m=j/k.y,n=this.canvasLayer.getTopLeft(),o=e.latLngToAccurateContainerPoint(n),p={transferCoordinate:function(a){var c,d={x:(c="2d"===b.context?e.latLngToAccurateContainerPoint(i["default"].latLng(a[1],a[0])):{x:(a[0]-n.lng)/l,y:(n.lat-a[1])/m}).x-o.x,y:c.y-o.x};return[d.x,d.y]}};void 0!==a&&(p.filter=function(b){var d=c.trails||10;return a&&b.time>a-d&&b.time<a});var q=b.dataSet.get(p);this.processData(q),b.options._size=b.options.size;var r=e.latLngToContainerPoint(i["default"].latLng(0,0)),s={x:r.x-o.x,y:r.y-o.y};this.drawContext(d,q,b.options,s),b.options.updateCallback&&b.options.updateCallback(a)}}}},{key:"init",value:function(a){this.options=a,this.initDataRange(a),this.context=this.options.context||"2d",this.options.zIndex&&this.canvasLayer&&this.canvasLayer.setZIndex(this.options.zIndex),this.initAnimator()}},{key:"addAnimatorEvent",value:function(){}},{key:"moveStartEvent",value:function(){var a=this.options.animation;this.isEnabledTime()&&this.animator&&(this.steps.step=a.stepsRange.start,this._hide())}},{key:"moveEndEvent",value:function(){this.canvasLayer.draw(),this._show()}},{key:"zoomStartEvent",value:function(){this._hide()}},{key:"clear",value:function(a){a&&a.clearRect&&a.clearRect(0,0,a.canvas.width,a.canvas.height)}},{key:"_hide",value:function(){this.canvasLayer.canvas.style.display="none"}},{key:"_show",value:function(){this.canvasLayer.canvas.style.display="block"}},{key:"draw",value:function(){this.canvasLayer.draw()}}]),b}()},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0}),b.mapVLayer=b.MapVLayer=void 0;var e=d(c(2));c(3);var f=c(156),g=d(c(11)),h=b.MapVLayer=e["default"].Layer.extend({options:{attributionPrefix:null,attribution:g["default"].MapV.attribution},initialize:function(a,b,c){c=c||{},this.dataSet=a||{},this.mapVOptions=b||{},this.render=this.render.bind(this),e["default"].Util.setOptions(this,c),this.options.attributionPrefix&&(this.options.attribution=this.options.attributionPrefix+this.options.attribution),this.canvas=this._createCanvas(),e["default"].stamp(this)},onAdd:function(a){this._map=a;var b=this.getPane(),c=this.container=e["default"].DomUtil.create("div","leaflet-layer leaflet-zoom-animated",b);c.appendChild(this.canvas);var d=a.getSize();c.style.width=d.x+"px",c.style.height=d.y+"px",this.renderer=new f.MapVRenderer(a,this,this.dataSet,this.mapVOptions),this.draw(),this.fire("loaded")},onRemove:function(){e["default"].DomUtil.remove(this.container),this.renderer.destroy()},addData:function(a,b){this.renderer.addData(a,b)},update:function(a){this.renderer.update(a)},getData:function(){return this.renderer&&(this.dataSet=this.renderer.getData()),this.dataSet},removeData:function(a){this.renderer&&this.renderer.removeData(a)},clearData:function(){this.renderer.clearData()},draw:function(){return this._reset()},setZIndex:function(a){this.canvas.style.zIndex=a},render:function(){this.renderer._canvasUpdate()},getCanvas:function(){return this.canvas},getContainer:function(){return this.container},getTopLeft:function(){var a,b=this._map;return b&&(a=b.getBounds().getNorthWest()),a},_createCanvas:function(){var a=document.createElement("canvas");a.style.position="absolute",a.style.top="0px",a.style.left="0px",a.style.pointerEvents="none",a.style.zIndex=this.options.zIndex||600;var b="undefined"==typeof window?{}:window,c=this.devicePixelRatio=b.devicePixelRatio;return"2d"==this.mapVOptions.context&&a.getContext("2d").scale(c,c),a},_resize:function(){var a=this.canvas;if(a){var b=this._map,c=b.getSize();a.width=c.x,a.height=c.y,a.style.width=c.x+"px",a.style.height=c.y+"px";var d=b.getBounds(),f=b.latLngToLayerPoint(d.getNorthWest());e["default"].DomUtil.setPosition(a,f)}},_reset:function(){this._resize(),this._render()},redraw:function(){this._resize(),this._render()},_render:function(){this.render()}}),i=b.mapVLayer=function(a,b,c){return new h(a,b,c)};e["default"].Map.include({latLngToAccurateContainerPoint:function(a){var b=this.project(e["default"].latLng(a))._subtract(this.getPixelOrigin());return e["default"].point(b).add(this._getMapPanePos())}}),e["default"].supermap.mapVLayer=i},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.dataFlowService=b.DataFlowService=void 0;var d,e=c(2),f=(d=e)&&d.__esModule?d:{"default":d};c(3);var g=c(8),h=c(5),i=b.DataFlowService=g.ServiceBase.extend({options:{geometry:null,prjCoordSys:null,excludeField:null},initialize:function(a,b){b=b||{},f["default"].setOptions(this,b),b.projection&&(this.options.prjCoordSys=b.projection),g.ServiceBase.prototype.initialize.call(this,a,b),this.dataFlow=new h.DataFlowService(a,b),this.dataFlow.events.on({broadcastSocketConnected:this._defaultEvent,broadcastSocketError:this._defaultEvent,broadcastFailed:this._defaultEvent,broadcastSucceeded:this._defaultEvent,subscribeSocketConnected:this._defaultEvent,subscribeSocketError:this._defaultEvent,messageSucceeded:this._defaultEvent,setFilterParamSucceeded:this._defaultEvent,scope:this})},initBroadcast:function(){return this.dataFlow.initBroadcast(),this},broadcast:function(a){this.dataFlow.broadcast(a)},initSubscribe:function(){return this.dataFlow.initSubscribe(),this},setExcludeField:function(a){return this.dataFlow.setExcludeField(a),this.options.excludeField=a,this},setGeometry:function(a){return this.dataFlow.setGeometry(a),this.options.geometry=a,this},unSubscribe:function(){this.dataFlow.unSubscribe()},unBroadcast:function(){this.dataFlow.unBroadcast()},_defaultEvent:function(a){this.fire(a.eventType||a.type,a)}}),j=b.dataFlowService=function(a,b){return new i(a,b)};f["default"].supermap.dataFlowService=j},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.dataFlowLayer=b.DataFlowLayer=void 0;var d,e=c(2),f=(d=e)&&d.__esModule?d:{"default":d};c(3);var g=c(158),h=c(376),i=c(374),j=b.DataFlowLayer=f["default"].LayerGroup.extend({options:{geometry:null,prjCoordSys:null,excludeField:null,idField:"id",render:"normal"},initialize:function(a,b){b=b||{},f["default"].Util.setOptions(this,b),this.url=a,this._layers={},this.dataService=new g.DataFlowService(this.url,{geometry:this.options.geometry,prjCoordSys:this.options.prjCoordSys,excludeField:this.options.excludeField})},onAdd:function(a){var b=this;this.dataService.initSubscribe(),this.dataService.on("subscribeSocketConnected",function(a){return b.fire("subscribesucceeded",a)}),this.dataService.on("subscribeSocketError",function(a){return b.fire("subscribefailed",a)}),this.dataService.on("messageSucceeded",function(a){return b._onMessageSuccessed(a)}),this.dataService.on("setFilterParamSucceeded",function(a){return b.fire("setfilterparamsucceeded",a)}),"mapv"===this.options.render?this.addLayer(new h.MapvRenderer(this.url,this.options)):this.addLayer(new i.NormalRenderer(this.url,this.options)),f["default"].LayerGroup.prototype.onAdd.call(this,a)},onRemove:function(a){f["default"].LayerGroup.prototype.onRemove.call(this,a),this.dataService&&this.dataService.unSubscribe()},setExcludeField:function(a){return this.dataService.setExcludeField(a),this.options.excludeField=a,this},setGeometry:function(a){return this.dataService.setGeometry(a),this.options.geometry=a,this},_onMessageSuccessed:function(a){var b=this;this.getLayers().map(function(c){return c.onMessageSuccessed(a),b.fire("dataupdated",{layer:c,data:a.featureResult}),c})}}),k=b.dataFlowLayer=function(a,b){return new j(a,b)};f["default"].supermap.dataFlowLayer=k},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.unicodeMarker=b.UnicodeMarker=void 0;var d,e=c(2),f=(d=e)&&d.__esModule?d:{"default":d};c(3);var g=b.UnicodeMarker=f["default"].Path.extend({options:{fontStyle:"normal",fontWeight:"normal",fontSize:"1em",fontFamily:"sans-serif",textAlign:"center",textBaseline:"middle",vfactor:-.5,labelRotation:0,globalAlpha:1,label:""},initialize:function(a,b){f["default"].Util.setOptions(this,b),this._latlng=a},setLatLng:function(a){return this._latlng=a,this.redraw(),this.fire("move",{latlng:this._latlng})},getLatLng:function(){return this._latlng},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._clickTolerance(),b=[a,a];this._pxBounds=new f["default"].Bounds(this._point.subtract(b),this._point.add(b))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateUnicode(this)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._clickTolerance()}}),h=b.unicodeMarker=function(a,b){return new g(a,b)};f["default"].Canvas.include({_updateUnicode:function(a){if(this._drawing){this._drawnLayers[a._leaflet_id]=a;var b={x:a._point.x,y:a._point.y},c=this._ctx,d=[a.options.fontStyle,"normal",a.options.fontWeight,a.options.fontSize,a.options.fontFamily].join(" "),e=a.options.label.replace(/^&#x/,""),f=(e=String.fromCharCode(parseInt(e,16))).split("\n"),g=f.length;if(c.fillStyle=a.options.fontColor,c.globalAlpha=1,a.options.fontOpacity>=0&&a.options.fontOpacity<1&&(c.globalAlpha=a.options.fontOpacity),c.fillText){c.font=d,c.textAlign=a.options.textAlign,c.textBaseline=a.options.textBaseline;var h=a.options.vfactor,i=c.measureText("Mg").height||c.measureText("xx").width;b.y+=i*h*(g-1);for(var j=0;g>j;j++)0!=a.options.labelRotation?(c.save(),c.translate(b.x,b.y),c.rotate(a.options.labelRotation*Math.PI/180),c.fillText(f[j],0,i*j),c.restore()):c.fillText(f[j],b.x,b.y)}else if(c.mozDrawText){c.mozTextStyle=d;var k=a.options.textAlign,l=a.options.vfactor,m=c.mozMeasureText("xx");b.y+=m*(1+l*g);for(var n=0;g>n;n++){var o=b.x+k*c.mozMeasureText(f[n]),p=b.y+n*m;c.translate(o,p),c.mozDrawText(f[n]),c.translate(-o,-p)}}}}}),f["default"].supermap.unicodeMarker=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.featureService=b.FeatureService=void 0;var d,e=c(2),f=(d=e)&&d.__esModule?d:{"default":d};c(3);var g=c(8),h=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}(c(31)),i=c(25),j=c(5),k=b.FeatureService=g.ServiceBase.extend({initialize:function(a,b){g.ServiceBase.prototype.initialize.call(this,a,b)},getFeaturesByIDs:function(a,b,c){var d=this;new j.GetFeaturesByIDsService(d.url,{proxy:d.options.proxy,withCredentials:d.options.withCredentials,serverType:d.options.serverType,eventListeners:{processCompleted:b,processFailed:b},format:d._processFormat(c)}).processAsync(d._processParams(a))},getFeaturesByBounds:function(a,b,c){var d=this;new j.GetFeaturesByBoundsService(d.url,{proxy:d.options.proxy,withCredentials:d.options.withCredentials,serverType:d.options.serverType,eventListeners:{processCompleted:b,processFailed:b},format:d._processFormat(c)}).processAsync(d._processParams(a))},getFeaturesByBuffer:function(a,b,c){var d=this;new j.GetFeaturesByBufferService(d.url,{proxy:d.options.proxy,withCredentials:d.options.withCredentials,serverType:d.options.serverType,eventListeners:{processCompleted:b,processFailed:b},format:d._processFormat(c)}).processAsync(d._processParams(a))},getFeaturesBySQL:function(a,b,c){var d=this;new j.GetFeaturesBySQLService(d.url,{proxy:d.options.proxy,withCredentials:d.options.withCredentials,serverType:d.options.serverType,eventListeners:{processCompleted:b,processFailed:b},format:d._processFormat(c)}).processAsync(d._processParams(a))},getFeaturesByGeometry:function(a,b,c){var d=this;new j.GetFeaturesByGeometryService(d.url,{proxy:d.options.proxy,withCredentials:d.options.withCredentials,serverType:d.options.serverType,eventListeners:{processCompleted:b,processFailed:b},format:d._processFormat(c)}).processAsync(d._processParams(a))},editFeatures:function(a,b){if(a&&a.dataSourceName&&a.dataSetName){var c=this,d=c.url;d+="/datasources/"+a.dataSourceName+"/datasets/"+a.dataSetName,new j.EditFeaturesService(d,{proxy:c.options.proxy,withCredentials:c.options.withCredentials,serverType:c.options.serverType,eventListeners:{processCompleted:b,processFailed:b}}).processAsync(c._processParams(a))}},_processParams:function(a){if(!a)return{};a.returnContent=null==a.returnContent||a.returnContent,a.fromIndex=a.fromIndex?a.fromIndex:0,a.toIndex=a.toIndex?a.toIndex:-1,a.isUseBatch=null!=a.isUseBatch&&a.isUseBatch,a.bounds&&(a.bounds=i.CommontypesConversion.toSuperMapBounds(a.bounds)),a.geometry&&(a.geometry=h.toSuperMapGeometry(a.geometry)),a.editType&&(a.editType=a.editType.toLowerCase());var b=this;if(a.features){var c=[];f["default"].Util.isArray(a.features)?a.features.map(function(a){return c.push(b._createServerFeature(a)),a}):c.push(b._createServerFeature(a.features)),a.features=c}return a},_createServerFeature:function(a){var b,c={},d=[],e=[];for(var f in(b=a||{}).properties)d.push(f),e.push(b.properties[f]);return c.fieldNames=d,c.fieldValues=e,b.id&&(c.id=b.id),c.geometry=h.toSuperMapGeometry(b),c},_processFormat:function(a){return a||j.DataFormat.GEOJSON}}),l=b.featureService=function(a,b){return new k(a,b)};f["default"].supermap.featureService=l},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.labelThemeLayer=b.LabelThemeLayer=void 0;var d,e=c(2),f=(d=e)&&d.__esModule?d:{"default":d};c(3);var g=c(67),h=c(5),i=b.LabelThemeLayer=g.GeoFeatureThemeLayer.extend({options:{isOverLay:!0,isAvoid:!0},initialize:function(a,b){g.GeoFeatureThemeLayer.prototype.initialize.call(this,a,b),f["default"].Util.setOptions(this,b),this.style=[],this.themeField=null,this.styleGroups=[],this.defaultStyle={fontColor:"#000000",fontOpacity:1,fontSize:"12px",fontStyle:"normal",fontWeight:"normal",labelAlign:"cm",labelXOffset:0,labelYOffset:0,labelRotation:0,fill:!1,fillColor:"#ee9900",fillOpacity:.4,stroke:!1,strokeColor:"#ee9900",strokeOpacity:1,strokeWidth:1,strokeLinecap:"round",strokeDashstyle:"solid",labelRect:!0,labelSelect:!0,_isGeoTextStrategyStyle:!0},this.getPxBoundsMode=0,this.labelFeatures=[]},onAdd:function(a){g.GeoFeatureThemeLayer.prototype.onAdd.call(this,a),this.container.style.zIndex=200},redrawThematicFeatures:function(a){if(this.features.length>0&&0==this.labelFeatures.length)for(var b=this.setLabelsStyle(this.features),c=0,d=b.length;d>c;c++)this.labelFeatures.push(b[c]);this.features=this.getDrawnLabels(this.labelFeatures),g.GeoFeatureThemeLayer.prototype.redrawThematicFeatures.call(this,a)},removeFeatures:function(a){this.labelFeatures=[],g.GeoFeatureThemeLayer.prototype.removeFeatures.call(this,arguments)},removeAllFeatures:function(){this.labelFeatures=[],g.GeoFeatureThemeLayer.prototype.removeAllFeatures.call(this,arguments)},getDrawnLabels:function(a){for(var b,c,d,e,f=[],g=[],i={labelAlign:"cm",labelXOffset:0,labelYOffset:0},j=this._map,k=j.getSize(),l=j.getZoom(),m=0,n=a.length;n>m;m++){((c=a[m]).isStyleChange||void 0===c.isStyleChange)&&(c=this.setStyle(c));var o=this.getLabelPxLocation(c);if(o.x>=0&&o.x<=k.x&&o.y>=0&&o.y<=k.y){if(c.style.minZoomLevel>-1&&l<=c.style.minZoomLevel)continue;if(c.style.maxZoomLevel>-1&&l>c.style.maxZoomLevel)continue;var p=null;c.isStyleChange?(c.isStyleChange=null,p=this.calculateLabelBounds(c,o)):p=c.geometry.bsInfo.w&&c.geometry.bsInfo.h?this.calculateLabelBounds2(c,o):this.calculateLabelBounds(c,o);var q=new h.Bounds(0,k.y,k.x,0),r=p.length;if(this.options.isAvoid){var s=this.getAvoidInfo(q,p);if(s){if("left"===s.aspectW){c.style.labelXOffset+=s.offsetX;for(var t=0;r>t;t++)p[t].x+=s.offsetX}else if("right"===s.aspectW){c.style.labelXOffset+=-s.offsetX;for(var u=0;r>u;u++)p[u].x+=-s.offsetX}if("top"===s.aspectH){c.style.labelYOffset+=s.offsetY;for(var v=0;r>v;v++)p[v].y+=s.offsetY}else if("bottom"===s.aspectH){c.style.labelYOffset+=-s.offsetY;for(var w=0;r>w;w++)p[w].y+=-s.offsetY}c.isStyleChange=!0}}if(this.options.isOverLay){var x=!1;if(0!=m)for(var y=0;y<g.length;y++)if(this.isQuadrilateralOverLap(p,g[y])){x=!0;break}if(x)continue;g.push(p)}for(var z=[],A=0;r-1>A;A++)z.push(j.containerPointToLatLng(p[A]));var B=z[3],C=z[1],D=new h.Bounds(B.lng,B.lat,C.lng,C.lat).getCenterLonLat(),E=new h.GeoText(D.lon,D.lat,c.attributes[this.themeField]);E.calculateBounds(),d=h.CommonUtil.cloneObject(c.style),e=h.CommonUtil.cloneObject(h.CommonUtil.copyAttributes(d,i)),(b=new h.GeometryVector(E,c.attributes,e)).id=c.id,b.fid=c.fid,f.push(b)}}return f},getStyleByData:function(a){var b=a;if(b.style=h.CommonUtil.copyAttributes(b.style,this.defaultStyle),this.style&&this.style.fontSize&&parseFloat(this.style.fontSize)<12&&(this.style.fontSize="12px"),b.style=h.CommonUtil.copyAttributes(b.style,this.style),this.themeField&&this.styleGroups&&b.attributes){var c=this.themeField,d=b.attributes,e=this.styleGroups,f=!1,g=null;for(var i in d)if(c===i){f=!0,g=d[i];break}if(f)for(var j=0,k=e.length;k>j;j++)if(g>=e[j].start&&g<e[j].end){var l=e[j].style;l&&l.fontSize&&parseFloat(l.fontSize)<12&&(l.fontSize="12px"),b.style=h.CommonUtil.copyAttributes(b.style,l)}b.style.label=b.attributes[this.themeField]}return b.style},setLabelsStyle:function(a){for(var b,c=[],d=0,e=a.length;e>d;d++){var f=a[d];if("SuperMap.Geometry.GeoText"!==f.geometry.CLASS_NAME)return a;(f.geometry.bsInfo.w||f.geometry.bsInfo.h)&&(f.geometry.bsInfo.w=null,f.geometry.bsInfo.h=null,f.geometry.labelWTmp=null),(b=this.setStyle(f)).layer=this.layer,c.push(b)}return c},setStyle:function(a){var b=a;if(b.style=h.CommonUtil.copyAttributes(b.style,this.defaultStyle),this.style&&this.style.fontSize&&parseFloat(this.style.fontSize)<12&&(this.style.fontSize="12px"),b.style=h.CommonUtil.copyAttributes(b.style,this.style),this.groupField&&this.styleGroups&&b.attributes){var c=this.groupField,d=b.attributes,e=this.styleGroups,f=!1,g=null;for(var i in d)if(c===i){f=!0,g=d[i];break}if(f)for(var j=0,k=e.length;k>j;j++)if(g>=e[j].start&&g<e[j].end){var l=e[j].style;l&&l.fontSize&&parseFloat(l.fontSize)<12&&(l.fontSize="12px"),b.style=h.CommonUtil.copyAttributes(b.style,l)}}return b.style.label=b.geometry.text,b},getLabelPxLocation:function(a){var b=a.geometry,c=a.style,d=b.getCentroid(),e=this._map.latLngToContainerPoint(this.options.alwaysMapCRS?this._map.options.crs.unproject(f["default"].point(d.x,d.y)):f["default"].latLng(d.y,d.x)),g=f["default"].point(e.x,e.y);if(c.labelXOffset||c.labelYOffset){var h=isNaN(c.labelXOffset)?0:c.labelXOffset,i=isNaN(c.labelYOffset)?0:c.labelYOffset,j=g.add(f["default"].point(h,-i));return f["default"].point(j.x,j.y)}return f["default"].point(g.x,g.y)},calculateLabelBounds:function(a,b){var c=a.geometry,d=null,e=null;if(0==this.getPxBoundsMode)d=c.getLabelPxBoundsByText(b,a.style);else{if(1!==this.getPxBoundsMode)return null;e=this.getLabelInfo(a.geometry.getCentroid(),a.style),d=c.getLabelPxBoundsByLabel(b,e.w,e.h,a.style)}var f=[];return f=a.style.labelRotation%180==0?[{x:d.left,y:d.top},{x:d.right,y:d.top},{x:d.right,y:d.bottom},{x:d.left,y:d.bottom},{x:d.left,y:d.top}]:this.rotationBounds(d,b,a.style.labelRotation),c.bounds=new h.Bounds(f[1].x,f[3].y,f[2].x,f[4].y),f},calculateLabelBounds2:function(a,b){var c,d,e,f,g,i=a.geometry.bsInfo,j=a.style,k=h.CommonUtil.cloneObject(b);if(j.labelAlign&&"cm"!==j.labelAlign)switch(j.labelAlign){case"lt":k.x+=i.w/2,k.y+=i.h/2;break;case"lm":k.x+=i.w/2;break;case"lb":k.x+=i.w/2,k.y-=i.h/2;break;case"ct":k.y+=i.h/2;break;case"cb":k.y-=i.h/2;break;case"rt":k.x-=i.w/2,k.y+=i.h/2;break;case"rm":k.x-=i.w/2;break;case"rb":k.x-=i.w/2,k.y-=i.h/2}d=k.x-i.w/2,e=k.y+i.h/2,g=j.fontStyle&&"italic"===j.fontStyle?k.x+i.w/2+parseInt(parseFloat(j.fontSize)/2):k.x+i.w/2,f=k.y-i.h/2,c=new h.Bounds(d,e,g,f);var l=[];return l=j.labelRotation%180==0?[{x:c.left,y:c.top},{x:c.right,y:c.top},{x:c.right,y:c.bottom},{x:c.left,y:c.bottom},{x:c.left,y:c.top}]:this.rotationBounds(c,b,j.labelRotation),a.geometry.bounds=new h.Bounds(l[1].x,l[3].y,l[2].x,l[4].y),l},getLabelInfo:function(a,b){var c={l:"left",r:"right",t:"top",b:"bottom"},d={l:0,r:-1,t:0,b:-1};b=h.CommonUtil.extend({fontColor:"#000000",labelAlign:"cm"},b);var e=this.getLocalXY(a),f=0;if(b.labelXOffset||b.labelYOffset){var g=isNaN(b.labelXOffset)?0:b.labelXOffset,i=isNaN(b.labelYOffset)?0:b.labelYOffset;e[0]+=g,e[1]-=i}var j=document.createElement("canvas");j.globalAlpha=0,j.lineWidth=1;var k=j.getContext("2d");k.fillStyle=b.fontColor,k.globalAlpha=b.fontOpacity||1;var l,m,n,o=[b.fontStyle?b.fontStyle:"normal","normal",b.fontWeight?b.fontWeight:"normal",b.fontSize?b.fontSize:"1em",b.fontFamily?b.fontFamily:"sans-serif"].join(" "),p=b.label.split("\n"),q=p.length;if(k.fillText){k.font=o,k.textAlign=c[b.labelAlign[0]]||"center",k.textBaseline=c[b.labelAlign[1]]||"middle",null==(l=d[b.labelAlign[1]])&&(l=-.5),m=k.measureText("Mg").height||k.measureText("xx").width,e[1]+=m*l*(q-1);for(var r=0;q>r;r++)f<(n=k.measureText(p[r]).width)&&(f=n)}else if(k.mozDrawText){k.mozTextStyle=o,null==(l=d[b.labelAlign[1]])&&(l=-.5),m=k.mozMeasureText("xx"),e[1]+=m*(1+l*q);for(var s=0;q>s;s++)f<(n=k.measureText(p[s]).width)&&(f=n)}var t={};return f?(t.w=f,t.h=b.fontSize,t.rows=p.length,t):null},rotationBounds:function(a,b,c){var d=f["default"].point(a.left,a.top),e=f["default"].point(a.right,a.top),g=f["default"].point(a.right,a.bottom),h=f["default"].point(a.left,a.bottom),i=[];i.push(this.getRotatedLocation(d.x,d.y,b.x,b.y,c)),i.push(this.getRotatedLocation(e.x,e.y,b.x,b.y,c)),i.push(this.getRotatedLocation(g.x,g.y,b.x,b.y,c)),i.push(this.getRotatedLocation(h.x,h.y,b.x,b.y,c));for(var j=[],k=0;k<i.length;k++)j.push({x:i[k].x,y:i[k].y});return j.push({x:i[0].x,y:i[0].y}),j},getRotatedLocation:function(a,b,c,d,e){var f,g,h={};return b=-b,d=-d,e=-e,f=(a-c)*Math.cos(e/180*Math.PI)-(b-d)*Math.sin(e/180*Math.PI)+c,g=(a-c)*Math.sin(e/180*Math.PI)+(b-d)*Math.cos(e/180*Math.PI)+d,h.x=f,h.y=-g,h},getAvoidInfo:function(a,b){function c(b){if(!a.contains(b.x,b.y)){if(b.y<a.top){var c=Math.abs(a.top-b.y);c>j&&(j=c,k="top")}if(b.y>a.bottom){var d=Math.abs(b.y-a.bottom);d>j&&(j=d,k="bottom")}if(b.x<a.left){var e=Math.abs(a.left-b.x);e>i&&(i=e,l="left")}if(b.x>a.right){var f=Math.abs(b.x-a.right);f>i&&(i=f,l="right")}}}if(5!==b.length)return null;for(var d=[{x:a.left,y:a.top},{x:a.right,y:a.top},{x:a.right,y:a.bottom},{x:a.left,y:a.bottom},{x:a.left,y:a.top}],e=!1,f=d.length,g=b.length,i=0,j=0,k="",l="",m=0;f-1>m;m++)for(var n=0;g-1>n;n++)"SuperMap.Geometry.Point"===h.CommonUtil.lineIntersection(d[m],d[m+1],b[n],b[n+1]).CLASS_NAME&&(c(b[n]),c(b[n+1]),e=!0);return e?{aspectW:l,aspectH:k,offsetX:i,offsetY:j}:null},isQuadrilateralOverLap:function(a,b){var c=a.length,d=b.length;if(5!==c||5!==d)return null;for(var e=!1,f=0;c>f;f++)if(this.isPointInPoly(a[f],b)){e=!0;break}for(var g=0;d>g;g++)if(this.isPointInPoly(b[g],a)){e=!0;break}for(var i=0;c-1>i&&!e;i++)for(var j=0;d-1>j;j++)if("SuperMap.Geometry.Point"===h.CommonUtil.lineIntersection(a[i],a[i+1],b[j],b[j+1]).CLASS_NAME){e=!0;break}return e},isPointInPoly:function(a,b){for(var c=!1,d=-1,e=b.length,f=e-1;++d<e;f=d)(b[d].y<=a.y&&a.y<b[f].y||b[f].y<=a.y&&a.y<b[d].y)&&a.x<(b[f].x-b[d].x)*(a.y-b[d].y)/(b[f].y-b[d].y)+b[d].x&&(c=!c);return c}}),j=b.labelThemeLayer=function(a,b){return new i(a,b)};f["default"].supermap.labelThemeLayer=j},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.rangeThemeLayer=b.RangeThemeLayer=void 0;var d,e=c(2),f=(d=e)&&d.__esModule?d:{"default":d};c(3);var g=c(67),h=c(5),i=b.RangeThemeLayer=g.GeoFeatureThemeLayer.extend({initialize:function(a,b){g.GeoFeatureThemeLayer.prototype.initialize.call(this,a,b),this.style=[],this.themeField=null,this.styleGroups=[]},getStyleByData:function(a){var b=this,c=a,d=h.CommonUtil.copyAttributesWithClip({},b.style),e=b.styleGroups,f=!1,g=null,i=b.styleGroups&&b.styleGroups.length>0;if(b.themeField&&i&&c.attributes){var j=b.themeField,k=c.attributes;for(var l in k)if(j===l){f=!0,g=k[l];break}}if(f)for(var m=0,n=e.length;n>m;m++)if(m===n-1?g>=e[m].start&&g<=e[m].end:g>=e[m].start&&g<e[m].end){var o=e[m].style;d=h.CommonUtil.copyAttributesWithClip(d,o)}return d}}),j=b.rangeThemeLayer=function(a,b){return new i(a,b)};f["default"].supermap.rangeThemeLayer=j},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.uniqueThemeLayer=b.UniqueThemeLayer=void 0;var d,e=c(2),f=(d=e)&&d.__esModule?d:{"default":d};c(3);var g=c(67),h=c(5),i=b.UniqueThemeLayer=g.GeoFeatureThemeLayer.extend({initialize:function(a,b){g.GeoFeatureThemeLayer.prototype.initialize.call(this,a,b),this.style=[],this.themeField=null,this.styleGroups=[]},getStyleByData:function(a){var b=this,c=a,d=h.CommonUtil.copyAttributesWithClip({},b.style),e=b.styleGroups,f=!1,g=null,i=b.styleGroups&&b.styleGroups.length>0;if(b.themeField&&i&&c.attributes){var j=b.themeField,k=c.attributes;for(var l in k)if(j===l){f=!0,g=k[l];break}}if(f)for(var m=0,n=e.length;n>m;m++)if(g.toString()===e[m].value.toString()){var o=e[m].style;d=h.CommonUtil.copyAttributesWithClip(d,o)}return d}}),j=b.uniqueThemeLayer=function(a,b){return new i(a,b)};f["default"].supermap.uniqueThemeLayer=j},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.graphic=b.Graphic=void 0;var d,e=c(2),f=(d=e)&&d.__esModule?d:{"default":d};c(3);var g=b.Graphic=f["default"].Class.extend({initialize:function(a){var b=(a=a||{}).latLng||a._latLng;this._latLng=f["default"].latLng(b.lat,b.lng),this._style=a.style||a._canvas,this.attributes=a.attributes,this.id=a.id?a.id:null;
},getId:function(){return this.id},setId:function(a){this.id=a},setLatLng:function(a){this._latLng=a},setCanvas:function(a){this._style=a},setAttributes:function(a){this.attributes=a},getLatLng:function(){return this._latLng},getCanvas:function(){return this._style},getAttributes:function(){return this.attributes},setStyle:function(a){this._style=a},getStyle:function(){return this._style}}),h=b.graphic=function(a){return new g(a)};f["default"].supermap.graphic=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.CompOpMap=b.ServerStyleMap=b.CartoStyleMap=void 0;var d,e=c(2),f=(d=e)&&d.__esModule?d:{"default":d};c(3);var g=b.CartoStyleMap={TEXT:{"text-size":"fontSize","text-face-name":"fontFamily","text-align":"textAlign","text-name":"textName","text-weight":"fontWeight","text-halo-color":"color","text-fill":"fillColor","text-comp-op":"globalCompositeOperation"},POINT:{"point-file":"iconUrl","point-fill":"fillColor","point-radius":"radius","point-halo-color":"color","point-comp-op":"globalCompositeOperation"},LINE:{"line-color":"color","line-width":"weight","line-cap":"lineCap","line-join":"lineJoin","line-dash-offset":"dashOffset","line-opacity":"opacity","line-dasharray":"dashArray","line-comp-op":"globalCompositeOperation"},REGION:{"line-color":"color","line-width":"weight","line-cap":"lineCap","line-join":"lineJoin","line-dash-offset":"dashOffset","line-opacity":"opacity","line-dasharray":"dashArray","polygon-fill":"fillColor","polygon-opacity":"fillOpacity","polygon-comp-op":"globalCompositeOperation"}},h=b.ServerStyleMap={lineWidth:{leafletStyle:"weight",type:"number",unit:"mm",defaultValue:.1},fillForeColor:{leafletStyle:"fillColor",type:"color",defaultValue:"rgba(0,0,0,0)"},foreColor:{leafletStyle:"color",type:"color",defaultValue:"rgba(0,0,0,0)"},markerSize:{leafletStyle:"markerSize",type:"number",unit:"mm",defaultValue:2.4},lineColor:{leafletStyle:"color",type:"color",defaultValue:"#000000"}},i=b.CompOpMap={clear:"",src:"",dst:"","src-over":"source-over","dst-over":"destination-over","src-in":"source-in","dst-in":"destination-in","src-out":"source-out","dst-out":"destination-out","src-atop":"source-atop","dst-atop":"destination-atop",xor:"xor",plus:"lighter",minus:"",multiply:"",screen:"",overlay:"",darken:"",lighten:"lighter","color-dodge":"","color-burn":"","hard-light":"","soft-light":"",difference:"",exclusion:"",contrast:"",invert:"","invert-rgb":"","grain-merge":"","grain-extract":"",hue:"",saturation:"",color:"",value:""};f["default"].supermap.CartoStyleMap=g,f["default"].supermap.ServerStyleMap=h,f["default"].supermap.CompOpMap=i},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.DefaultStyle=void 0;var d,e=c(2),f=(d=e)&&d.__esModule?d:{"default":d};c(3);var g=b.DefaultStyle={TEXT:{fontSize:"14px",fontFamily:"Arial Unicode MS Regular,Microsoft YaHei",textAlign:"left",color:"rgba(255,255,255,0)",fillColor:"rgba(80,80,80,1)",weight:1,globalAlpha:1},POINT:{fillColor:"#ffcc00",color:"#cc3333",weight:1,radius:3,opacity:1},LINE:{color:"rgba(0,0,0,0)",weight:1,lineCap:"butt",lineJoin:"round",dashOffset:0,dashArray:[],opacity:1},REGION:{color:"rgba(0,0,0,0)",fillColor:"rgba(0,0,0,0)",weight:1,lineCap:"butt",lineJoin:"round",dashOffset:0,opacity:1,fillOpacity:1,dashArray:[]}};f["default"].supermap.DefaultStyle=g},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0}),b.tiledMapLayer=b.TiledMapLayer=void 0;var e=d(c(2));c(3);var f=c(5),g=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}(c(31)),h=d(c(11)),i=b.TiledMapLayer=e["default"].TileLayer.extend({options:{layersID:null,redirect:!1,transparent:!0,cacheEnabled:!0,clipRegionEnabled:!1,clipRegion:null,prjCoordSys:null,overlapDisplayed:!1,overlapDisplayedOptions:null,tileversion:null,crs:null,serverType:f.ServerType.ISERVER,format:"png",tileProxy:null,attribution:h["default"].Common.attribution},initialize:function(a,b){this._url=a,e["default"].TileLayer.prototype.initialize.apply(this,arguments),e["default"].setOptions(this,b),e["default"].stamp(this),this.tileSetsIndex=-1,this.tempIndex=-1},onAdd:function(a){this._crs=this.options.crs||a.options.crs,e["default"].TileLayer.prototype.onAdd.call(this,a)},getTileUrl:function(a){var b=this.getScaleFromCoords(a),c=this._getLayerUrl()+"&scale="+b+"&x="+a.x+"&y="+a.y;return this.options.tileProxy&&(c=this.options.tileProxy+encodeURIComponent(c)),c},getScale:function(a){var b=a||this._map.getZoom();return this.scales[b]},getScaleFromCoords:function(a){var b,c=this;return c.scales&&c.scales[a.z]?c.scales[a.z]:(c.scales=c.scales||{},b=c.getDefaultScale(a),c.scales[a.z]=b,b)},getDefaultScale:function(a){var b=this._crs;if(b.scales)return b.scales[a.z];var c=this._tileCoordsToBounds(a),d=b.project(c.getNorthEast()),e=b.project(c.getSouthWest()),h=this.options.tileSize,i=Math.max(Math.abs(d.x-e.x)/h,Math.abs(d.y-e.y)/h),j=f.Unit.METER;if(b.code){var k=b.code.split(":");if(k&&k.length>1){var l=parseInt(k[1]);j=l&&l>=4e3&&5e3>=l?f.Unit.DEGREE:f.Unit.METER}}return g.resolutionToScale(i,96,j)},setTileSetsInfo:function(a){this.tileSets=a,e["default"].Util.isArray(this.tileSets)&&(this.tileSets=this.tileSets[0]),this.tileSets&&(this.fire("tilesetsinfoloaded",{tileVersions:this.tileSets.tileVersions}),this.changeTilesVersion())},lastTilesVersion:function(){this.tempIndex=this.tileSetsIndex-1,this.changeTilesVersion()},nextTilesVersion:function(){this.tempIndex=this.tileSetsIndex+1,this.changeTilesVersion()},changeTilesVersion:function(){var a=this;if(null!=a.tileSets&&!(a.tempIndex===a.tileSetsIndex||this.tempIndex<0)){var b=a.tileSets.tileVersions;if(b&&a.tempIndex<b.length&&a.tempIndex>=0){var c=b[a.tempIndex].name;a.mergeTileVersionParam(c)&&(a.tileSetsIndex=a.tempIndex,a.fire("tileversionschanged",{tileVersion:b[a.tempIndex]}))}}},updateCurrentTileSetsIndex:function(a){this.tempIndex=a},mergeTileVersionParam:function(a){return!!a&&(this.requestParams.tileversion=a,this._paramsChanged=!0,this.redraw(),this._paramsChanged=!1,!0)},_getLayerUrl:function(){return this._paramsChanged&&(this._layerUrl=this._createLayerUrl()),this._layerUrl||this._createLayerUrl()},_createLayerUrl:function(){var a=this._url+"/tileImage."+this.options.format+"?";return a+=encodeURI(this._getRequestParamString()),a=this._appendCredential(a),this._layerUrl=a,a},_getRequestParamString:function(){this.requestParams=this.requestParams||this._getAllRequestParams();var a=[];for(var b in this.requestParams)a.push(b+"="+this.requestParams[b]);return a.join("&")},_getAllRequestParams:function(){var a=this.options||{},b={},c=this.options.tileSize;c instanceof e["default"].Point||(c=e["default"].point(c,c)),b.width=c.x,b.height=c.y,b.redirect=!0===a.redirect,b.transparent=!0===a.transparent,b.cacheEnabled=!(!1===a.cacheEnabled),a.prjCoordSys&&(b.prjCoordSys=JSON.stringify(a.prjCoordSys)),a.layersID&&(b.layersID=a.layersID.toString()),a.clipRegionEnabled&&a.clipRegion instanceof e["default"].Path&&(a.clipRegion=g.toSuperMapGeometry(a.clipRegion.toGeoJSON()),a.clipRegion=f.CommonUtil.toJSON(f.ServerGeometry.fromGeometry(a.clipRegion)),b.clipRegionEnabled=a.clipRegionEnabled,b.clipRegion=JSON.stringify(a.clipRegion));var d=this._crs;if(d.options&&d.options.origin)b.origin=JSON.stringify({x:d.options.origin[0],y:d.options.origin[1]});else if(d.projection&&d.projection.bounds){var h=d.projection.bounds,i=e["default"].point(h.min.x,h.max.y);b.origin=JSON.stringify({x:i.x,y:i.y})}return!1===a.overlapDisplayed?(b.overlapDisplayed=!1,a.overlapDisplayedOptions&&(b.overlapDisplayedOptions=this.overlapDisplayedOptions.toString())):b.overlapDisplayed=!0,!0===a.cacheEnabled&&a.tileversion&&(b.tileversion=a.tileversion.toString()),b},_appendCredential:function(a){var b,c,d=a;switch(this.options.serverType){case f.ServerType.IPORTAL:(b=(c=f.SecurityManager.getToken(this._url))?new f.Credential(c,"token"):null)||(b=(c=f.SecurityManager.getKey(this._url))?new f.Credential(c,"key"):null);break;case f.ServerType.ONLINE:b=(c=f.SecurityManager.getKey(this._url))?new f.Credential(c,"key"):null;break;default:b=(c=f.SecurityManager.getToken(this._url))?new f.Credential(c,"token"):null}return b&&(d+="&"+b.getUrlParameters()),d}}),j=b.tiledMapLayer=function(a,b){return new i(a,b)};e["default"].supermap.tiledMapLayer=j},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0}),b.tiandituTileLayer=b.TiandituTileLayer=void 0;var e=d(c(2));c(3);var f=c(102),g=d(c(11)),h=b.TiandituTileLayer=f.WMTSLayer.extend({layerLabelMap:{vec:"cva",ter:"cta",img:"cia"},layerZoomMap:{vec:18,ter:14,img:18},options:{layerType:"vec",isLabel:!1,attribution:g["default"].Tianditu.attribution,url:"http://t{s}.tianditu.com/{layer}_{proj}/wmts?",zoomOffset:1,dpi:96,style:"default",format:"tiles",subdomains:[0,1,2,3,4,5,6,7]},initialize:function(a){a=a||{},e["default"].setOptions(this,a),this.options.layer=this.options.isLabel?this.layerLabelMap[this.options.layerType]:this.options.layerType,this.options.maxZoom=this.layerZoomMap[this.options.layerType]-1,f.WMTSLayer.prototype.initialize.call(this,this.options.url,this.options),e["default"].stamp(this)},onAdd:function(a){this.options.tilematrixSet="EPSG:4326"===a.options.crs.code?"c":"w",this._url=this._url.replace("{layer}",this.options.layer).replace("{proj}",this.options.tilematrixSet),f.WMTSLayer.prototype.onAdd.call(this,a)}}),i=b.tiandituTileLayer=function(a){return new h(a)};e["default"].supermap.tiandituTileLayer=i},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0}),b.cloudTileLayer=b.CloudTileLayer=void 0;var e=d(c(2));c(3);var f=d(c(11)),g=b.CloudTileLayer=e["default"].TileLayer.extend({defaultURL:"http://t2.supermapcloud.com/FileService/image",options:{mapName:"quanguo",type:"web",minZoom:3,maxZoom:18,attribution:f["default"].Cloud.attribution},initialize:function(a,b){e["default"].setOptions(this,b);var c=a||this.defaultURL;this._url=c+"?map="+this.options.mapName+"&type="+this.options.type,e["default"].stamp(this)},getTileUrl:function(a){var b=this._url+"&x="+a.x+"&y="+a.y+"&z="+a.z;return this.options.tileProxy&&(b=this.options.tileProxy+encodeURIComponent(b)),b}}),h=b.cloudTileLayer=function(a,b){return new g(a,b)};e["default"].supermap.cloudTileLayer=h},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0}),b.baiduTileLayer=b.BaiduTileLayer=void 0,c(3);var e=d(c(2)),f=d(c(11)),g=b.BaiduTileLayer=e["default"].TileLayer.extend({url:"http://online{num}.map.bdimg.com/onlinelabel/?qt=tile&x={x}&y={y}&z={z}&styles={styles}&udt=20150815&scaler=1",options:{minZoom:3,maxZoom:19,bounds:e["default"].latLngBounds(e["default"].latLng(-85.0511287798,-180),e["default"].latLng(85.0511287798,180)),retina:e["default"].Browser.retina,attribution:f["default"].Baidu.attribution},initialize:function(a,b){a&&(this.url=a),e["default"].setOptions(this,b),this.options.retina&&(this.options.maxZoom=18),e["default"].stamp(this)},getTileUrl:function(a){var b=e["default"].Util.template(this.url,{num:Math.abs((a.x+a.y)%8)+1,x:a.x,y:-a.y-1,z:this._getZoomForUrl(),styles:this.options.retina?"ph":"pl"});return this.options.tileProxy&&(b=this.options.tileProxy+encodeURIComponent(b)),b}}),h=b.baiduTileLayer=function(a,b){return new g(a,b)};e["default"].supermap.baiduTileLayer=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.mapService=b.MapService=void 0;var d,e=c(2),f=(d=e)&&d.__esModule?d:{"default":d};c(3);var g=c(8),h=c(5),i=b.MapService=g.ServiceBase.extend({options:{projection:null},initialize:function(a,b){b=b||{},f["default"].setOptions(this,b),b.projection&&(this.options.projection=b.projection),g.ServiceBase.prototype.initialize.call(this,a,b)},getMapInfo:function(a){var b=this;new h.MapService(b.url,{proxy:b.options.proxy,withCredentials:b.options.withCredentials,serverType:b.options.serverType,eventListeners:{scope:b,processCompleted:a,processFailed:a},projection:b.options.projection}).processAsync()},getTilesets:function(a){var b=this;new h.TilesetsService(b.url,{proxy:b.options.proxy,withCredentials:b.options.withCredentials,serverType:b.options.serverType,eventListeners:{scope:b,processCompleted:a,processFailed:a}}).processAsync()}}),j=b.mapService=function(a,b){return new i(a,b)};f["default"].supermap.mapService=j},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.TianDiTu_MercatorCRS=b.TianDiTu_WGS84CRS=b.BaiduCRS=void 0;for(var d,e,f=c(2),g=(d=f)&&d.__esModule?d:{"default":d},h=b.BaiduCRS=g["default"].CRS.Baidu=g["default"].extend({},g["default"].CRS.EPSG3857,{code:"Baidu",scale:function(a){return 6378137*Math.PI*2/Math.pow(2,18-a)},transformation:(e=.5/(6378137*Math.PI),new g["default"].Transformation(e,0,-e,0))}),i=[],j=1;19>j;j++)i.push(1.40625/Math.pow(2,j));for(var k=b.TianDiTu_WGS84CRS=g["default"].CRS.TianDiTu_WGS84=g["default"].Proj1.CRS("EPSG:4326",{origin:[-180,90],resolutions:i,bounds:g["default"].bounds([-180,-90],[180,90])}),l=[],m=1;19>m;m++)l.push(156543.03392804062/Math.pow(2,m));var n=b.TianDiTu_MercatorCRS=g["default"].CRS.TianDiTu_Mercator=g["default"].Proj1.CRS("EPSG:3857",{origin:[-20037508.3427892,20037508.3427892],resolutions:l,bounds:g["default"].bounds([-20037508.3427892,-20037508.3427892],[20037508.3427892,20037508.3427892])});g["default"].CRS.BaiduCRS=h,g["default"].CRS.TianDiTu_WGS84CRS=k,g["default"].CRS.TianDiTu_MercatorCRS=n},function(a,b,c){"use strict";a.exports=function(a,b,c,d){return c*=b,b*=b,d[0]*a-c*(d[1]+b*(d[2]+b*(d[3]+b*d[4])))}},function(a,b,c){"use strict";var d=c(57),e=c(56),f=c(55),g=c(54),h=c(53),i=c(7),j=Math.PI/2,k=c(58),l=c(43);b.init=function(){this.e0=d(this.es),this.e1=e(this.es),this.e2=f(this.es),this.e3=g(this.es),this.ml0=this.a*h(this.e0,this.e1,this.e2,this.e3,this.lat0)},b.forward=function(a){var b,c,d,e=a.x,f=a.y,g=i(e-this.long0),j=Math.sin(f),k=Math.cos(f);if(this.sphere){var l=k*Math.sin(g);if(Math.abs(Math.abs(l)-1)<1e-10)return 93;c=.5*this.a*this.k0*Math.log((1+l)/(1-l)),b=Math.acos(k*Math.cos(g)/Math.sqrt(1-l*l)),0>f&&(b=-b),d=this.a*this.k0*(b-this.lat0)}else{var m=k*g,n=Math.pow(m,2),o=this.ep2*Math.pow(k,2),p=Math.tan(f),q=Math.pow(p,2);b=1-this.es*Math.pow(j,2);var r=this.a/Math.sqrt(b),s=this.a*h(this.e0,this.e1,this.e2,this.e3,f);c=this.k0*r*m*(1+n/6*(1-q+o+n/20*(5-18*q+Math.pow(q,2)+72*o-58*this.ep2)))+this.x0,d=this.k0*(s-this.ml0+r*p*(n*(.5+n/24*(5-q+9*o+4*Math.pow(o,2)+n/30*(61-58*q+Math.pow(q,2)+600*o-330*this.ep2)))))+this.y0}return a.x=c,a.y=d,a},b.inverse=function(a){var b,c,d,e,f,g;if(this.sphere){var h=Math.exp(a.x/(this.a*this.k0)),m=.5*(h-1/h),n=this.lat0+a.y/(this.a*this.k0),o=Math.cos(n);b=Math.sqrt((1-o*o)/(1+m*m)),f=l(b),0>n&&(f=-f),g=0===m&&0===o?this.long0:i(Math.atan2(m,o)+this.long0)}else{var p=a.x-this.x0,q=a.y-this.y0;for(c=b=(this.ml0+q/this.k0)/this.a,e=0;c+=d=(b+this.e1*Math.sin(2*c)-this.e2*Math.sin(4*c)+this.e3*Math.sin(6*c))/this.e0-c,!(Math.abs(d)<=1e-10);e++)if(e>=6)return 95;if(Math.abs(c)<j){var r=Math.sin(c),s=Math.cos(c),t=Math.tan(c),u=this.ep2*Math.pow(s,2),v=Math.pow(u,2),w=Math.pow(t,2),x=Math.pow(w,2);b=1-this.es*Math.pow(r,2);var y=this.a/Math.sqrt(b),z=y*(1-this.es)/b,A=p/(y*this.k0),B=Math.pow(A,2);f=c-y*t*B/z*(.5-B/24*(5+3*w+10*u-4*v-9*this.ep2-B/30*(61+90*w+298*u+45*x-252*this.ep2-3*v))),g=i(this.long0+A*(1-B/6*(1+2*w+u-B/20*(5-2*u+28*w-3*v+8*this.ep2+24*x)))/s)}else f=j*k(q),g=this.long0}return a.x=g,a.y=f,a},b.names=["Transverse_Mercator","Transverse Mercator","tmerc"]},function(a,b,c){"use strict";function d(a){return a*(Math.PI/180)}function e(a){return a/Math.PI*180}function f(a){var b=a.northing,c=a.easting,d=a.zoneLetter,g=a.zoneNumber;if(0>g||g>60)return null;var h,i,j,k,l,m,n,o,p=6378137,q=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562)),r=c-5e5,s=b;"N">d&&(s-=1e7),m=6*(g-1)-180+3,o=(n=s/.9996/6367449.145945056)+(3*q/2-27*q*q*q/32)*Math.sin(2*n)+(21*q*q/16-55*q*q*q*q/32)*Math.sin(4*n)+151*q*q*q/96*Math.sin(6*n),h=p/Math.sqrt(1-.00669438*Math.sin(o)*Math.sin(o)),i=Math.tan(o)*Math.tan(o),j=.006739496752268451*Math.cos(o)*Math.cos(o),k=.99330562*p/Math.pow(1-.00669438*Math.sin(o)*Math.sin(o),1.5),l=r/(.9996*h);var t=o-h*Math.tan(o)/k*(l*l/2-(5+3*i+10*j-4*j*j-.06065547077041606)*l*l*l*l/24+(61+90*i+298*j+45*i*i-1.6983531815716497-3*j*j)*l*l*l*l*l*l/720);t=e(t);var u,v=(l-(1+2*i+j)*l*l*l/6+(5-2*j+28*i-3*j*j+.05391597401814761+24*i*i)*l*l*l*l*l/120)/Math.cos(o);if(v=m+e(v),a.accuracy){var w=f({northing:a.northing+a.accuracy,easting:a.easting+a.accuracy,zoneLetter:a.zoneLetter,zoneNumber:a.zoneNumber});u={top:w.lat,right:w.lon,bottom:t,left:v}}else u={lat:t,lon:v};return u}function g(a){var b=a%j;return 0===b&&(b=j),b}function h(a){if(a&&0===a.length)throw"MGRSPoint coverting from nothing";for(var b,c=a.length,d=null,e="",f=0;!/[A-Z]/.test(b=a.charAt(f));){if(f>=2)throw"MGRSPoint bad conversion from: "+a;e+=b,f++}var h=parseInt(e,10);if(0===f||f+3>c)throw"MGRSPoint bad conversion from: "+a;var j=a.charAt(f++);if("A">=j||"B"===j||"Y"===j||j>="Z"||"I"===j||"O"===j)throw"MGRSPoint zone letter "+j+" not handled: "+a;d=a.substring(f,f+=2);for(var r=g(h),s=function(a,b){for(var c=k.charCodeAt(b-1),d=1e5,e=!1;c!==a.charCodeAt(0);){if(++c===n&&c++,c===o&&c++,c>q){if(e)throw"Bad character: "+a;c=m,e=!0}d+=1e5}return d}(d.charAt(0),r),t=function(a,b){if(a>"V")throw"MGRSPoint given invalid Northing "+a;for(var c=l.charCodeAt(b-1),d=0,e=!1;c!==a.charCodeAt(0);){if(++c===n&&c++,c===o&&c++,c>p){if(e)throw"Bad character: "+a;c=m,e=!0}d+=1e5}return d}(d.charAt(1),r);t<i(j);)t+=2e6;var u=c-f;if(u%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+a;var v,w,x,y=u/2,z=0,A=0;return y>0&&(v=1e5/Math.pow(10,y),w=a.substring(f,f+y),z=parseFloat(w)*v,x=a.substring(f+y),A=parseFloat(x)*v),{easting:z+s,northing:A+t,zoneLetter:j,zoneNumber:h,accuracy:v}}function i(a){var b;switch(a){case"C":b=11e5;break;case"D":b=2e6;break;case"E":b=28e5;break;case"F":b=37e5;break;case"G":b=46e5;break;case"H":b=55e5;break;case"J":b=64e5;break;case"K":b=73e5;break;case"L":b=82e5;break;case"M":b=91e5;break;case"N":b=0;break;case"P":b=8e5;break;case"Q":b=17e5;break;case"R":b=26e5;break;case"S":b=35e5;break;case"T":b=44e5;break;case"U":b=53e5;break;case"V":b=62e5;break;case"W":b=7e6;break;case"X":b=79e5;break;default:b=-1}if(b>=0)return b;throw"Invalid zone letter: "+a}var j=6,k="AJSAJS",l="AFAFAF",m=65,n=73,o=79,p=86,q=90;b.forward=function(a,b){return b=b||5,function(a,b){var c="00000"+a.easting,d="00000"+a.northing;return a.zoneNumber+a.zoneLetter+(v=a.easting,w=a.northing,x=a.zoneNumber,y=g(x),z=Math.floor(v/1e5),A=Math.floor(w/1e5)%20,e=z,f=A,h=y,i=h-1,j=k.charCodeAt(i),r=l.charCodeAt(i),s=j+e-1,t=r+f,u=!1,s>q&&(s=s-q+m-1,u=!0),(s===n||n>j&&s>n||(s>n||n>j)&&u)&&s++,(s===o||o>j&&s>o||(s>o||o>j)&&u)&&++s===n&&s++,s>q&&(s=s-q+m-1),t>p?(t=t-p+m-1,u=!0):u=!1,(t===n||n>r&&t>n||(t>n||n>r)&&u)&&t++,(t===o||o>r&&t>o||(t>o||o>r)&&u)&&++t===n&&t++,t>p&&(t=t-p+m-1),String.fromCharCode(s)+String.fromCharCode(t))+c.substr(c.length-5,b)+d.substr(d.length-5,b);var e,f,h,i,j,r,s,t,u,v,w,x,y,z,A}(function(a){var b,c,e,f,g,h,i,j=a.lat,k=a.lon,l=6378137,m=d(j),n=d(k);i=Math.floor((k+180)/6)+1,180===k&&(i=60),j>=56&&64>j&&k>=3&&12>k&&(i=32),j>=72&&84>j&&(k>=0&&9>k?i=31:k>=9&&21>k?i=33:k>=21&&33>k?i=35:k>=33&&42>k&&(i=37)),h=d(6*(i-1)-180+3),b=l/Math.sqrt(1-.00669438*Math.sin(m)*Math.sin(m)),c=Math.tan(m)*Math.tan(m),e=.006739496752268451*Math.cos(m)*Math.cos(m),f=Math.cos(m)*(n-h),g=l*(.9983242984503243*m-.002514607064228144*Math.sin(2*m)+2639046602129982e-21*Math.sin(4*m)-3.418046101696858e-9*Math.sin(6*m));var o=.9996*b*(f+(1-c+e)*f*f*f/6+(5-18*c+c*c+72*e-.39089081163157013)*f*f*f*f*f/120)+5e5,p=.9996*(g+b*Math.tan(m)*(f*f/2+(5-c+9*e+4*e*e)*f*f*f*f/24+(61-58*c+c*c+600*e-2.2240339282485886)*f*f*f*f*f*f/720));return 0>j&&(p+=1e7),{northing:Math.round(p),easting:Math.round(o),zoneNumber:i,zoneLetter:function(a){var b="Z";return 84>=a&&a>=72?b="X":72>a&&a>=64?b="W":64>a&&a>=56?b="V":56>a&&a>=48?b="U":48>a&&a>=40?b="T":40>a&&a>=32?b="S":32>a&&a>=24?b="R":24>a&&a>=16?b="Q":16>a&&a>=8?b="P":8>a&&a>=0?b="N":0>a&&a>=-8?b="M":-8>a&&a>=-16?b="L":-16>a&&a>=-24?b="K":-24>a&&a>=-32?b="J":-32>a&&a>=-40?b="H":-40>a&&a>=-48?b="G":-48>a&&a>=-56?b="F":-56>a&&a>=-64?b="E":-64>a&&a>=-72?b="D":-72>a&&a>=-80&&(b="C"),b}(j)}}({lat:a[1],lon:a[0]}),b)},b.inverse=function(a){var b=f(h(a.toUpperCase()));return b.lat&&b.lon?[b.lon,b.lat,b.lon,b.lat]:[b.left,b.bottom,b.right,b.top]},b.toPoint=function(a){var b=f(h(a.toUpperCase()));return b.lat&&b.lon?[b.lon,b.lat]:[(b.left+b.right)/2,(b.top+b.bottom)/2]}},function(a,b,c){"use strict";a.exports=function(a){var b={x:a[0],y:a[1]};return a.length>2&&(b.z=a[2]),a.length>3&&(b.m=a[3]),b}},function(a,b,c){"use strict";var d=.017453292519943295,e=57.29577951308232,f=1,g=2,h=c(416),i=c(415),j=c(107),k=c(177);a.exports=function l(a,b,c){function m(a,b){return(a.datum.datum_type===f||a.datum.datum_type===g)&&"WGS84"!==b.datumCode}var n;return Array.isArray(c)&&(c=k(c)),a.datum&&b.datum&&(m(a,b)||m(b,a))&&(l(a,n=new j("WGS84"),c),a=n),"enu"!==a.axis&&i(a,!1,c),"longlat"===a.projName?(c.x*=d,c.y*=d):(a.to_meter&&(c.x*=a.to_meter,c.y*=a.to_meter),a.inverse(c)),a.from_greenwich&&(c.x+=a.from_greenwich),c=h(a.datum,b.datum,c),b.from_greenwich&&(c.x-=b.from_greenwich),"longlat"===b.projName?(c.x*=e,c.y*=e):(b.forward(c),b.to_meter&&(c.x/=b.to_meter,c.y/=b.to_meter)),"enu"!==b.axis&&i(b,!0,c),c}},function(a,b,c){"use strict";function d(a,b,c){a[b]=c.map(function(a){var b={};return e(a,b),b}).reduce(function(a,b){return i(a,b)},{})}function e(a,b){var c;Array.isArray(a)?("PARAMETER"===(c=a.shift())&&(c=a.shift()),1===a.length?Array.isArray(a[0])?(b[c]={},e(a[0],b[c])):b[c]=a[0]:a.length?"TOWGS84"===c?b[c]=a:(b[c]={},["UNIT","PRIMEM","VERT_DATUM"].indexOf(c)>-1?(b[c]={name:a[0].toLowerCase(),convert:a[1]},3===a.length&&(b[c].auth=a[2])):"SPHEROID"===c?(b[c]={name:a[0],a:a[1],rf:a[2]},4===a.length&&(b[c].auth=a[3])):["GEOGCS","GEOCCS","DATUM","VERT_CS","COMPD_CS","LOCAL_CS","FITTED_CS","LOCAL_DATUM"].indexOf(c)>-1?(a[0]=["name",a[0]],d(b,c,a)):a.every(function(a){return Array.isArray(a)})?d(b,c,a):e(a,b[c])):b[c]=!0):b[a]=!0}function f(a){return a*h}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},h=.017453292519943295,i=c(106);a.exports=function(a,b){var c=JSON.parse((","+a).replace(/\s*\,\s*([A-Z_0-9]+?)(\[)/g,',["$1",').slice(1).replace(/\s*\,\s*([A-Z_0-9]+?)\]/g,',"$1"]').replace(/,\["VERTCS".+/,"")),d=c.shift(),h=c.shift();c.unshift(["name",h]),c.unshift(["type",d]),c.unshift("output");var j={};return e(c,j),function(a){function b(b){var c=a.to_meter||1;return parseFloat(b,10)*c}"GEOGCS"===a.type?a.projName="longlat":"LOCAL_CS"===a.type?(a.projName="identity",a.local=!0):"object"===g(a.PROJECTION)?a.projName=Object.keys(a.PROJECTION)[0]:a.projName=a.PROJECTION,a.UNIT&&(a.units=a.UNIT.name.toLowerCase(),"metre"===a.units&&(a.units="meter"),a.UNIT.convert&&("GEOGCS"===a.type?a.DATUM&&a.DATUM.SPHEROID&&(a.to_meter=parseFloat(a.UNIT.convert,10)*a.DATUM.SPHEROID.a):a.to_meter=parseFloat(a.UNIT.convert,10))),a.GEOGCS&&(a.GEOGCS.DATUM?a.datumCode=a.GEOGCS.DATUM.name.toLowerCase():a.datumCode=a.GEOGCS.name.toLowerCase(),"d_"===a.datumCode.slice(0,2)&&(a.datumCode=a.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==a.datumCode&&"new_zealand_1949"!==a.datumCode||(a.datumCode="nzgd49"),"wgs_1984"===a.datumCode&&("Mercator_Auxiliary_Sphere"===a.PROJECTION&&(a.sphere=!0),a.datumCode="wgs84"),"_ferro"===a.datumCode.slice(-6)&&(a.datumCode=a.datumCode.slice(0,-6)),"_jakarta"===a.datumCode.slice(-8)&&(a.datumCode=a.datumCode.slice(0,-8)),~a.datumCode.indexOf("belge")&&(a.datumCode="rnb72"),a.GEOGCS.DATUM&&a.GEOGCS.DATUM.SPHEROID&&(a.ellps=a.GEOGCS.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===a.ellps.toLowerCase().slice(0,13)&&(a.ellps="intl"),a.a=a.GEOGCS.DATUM.SPHEROID.a,a.rf=parseFloat(a.GEOGCS.DATUM.SPHEROID.rf,10)),~a.datumCode.indexOf("osgb_1936")&&(a.datumCode="osgb36")),a.b&&!isFinite(a.b)&&(a.b=a.a),[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",f],["longitude_of_center","Longitude_Of_Center"],["longc","longitude_of_center",f],["x0","false_easting",b],["y0","false_northing",b],["long0","central_meridian",f],["lat0","latitude_of_origin",f],["lat0","standard_parallel_1",f],["lat1","standard_parallel_1",f],["lat2","standard_parallel_2",f],["alpha","azimuth",f],["srsCode","name"]].forEach(function(b){return c=a,e=(d=b)[0],f=d[1],void(!(e in c)&&f in c&&(c[e]=c[f],3===d.length&&(c[e]=d[2](c[e]))));var c,d,e,f}),a.long0||!a.longc||"Albers_Conic_Equal_Area"!==a.projName&&"Lambert_Azimuthal_Equal_Area"!==a.projName||(a.long0=a.longc),a.lat_ts||!a.lat1||"Stereographic_South_Pole"!==a.projName&&"Polar Stereographic (variant B)"!==a.projName||(a.lat0=f(a.lat1>0?90:-90),a.lat_ts=a.lat1)}(j.output),i(b,j.output)}},function(a,b,c){"use strict";var d=.017453292519943295,e=c(425),f=c(424);a.exports=function(a){var b,c,g,h={},i={};a.split("+").map(function(a){return a.trim()}).filter(function(a){return a}).forEach(function(a){var b=a.split("=");b.push(!0),i[b[0].toLowerCase()]=b[1]});var j={proj:"projName",datum:"datumCode",rf:function(a){h.rf=parseFloat(a)},lat_0:function(a){h.lat0=a*d},lat_1:function(a){h.lat1=a*d},lat_2:function(a){h.lat2=a*d},lat_ts:function(a){h.lat_ts=a*d},lon_0:function(a){h.long0=a*d},lon_1:function(a){h.long1=a*d},lon_2:function(a){h.long2=a*d},alpha:function(a){h.alpha=parseFloat(a)*d},lonc:function(a){h.longc=a*d},x_0:function(a){h.x0=parseFloat(a)},y_0:function(a){h.y0=parseFloat(a)},k_0:function(a){h.k0=parseFloat(a)},k:function(a){h.k0=parseFloat(a)},a:function(a){h.a=parseFloat(a)},b:function(a){h.b=parseFloat(a)},r_a:function(){h.R_A=!0},zone:function(a){h.zone=parseInt(a,10)},south:function(){h.utmSouth=!0},towgs84:function(a){h.datum_params=a.split(",").map(function(a){return parseFloat(a)})},to_meter:function(a){h.to_meter=parseFloat(a)},units:function(a){h.units=a,f[a]&&(h.to_meter=f[a].to_meter)},from_greenwich:function(a){h.from_greenwich=a*d},pm:function(a){h.from_greenwich=(e[a]?e[a]:parseFloat(a))*d},nadgrids:function(a){"@null"===a?h.datumCode="none":h.nadgrids=a},axis:function(a){3===a.length&&-1!=="ewnsud".indexOf(a.substr(0,1))&&-1!=="ewnsud".indexOf(a.substr(1,1))&&-1!=="ewnsud".indexOf(a.substr(2,1))&&(h.axis=a)}};for(b in i)c=i[b],b in j?"function"==typeof(g=j[b])?g(c):h[g]=c:h[b]=c;return"string"==typeof h.datumCode&&"WGS84"!==h.datumCode&&(h.datumCode=h.datumCode.toLowerCase()),h}},function(a,b,c){"use strict";function d(a){var b=this;if(2===arguments.length){var c=arguments[1];"string"==typeof c?"+"===c.charAt(0)?d[a]=f(arguments[1]):d[a]=g(arguments[1]):d[a]=c}else if(1===arguments.length){if(Array.isArray(a))return a.map(function(a){Array.isArray(a)?d.apply(b,a):d(a)});if("string"==typeof a){if(a in d)return d[a]}else"EPSG"in a?d["EPSG:"+a.EPSG]=a:"ESRI"in a?d["ESRI:"+a.ESRI]=a:"IAU2000"in a?d["IAU2000:"+a.IAU2000]=a:console.log(a);return}}var e=c(426),f=c(180),g=c(179);e(d),a.exports=d},function(a,b,c){"use strict";var d=c(428);d.defaultDatum="WGS84",d.Proj1=c(107),d.WGS84=new d.Proj1("WGS84"),d.Point=c(414),d.toPoint=c(177),d.defs=c(181),d.transform=c(178),d.mgrs=c(176),d.version=c(413).version,c(412)(d),a.exports=d},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0}),b.crs=b.CRS=void 0;var e=d(c(2)),f=d(c(182));window.proj4=f["default"],window.Proj4js=f["default"],e["default"].Proj1={},e["default"].Proj1._isProj4Obj=function(a){return void 0!==a.inverse&&void 0!==a.forward},e["default"].Proj1.Projection=e["default"].Class.extend({initialize:function(a,b,c){var d=e["default"].Proj1._isProj4Obj(a);this._proj=d?a:this._projFromCodeDef(a,b);var f=c;e["default"].Util.isArray(c)&&(f=e["default"].bounds(c)),this.bounds=d?b:f},project:function(a){var b=this._proj.forward([a.lng,a.lat]);return new e["default"].Point(b[0],b[1])},unproject:function(a,b){this.bounds&&(a.x=a.x<this.bounds.min.x?this.bounds.min.x:a.x>this.bounds.max.x?this.bounds.max.x:a.x,a.y=a.y<this.bounds.min.y?this.bounds.min.y:a.y>this.bounds.max.y?this.bounds.max.y:a.y);var c=this._proj.inverse([a.x,a.y]);return new e["default"].LatLng(c[1],c[0],b)},_projFromCodeDef:function(a,b){if(b)f["default"].defs(a,b);else if(void 0===f["default"].defs[a]){var c=a.split(":");if(c.length>3&&(a=c[c.length-3]+":"+c[c.length-1]),void 0===f["default"].defs[a])throw"No projection definition for code "+a}return f["default"](a)},getUnits:function(){return this._proj.oProj.units||"degrees"}});var g=b.CRS=e["default"].Class.extend({includes:e["default"].CRS,options:{transformation:new e["default"].Transformation(1,0,-1,0)},initialize:function(a,b){var c,d,f;if(e["default"].Proj1._isProj4Obj(a)?(c=(d=a).srsCode,b=b||{},this.projection=new e["default"].Proj1.Projection(d,b.bounds)):(c=a,f=(b=b||{}).def||"",this.projection=new e["default"].Proj1.Projection(c,f,b.bounds)),e["default"].Util.setOptions(this,b),this.code=c,this.transformation=this.options.transformation,this.options.dpi=this.options.dpi||96,this.options.bounds&&(this.options.bounds=e["default"].bounds(this.options.bounds)),!this.options.origin&&this.options.bounds&&(this.options.origin=[this.options.bounds.min.x,this.options.bounds.max.y]),this.options.origin&&(this.options.origin instanceof e["default"].Point&&(this.options.origin=[this.options.origin.x,this.options.origin.y]),this.transformation=new e["default"].Transformation(1,-this.options.origin[0],-1,this.options.origin[1])),this.options.scales&&this.options.scales.length>0)this.scales=this.options.scales,this._scales=this._toProj4Scales(this.options.scales,this.options.dpi);else if(this.options.scaleDenominators&&this.options.scaleDenominators.length>0){this.scales=[];for(var g=0;g<this.options.scaleDenominators.length;g++)this.scales[g]=1/this.options.scaleDenominators[g];this._scales=this._toProj4Scales(this.scales,this.options.dpi)}else if(this.options.resolutions&&this.options.resolutions.length>0){this._scales=[];for(var h=this.options.resolutions.length-1;h>=0;h--)this.options.resolutions[h]&&(this._scales[h]=1/this.options.resolutions[h])}else this.options.bounds&&(this._scales=this._getDefaultProj4ScalesByBounds(this.options.bounds));this._rectify(),this.infinite=!this.options.bounds},_rectify:function(){if(this._scales&&(this.resolutions||(this.resolutions=[],this.resolutions=this._proj4ScalesToResolutions(this._scales)),!this.scales)){this.scales=[];for(var a=0;a<this.resolutions.length;a++){var b=this.resolutions[a]*this.options.dpi*(1/.0254)*this._getMeterPerMapUnit(this.projection.getUnits());this.scales[a]=1/b}}},scale:function(a){var b,c=Math.floor(a);return a===c?this._scales[a]:(b=this._scales[c])+(this._scales[c+1]-b)*(a-c)},zoom:function(a){var b,c,d=this._closestElement(this._scales,a),e=this._scales.indexOf(d);return a===d?e:(c=e+1,void 0===(b=this._scales[c])?1/0:(a-d)/(b-d)+e)},distance:e["default"].CRS.Earth.distance,R:e["default"].CRS.Earth.R,_closestElement:function(a,b){for(var c,d=a.length;d--;)a[d]<=b&&(void 0===c||c<a[d])&&(c=a[d]);return c},_proj4ScalesToResolutions:function(a){
var b=[];if(!a)return b;for(var c=0;c<a.length;c++)b[c]=1/a[c];return b},_toProj4Scales:function(a,b){var c=[];if(!a)return c;for(var d=0;d<a.length;d++){var e=this.projection?this._getMeterPerMapUnit(this.projection.getUnits()):1;c[d]=1/(.0254/((b||96)*a[d])/e)}return c},_getMeterPerMapUnit:function(a){var b=1;return"meter"===a?b=1:"degrees"===a?b=2*Math.PI*6378137/360:"kilometer"===a?b=.001:"inch"===a?b=1/.025399999918:"feet"===a&&(b=.3048),b},_getDefaultProj4ScalesByBounds:function(a){if(!a)return[];for(var b=a.getSize(),c=Math.max(b.x,b.y)/256,d=[],e=0;23>e;e++)d[e]=Math.pow(2,e)/c;return d}}),h=b.crs=function(a,b){return new g(a,b)};e["default"].Proj1.CRS=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Lang=void 0;var d=c(0),e={code:null,defaultCode:"en-US",getCode:function(){return d.SuperMap.Lang.code||d.SuperMap.Lang.setCode(),d.SuperMap.Lang.code},setCode:function(){var a=this.getLanguageFromCookie();a?d.SuperMap.Lang.code=a:(a=d.SuperMap.Lang.defaultCode,0===(a="Netscape"===navigator.appName?navigator.language:navigator.browserLanguage).indexOf("zh")&&(a="zh-CN"),0===a.indexOf("en")&&(a="en-US"),d.SuperMap.Lang.code=a)},getLanguageFromCookie:function(){for(var a=document.cookie.split(";"),b=0;b<a.length;b++){for(var c=a[b];" "===c.charAt(0);)c=c.substring(1);if(-1!==c.indexOf("language="))return c.substring("language=".length,c.length)}return""},i18n:function(a){var b=d.SuperMap.Lang[d.SuperMap.Lang.getCode()],c=b&&b[a];return c||(c=a),c}};b.Lang=e,d.SuperMap.Lang=e,d.SuperMap.i18n=d.SuperMap.Lang.i18n},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.IndexTabsPageContainer=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(35),g=b.IndexTabsPageContainer=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c._initView(),c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,f.TemplateBase),d(b,[{key:"_initView",value:function(){var a=document.createElement("div");a.setAttribute("class","widget-tabpage");var b=document.createElement("ul");this.header=b;var c=document.createElement("div");c.setAttribute("class","widget-tabpage__content"),this.content=c,a.appendChild(b),a.appendChild(c),this.rootContainer=a}},{key:"setTabs",value:function(a){this.removeAllTabs(),this.appendTabs(a)}},{key:"appendTabs",value:function(a){for(var b=0;b<a.length;b++){var c=document.createElement("span");c.index=b,c.appendChild(document.createTextNode(a[b].title)),c.onclick=this._changeTabsPage.bind(this);var d=a[b].content;d.index=b,d.hidden=!0,this.header.appendChild(c),this.content.appendChild(d)}this.header.firstChild.setAttribute("class","on"),this.content.firstChild.hidden=!1}},{key:"removeTab",value:function(a){this.header.removeChild(this.header.children[a]),this.content.removeChild(this.content.children[a])}},{key:"removeAllTabs",value:function(){for(var a=this.header.children.length;a>0;a--)this.header.removeChild(this.header.children[a]),this.content.removeChild(this.content.children[a])}},{key:"_changeTabsPage",value:function(a){for(var b=a.target.index,c=0;c<this.header.children.length;c++)this.header.children[c].setAttribute("class",""),this.content.children[c].hidden=!0,c===b&&(this.header.children[c].setAttribute("class","on"),this.content.children[c].hidden=!1)}}]),b}();e.SuperMap.Widgets.IndexTabsPageContainer=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.PopContainer=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(35),g=b.PopContainer=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b),a=a||{};var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return a.title=a.title?a.title:"",c._initView(a.title),c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,f.TemplateBase),d(b,[{key:"_initView",value:function(a){var b=document.createElement("div");b.setAttribute("class","widget-popcontainer");var c=document.createElement("div");c.setAttribute("class","widget-popcontainer__header");var d=document.createElement("label");d.setAttribute("class","widget-popcontainer__header__title"),d.innerHTML=a,c.appendChild(d);var e=document.createElement("span");e.setAttribute("class","supermapol-icons-clear widget-popcontainer__header__close"),e.onclick=this.closeView.bind(this),b.appendChild(e),b.appendChild(c);var f=document.createElement("div");f.setAttribute("class","widget-popcontainer__content"),this.content=f,b.appendChild(f),this.rootContainer=b}},{key:"appendContent",value:function(a){this.content.appendChild(a)}}]),b}();e.SuperMap.Widgets.PopContainer=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();b.Easing=function(){function a(){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.CLASS_NAME="SuperMap.LevelRenderer.Animation.easing"}return d(a,[{key:"destroy",value:function(){}},{key:"Linear",value:function(a){return a}},{key:"QuadraticIn",value:function(a){return a*a}},{key:"QuadraticOut",value:function(a){return a*(2-a)}},{key:"QuadraticInOut",value:function(a){return(a*=2)<1?.5*a*a:-.5*(--a*(a-2)-1)}},{key:"CubicIn",value:function(a){return a*a*a}},{key:"CubicOut",value:function(a){return--a*a*a+1}},{key:"CubicInOut",value:function(a){return(a*=2)<1?.5*a*a*a:.5*((a-=2)*a*a+2)}},{key:"QuarticIn",value:function(a){return a*a*a*a}},{key:"QuarticOut",value:function(a){return 1- --a*a*a*a}},{key:"QuarticInOut",value:function(a){return(a*=2)<1?.5*a*a*a*a:-.5*((a-=2)*a*a*a-2)}},{key:"QuinticIn",value:function(a){return a*a*a*a*a}},{key:"QuinticOut",value:function(a){return--a*a*a*a*a+1}},{key:"QuinticInOut",value:function(a){return(a*=2)<1?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2)}},{key:"SinusoidalIn",value:function(a){return 1-Math.cos(a*Math.PI/2)}},{key:"SinusoidalOut",value:function(a){return Math.sin(a*Math.PI/2)}},{key:"SinusoidalInOut",value:function(a){return.5*(1-Math.cos(Math.PI*a))}},{key:"ExponentialIn",value:function(a){return 0===a?0:Math.pow(1024,a-1)}},{key:"ExponentialOut",value:function(a){return 1===a?1:1-Math.pow(2,-10*a)}},{key:"ExponentialInOut",value:function(a){return 0===a?0:1===a?1:(a*=2)<1?.5*Math.pow(1024,a-1):.5*(2-Math.pow(2,-10*(a-1)))}},{key:"CircularIn",value:function(a){return 1-Math.sqrt(1-a*a)}},{key:"CircularOut",value:function(a){return Math.sqrt(1- --a*a)}},{key:"CircularInOut",value:function(a){return(a*=2)<1?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)}},{key:"ElasticIn",value:function(a){var b,c=.1;return 0===a?0:1===a?1:(1>c?(c=1,b=.1):b=.4*Math.asin(1/c)/(2*Math.PI),-c*Math.pow(2,10*(a-=1))*Math.sin((a-b)*(2*Math.PI)/.4))}},{key:"ElasticOut",value:function(a){var b,c=.1;return 0===a?0:1===a?1:(1>c?(c=1,b=.1):b=.4*Math.asin(1/c)/(2*Math.PI),c*Math.pow(2,-10*a)*Math.sin((a-b)*(2*Math.PI)/.4)+1)}},{key:"ElasticInOut",value:function(a){var b,c=.1;return 0===a?0:1===a?1:(1>c?(c=1,b=.1):b=.4*Math.asin(1/c)/(2*Math.PI),(a*=2)<1?c*Math.pow(2,10*(a-=1))*Math.sin((a-b)*(2*Math.PI)/.4)*-.5:c*Math.pow(2,-10*(a-=1))*Math.sin((a-b)*(2*Math.PI)/.4)*.5+1)}},{key:"BackIn",value:function(a){var b=1.70158;return a*a*((b+1)*a-b)}},{key:"BackOut",value:function(a){var b=1.70158;return--a*a*((b+1)*a+b)+1}},{key:"BackInOut",value:function(a){var b=2.5949095;return(a*=2)<1?a*a*((b+1)*a-b)*.5:.5*((a-=2)*a*((b+1)*a+b)+2)}},{key:"BounceIn",value:function(a){return 1-this.BounceOut(1-a)}},{key:"BounceOut",value:function(a){return 1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}},{key:"BounceInOut",value:function(a){return.5>a?.5*this.BounceIn(2*a):.5*this.BounceOut(2*a-1)+.5}}]),a}()},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Clip=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(187);b.Clip=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this._targetPool=b.target||{},this._targetPool instanceof Array||(this._targetPool=[this._targetPool]),this._life=b.life||1e3,this._delay=b.delay||0,this._startTime=(new Date).getTime()+this._delay,this._endTime=this._startTime+1e3*this._life,this.loop=void 0!==b.loop&&b.loop,this.gap=b.gap||0,this.easing=b.easing||"Linear",this.onframe=b.onframe,this.ondestroy=b.ondestroy,this.onrestart=b.onrestart,this.CLASS_NAME="SuperMap.LevelRenderer.Animation.Clip"}return d(a,[{key:"destroy",value:function(){}},{key:"step",value:function(a){var b=new e.Easing,c=(a-this._startTime)/this._life;if(!(0>c)){c=Math.min(c,1);var d="string"==typeof this.easing?b[this.easing]:this.easing,f="function"==typeof d?d(c):c;return this.fire("frame",f),1==c?this.loop?(this.restart(),"restart"):(this._needsRemove=!0,"destroy"):null}}},{key:"restart",value:function(){var a=((new Date).getTime()-this._startTime)%this._life;this._startTime=(new Date).getTime()-a+this.gap}},{key:"fire",value:function(a,b){for(var c=0,d=this._targetPool.length;d>c;c++)this["on"+a]&&this["on"+a](this._targetPool[c],b)}}]),a}()},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0}),b.Animator=b.Animation=void 0;var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(33),h=c(59),i=c(188),j=c(12),k=c(1),l=b.Animation=function(a){function b(a){d(this,b);var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return a=a||{},c.stage={},c.onframe=function(){},c._clips=[],c._running=!1,c._time=0,k.Util.extend(c,a),c.CLASS_NAME="SuperMap.LevelRenderer.Animation",c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,h.Eventful),f(b,[{key:"add",value:function(a){this._clips.push(a)}},{key:"remove",value:function(a){var b=(new g.Util).indexOf(this._clips,a);b>=0&&this._clips.splice(b,1)}},{key:"_update",value:function(){for(var a=(new Date).getTime(),b=a-this._time,c=this._clips,d=c.length,e=[],f=[],g=0;d>g;g++){var h=c[g],i=h.step(a);i&&(e.push(i),f.push(h))}this.stage.update&&this.stage.update();for(var j=0;d>j;)c[j]._needsRemove?(c[j]=c[d-1],c.pop(),d--):j++;d=e.length;for(var k=0;d>k;k++)f[k].fire(e[k]);this._time=a,this.onframe(b),this.dispatch("frame",b)}},{key:"start",value:function(){var a=window.requestAnimationFrame||window.msRequestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(a){setTimeout(a,16)},b=this;this._running=!0,this._time=(new Date).getTime(),a(function c(){b._running&&(b._update(),a(c))})}},{key:"stop",value:function(){this._running=!1}},{key:"clear",value:function(){this._clips=[]}},{key:"animate",value:function(a,b){var c=new m(a,(b=b||{}).loop,b.getter,b.setter);return c.animation=this,c}}],[{key:"_interpolateNumber",value:function(a,b,c){return(b-a)*c+a}},{key:"_interpolateArray",value:function(a,c,d,e,f){var g=a.length;if(1==f)for(var h=0;g>h;h++)e[h]=b._interpolateNumber(a[h],c[h],d);else for(var i=a[0].length,j=0;g>j;j++)for(var k=0;i>k;k++)e[j][k]=b._interpolateNumber(a[j][k],c[j][k],d)}},{key:"_isArrayLike",value:function(a){switch(void 0===a?"undefined":e(a)){case"undefined":case"string":return!1}return void 0!==a.length}},{key:"_catmullRomInterpolateArray",value:function(a,c,d,e,f,g,h,i,j){var k=a.length;if(1==j)for(var l=0;k>l;l++)i[l]=b._catmullRomInterpolate(a[l],c[l],d[l],e[l],f,g,h);else for(var m=a[0].length,n=0;k>n;n++)for(var o=0;m>o;o++)i[n][o]=b._catmullRomInterpolate(a[n][o],c[n][o],d[n][o],e[n][o],f,g,h)}},{key:"_catmullRomInterpolate",value:function(a,b,c,d,e,f,g){var h=.5*(c-a),i=.5*(d-b);return(2*(b-c)+h+i)*g+(-3*(b-c)-2*h-i)*f+h*e+b}},{key:"_cloneValue",value:function(a){var c=Array.prototype.slice;if(b._isArrayLike(a)){var d=a.length;if(b._isArrayLike(a[0])){for(var e=[],f=0;d>f;f++)e.push(c.call(a[f]));return e}return c.call(a)}return a}},{key:"rgba2String",value:function(a){return a[0]=Math.floor(a[0]),a[1]=Math.floor(a[1]),a[2]=Math.floor(a[2]),"rgba("+a.join(",")+")"}}]),b}(),m=b.Animator=function(){function a(b,c,e,f){d(this,a),this._tracks={},this._target=b,this._loop=c||!1,this._getter=e||function(a,b){return a[b]},this._setter=f||function(a,b,c){a[b]=c},this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[],this.CLASS_NAME="SuperMap.LevelRenderer.Animation.Animator"}return f(a,[{key:"when",value:function(a,b){for(var c in b)this._tracks[c]||(this._tracks[c]=[],0!==a&&this._tracks[c].push({time:0,value:l._cloneValue(this._getter(this._target,c))})),this._tracks[c].push({time:parseInt(a,10),value:b[c]});return this}},{key:"during",value:function(a){return this._onframeList.push(a),this}},{key:"start",value:function(a){var b=this,c=this._setter,d=this._getter,e=b._onframeList.length,f="spline"===a,g=function(){if(b._clipCount--,0===b._clipCount){b._tracks={};for(var a=b._doneList.length,c=0;a>c;c++)b._doneList[c].call(b)}},h=function(h,k){var m=h.length;if(m){var n=h[0].value,o=l._isArrayLike(n),p=!1,q=o&&l._isArrayLike(n[0])?2:1;h.sort(function(a,b){return a.time-b.time});for(var r=h[m-1].time,s=[],t=[],u=0;m>u;u++){s.push(h[u].time/r);var v=h[u].value;"string"==typeof v&&(0===(v=j.SUtil.Util_color.toArray(v)).length&&(v[0]=v[1]=v[2]=0,v[3]=1),p=!0),t.push(v)}var w,x,y,z,A,B,C,D=0,E=0;if(p)var F=[0,0,0,0];var G=new i.Clip({target:b._target,life:r,loop:b._loop,delay:b._delay,onframe:function(a,g){if(E>g){for(w=Math.min(D+1,m-1),x=w;x>=0&&!(s[x]<=g);x--);x=Math.min(x,m-2)}else{for(x=D;m>x&&!(s[x]>g);x++);x=Math.min(x-1,m-2)}D=x,E=g;var h=s[x+1]-s[x];if(0!==h){if(y=(g-s[x])/h,f)if(A=t[x],z=t[0===x?x:x-1],B=t[x>m-2?m-1:x+1],C=t[x>m-3?m-1:x+2],o)l._catmullRomInterpolateArray(z,A,B,C,y,y*y,y*y*y,d(a,k),q);else{var i=void 0;i=p?l.rgba2String(F):l._catmullRomInterpolate(z,A,B,C,y,y*y,y*y*y),c(a,k,i)}else if(o)l._interpolateArray(t[x],t[x+1],y,d(a,k),q);else{var j=void 0;p?(l._interpolateArray(t[x],t[x+1],y,F,1),j=l.rgba2String(F)):j=l._interpolateNumber(t[x],t[x+1],y),c(a,k,j)}for(x=0;e>x;x++)b._onframeList[x](a,g)}},ondestroy:g});a&&"spline"!==a&&(G.easing=a),b._clipList.push(G),b._clipCount++,b.animation.add(G)}};for(var k in this._tracks)h(this._tracks[k],k);return this}},{key:"stop",value:function(){for(var a=0;a<this._clipList.length;a++){var b=this._clipList[a];this.animation.remove(b)}this._clipList=[]}},{key:"delay",value:function(a){return this._delay=a,this}},{key:"done",value:function(a){return a&&this._doneList.push(a),this}}]),a}()},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Handler=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(59),f=c(73),g=c(12);b.Handler=function(a){function b(a,c,d){function e(a,b){return function(c){return a.call(b,c)}}!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var h,i,j=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d));j.root=a,j.storage=c,j.painter=d,j._lastX=0,j._lastY=0,j._mouseX=0,j._mouseY=0,j._findHover=null,j._domHover=null,j._findHover=(h=function(a,b,c){var d=this;if(d._draggingTarget&&d._draggingTarget.id==a.id||a.isSilent())return!1;var e=d._event;if(a.isCover(b,c)){if(a.hoverable)if(a.isHoverByRefDataID&&!0===a.isHoverByRefDataID){if(a.refDataID){var f=a.refDataID,g=null;a.refDataHoverGroup&&(g=a.refDataHoverGroup);for(var h=d.storage._shapeList,i=0,j=h.length;j>i;i++){var k=h[i];k.refDataID&&f===k.refDataID&&(g?k.refDataHoverGroup&&g===k.refDataHoverGroup&&d.storage.addHover(k):d.storage.addHover(k))}}}else d.storage.addHover(a);for(var l=a.parent;l;){if(l.clipShape&&!l.clipShape.isCover(d._mouseX,d._mouseY))return!1;l=l.parent}return d._lastHover!=a&&(d._processOutShape(e),d._processDragLeave(e),d._lastHover=a,d._processDragEnter(e)),d._processOverShape(e),d._processDragOver(e),d._hasfound=1,!0}return!1},i=j,function(a,b,c){return h.call(i,a,b,c)}),j._domHover=d.getDomHover(),j.CLASS_NAME="SuperMap.LevelRenderer.Handler";var k={resize:function(a){a=a||window.event,this._lastHover=null,this._isMouseDown=0,this.dispatch(f.Config.EVENT.RESIZE,a)},click:function(a){a=this._zrenderEventFixed(a);var b=this._lastHover;(b&&b.clickable||!b)&&this._clickThreshold<10&&this._dispatchAgency(b,f.Config.EVENT.CLICK,a),this._mousemoveHandler(a)},dblclick:function(a){a=a||window.event,a=this._zrenderEventFixed(a);var b=this._lastHover;(b&&b.clickable||!b)&&this._clickThreshold<5&&this._dispatchAgency(b,f.Config.EVENT.DBLCLICK,a),this._mousemoveHandler(a)},mousewheel:function(a){var b=((a=this._zrenderEventFixed(a)).wheelDelta||-a.detail)>0?1.1:1/1.1,c=this.painter.getLayers(),d=!1;for(var e in c)if("hover"!==e){var g=c[e],h=g.position;if(g.zoomable){g.__zoom=g.__zoom||1;var i=g.__zoom;i*=b,b=(i=Math.max(Math.min(g.maxZoom,i),g.minZoom))/g.__zoom,g.__zoom=i,h[0]-=(this._mouseX-h[0])*(b-1),h[1]-=(this._mouseY-h[1])*(b-1),g.scale[0]*=b,g.scale[1]*=b,g.dirty=!0,d=!0}}d&&this.painter.refresh(),this._dispatchAgency(this._lastHover,f.Config.EVENT.MOUSEWHEEL,a),this._mousemoveHandler(a)},mousemove:function(a){this._clickThreshold++,a=this._zrenderEventFixed(a),this._lastX=this._mouseX,this._lastY=this._mouseY,this._mouseX=g.SUtil.Util_event.getX(a),this._mouseY=g.SUtil.Util_event.getY(a);var b=this._mouseX-this._lastX,c=this._mouseY-this._lastY;this._processDragStart(a),this._hasfound=0,this._event=a,this._iterateAndFindHover(),this._hasfound||((!this._draggingTarget||this._lastHover&&this._lastHover!=this._draggingTarget)&&(this._processOutShape(a),this._processDragLeave(a)),this._lastHover=null,this.storage.delHover(),this.painter.clearHover());var d="";if(this._draggingTarget)this.storage.drift(this._draggingTarget.id,b,c),this._draggingTarget.modSelf(),this.storage.addHover(this._draggingTarget);else if(this._isMouseDown){var e=this.painter.getLayers(),h=!1;for(var i in e)if("hover"!==i){var j=e[i];j.panable&&(d="move",j.position[0]+=b,j.position[1]+=c,h=!0,j.dirty=!0)}h&&this.painter.refresh()}this._draggingTarget||this._hasfound&&this._lastHover.draggable?d="move":this._hasfound&&this._lastHover.clickable&&(d="pointer"),this.root.style.cursor=d,this._dispatchAgency(this._lastHover,f.Config.EVENT.MOUSEMOVE,a),(this._draggingTarget||this._hasfound||this.storage.hasHoverShape())&&this.painter.refreshHover()},mouseout:function(a){var b=(a=this._zrenderEventFixed(a)).toElement||a.relatedTarget;if(b!=this.root)for(;b&&9!=b.nodeType;){if(b==this.root)return void this._mousemoveHandler(a);b=b.parentNode}a.zrenderX=this._lastX,a.zrenderY=this._lastY,this.root.style.cursor="",this._isMouseDown=0,this._processOutShape(a),this._processDrop(a),this._processDragEnd(a),this.painter.refreshHover(),this.dispatch(f.Config.EVENT.GLOBALOUT,a)},mousedown:function(a){return this._clickThreshold=0,2==this._lastDownButton?(this._lastDownButton=a.button,void(this._mouseDownTarget=null)):(this._lastMouseDownMoment=new Date,a=this._zrenderEventFixed(a),this._isMouseDown=1,this._mouseDownTarget=this._lastHover,this._dispatchAgency(this._lastHover,f.Config.EVENT.MOUSEDOWN,a),this._lastDownButton=a.button,void 0)},mouseup:function(a){a=this._zrenderEventFixed(a),this.root.style.cursor="",this._isMouseDown=0,this._mouseDownTarget=null,this._dispatchAgency(this._lastHover,f.Config.EVENT.MOUSEUP,a),this._processDrop(a),this._processDragEnd(a)},touchstart:function(a){a=this._zrenderEventFixed(a,!0),this._lastTouchMoment=new Date,this._mobildFindFixed(a),this._mousedownHandler(a)},touchmove:function(a){a=this._zrenderEventFixed(a,!0),this._mousemoveHandler(a),this._isDragging&&g.SUtil.Util_event.stop(a)},touchend:function(a){a=this._zrenderEventFixed(a,!0),this._mouseupHandler(a);var b=new Date;b-this._lastTouchMoment<f.Config.EVENT.touchClickDelay&&(this._mobildFindFixed(a),this._clickHandler(a),b-this._lastClickMoment<f.Config.EVENT.touchClickDelay/2&&(this._dblclickHandler(a),this._lastHover&&this._lastHover.clickable&&g.SUtil.Util_event.stop(a)),this._lastClickMoment=b),this.painter.clearHover()}};return function(a){for(var b=["resize","click","dblclick","mousewheel","mousemove","mouseout","mouseup","mousedown","touchstart","touchend","touchmove"],c=b.length;c--;){var d=b[c];a["_"+d+"Handler"]=e(k[d],a)}}(j),window.addEventListener?(window.addEventListener("resize",j._resizeHandler),g.SUtil.Util_env.os.tablet||g.SUtil.Util_env.os.phone?(a.addEventListener("touchstart",j._touchstartHandler),a.addEventListener("touchmove",j._touchmoveHandler),a.addEventListener("touchend",j._touchendHandler)):(a.addEventListener("click",j._clickHandler),a.addEventListener("dblclick",j._dblclickHandler),a.addEventListener("mousewheel",j._mousewheelHandler),a.addEventListener("mousemove",j._mousemoveHandler),a.addEventListener("mousedown",j._mousedownHandler),a.addEventListener("mouseup",j._mouseupHandler)),a.addEventListener("DOMMouseScroll",j._mousewheelHandler),a.addEventListener("mouseout",j._mouseoutHandler)):(window.attachEvent("onresize",j._resizeHandler),a.attachEvent("onclick",j._clickHandler),a.ondblclick=j._dblclickHandler,a.attachEvent("onmousewheel",j._mousewheelHandler),a.attachEvent("onmousemove",j._mousemoveHandler),a.attachEvent("onmouseout",j._mouseoutHandler),a.attachEvent("onmousedown",j._mousedownHandler),a.attachEvent("onmouseup",j._mouseupHandler)),j}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,e.Eventful),d(b,[{key:"destroy",value:function(){this.dispose(),this._lastX=null,this._lastY=null,this._mouseX=null,this._mouseY=null,this._findHover=null,e.Eventful.prototype.destroy.apply(this,arguments)}},{key:"on",value:function(a,b){return this.bind(a,b),this}},{key:"un",value:function(a,b){return this.unbind(a,b),this}},{key:"trigger",value:function(a,b){var c=f.Config.EVENT;switch(a){case c.RESIZE:case c.CLICK:case c.DBLCLICK:case c.MOUSEWHEEL:case c.MOUSEMOVE:case c.MOUSEDOWN:case c.MOUSEUP:case c.MOUSEOUT:this["_"+a+"Handler"](b)}}},{key:"dispose",value:function(){var a=this.root;window.removeEventListener?(window.removeEventListener("resize",this._resizeHandler),g.SUtil.Util_env.os.tablet||g.SUtil.Util_env.os.phone?(a.removeEventListener("touchstart",this._touchstartHandler),a.removeEventListener("touchmove",this._touchmoveHandler),a.removeEventListener("touchend",this._touchendHandler)):(a.removeEventListener("click",this._clickHandler),a.removeEventListener("dblclick",this._dblclickHandler),a.removeEventListener("mousewheel",this._mousewheelHandler),a.removeEventListener("mousemove",this._mousemoveHandler),a.removeEventListener("mousedown",this._mousedownHandler),a.removeEventListener("mouseup",this._mouseupHandler)),a.removeEventListener("DOMMouseScroll",this._mousewheelHandler),a.removeEventListener("mouseout",this._mouseoutHandler)):(window.detachEvent("onresize",this._resizeHandler),a.detachEvent("onclick",this._clickHandler),a.detachEvent("dblclick",this._dblclickHandler),a.detachEvent("onmousewheel",this._mousewheelHandler),a.detachEvent("onmousemove",this._mousemoveHandler),a.detachEvent("onmouseout",this._mouseoutHandler),a.detachEvent("onmousedown",this._mousedownHandler),a.detachEvent("onmouseup",this._mouseupHandler)),this.root=null,this._domHover=null,this.storage=null,this.painter=null,this.un()}},{key:"_processDragStart",value:function(a){var b=this._lastHover;if(this._isMouseDown&&b&&b.draggable&&!this._draggingTarget&&this._mouseDownTarget==b){if(b.dragEnableTime&&new Date-this._lastMouseDownMoment<b.dragEnableTime)return;var c=b;this._draggingTarget=c,this._isDragging=1,c.invisible=!0,this.storage.mod(c.id),this._dispatchAgency(c,f.Config.EVENT.DRAGSTART,a),this.painter.refresh()}}},{key:"_processDragEnter",value:function(a){this._draggingTarget&&this._dispatchAgency(this._lastHover,f.Config.EVENT.DRAGENTER,a,this._draggingTarget)}},{key:"_processDragOver",value:function(a){this._draggingTarget&&this._dispatchAgency(this._lastHover,f.Config.EVENT.DRAGOVER,a,this._draggingTarget)}},{key:"_processDragLeave",value:function(a){this._draggingTarget&&this._dispatchAgency(this._lastHover,f.Config.EVENT.DRAGLEAVE,a,this._draggingTarget)}},{key:"_processDrop",value:function(a){this._draggingTarget&&(this._draggingTarget.invisible=!1,this.storage.mod(this._draggingTarget.id),this.painter.refresh(),this._dispatchAgency(this._lastHover,f.Config.EVENT.DROP,a,this._draggingTarget))}},{key:"_processDragEnd",value:function(a){this._draggingTarget&&(this._dispatchAgency(this._draggingTarget,f.Config.EVENT.DRAGEND,a),this._lastHover=null),this._isDragging=0,this._draggingTarget=null}},{key:"_processOverShape",value:function(a){this._dispatchAgency(this._lastHover,f.Config.EVENT.MOUSEOVER,a)}},{key:"_processOutShape",value:function(a){this._dispatchAgency(this._lastHover,f.Config.EVENT.MOUSEOUT,a)}},{key:"_dispatchAgency",value:function(a,b,c,d){var e="on"+b,f={type:b,event:c,target:a,cancelBubble:!1},g=a;for(d&&(f.dragged=d);g&&(g[e]&&(f.cancelBubble=g[e](f)),g.dispatch(b,f),g=g.parent,!f.cancelBubble););a?f.cancelBubble||this.dispatch(b,f):d||this.dispatch(b,{type:b,event:c})}},{key:"_iterateAndFindHover",value:function(){for(var a,b=g.SUtil.Util_matrix.create(),c=this.storage.getShapeList(),d=[0,0],e=c.length-1;e>=0;e--){var f=c[e];if(void 0!==f.zlevel&&(a=this.painter.getLayer(f.zlevel,a),d[0]=this._mouseX,d[1]=this._mouseY,a.needTransform&&(g.SUtil.Util_matrix.invert(b,a.transform),g.SUtil.Util_vector.applyTransform(d,d,b))),this._findHover(f,d[0],d[1]))break}}},{key:"_mobildFindFixed",value:function(a){var b=[{x:10},{x:-20},{x:10,y:10},{y:-20}];this._lastHover=null,this._mouseX=a.zrenderX,this._mouseY=a.zrenderY,this._event=a,this._iterateAndFindHover();for(var c=0;!this._lastHover&&c<b.length;c++){var d=b[c];d.x&&(this._mouseX+=d.x),d.y&&(this._mouseX+=d.y),this._iterateAndFindHover()}this._lastHover&&(a.zrenderX=this._mouseX,a.zrenderY=this._mouseY)}},{key:"_zrenderEventFixed",value:function(a,b){if(a.zrenderFixed)return a;if(b){var c="touchend"!=a.type?a.targetTouches[0]:a.changedTouches[0];if(c){var d=this.root.getBoundingClientRect();a.zrenderX=c.clientX-d.left,a.zrenderY=c.clientY-d.top}}else{var e=(a=a||window.event).toElement||a.relatedTarget||a.srcElement||a.target;e&&e!=this._domHover&&(a.zrenderX=(void 0!==a.offsetX?a.offsetX:a.layerX)+e.offsetLeft,a.zrenderY=(void 0!==a.offsetY?a.offsetY:a.layerY)+e.offsetTop)}return a.zrenderFixed=1,a}},{key:"getLastHoverOne",value:function(){return this._lastHover?this._lastHover:null}}]),b}()},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0}),b.PaintLayer=b.Painter=void 0;var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=c(76),g=c(110),h=c(1),i=c(33),j=c(73),k=c(12),l=b.Painter=function(){function a(b,c){function e(){return!1}d(this,a),this.root=b,this.storage=c,this._domRoot=null,this._layers={},this._zlevelList=[],this._layerConfig={},this._bgDom=null,this.shapeToImage=null,a.devicePixelRatio=Math.max(window.devicePixelRatio||1,1),this.CLASS_NAME="SuperMap.LevelRenderer.Painter",this.root.innerHTML="",this._width=this._getWidth(),this._height=this._getHeight();var f=document.createElement("div");this._domRoot=f,f.style.position="relative",f.style.overflow="hidden",f.style.width=this._width+"px",f.style.height=this._height+"px",this.root.appendChild(f),this.shapeToImage=this._createShapeToImageProcessor(),this._bgDom=a.createDom(h.Util.createUniqueID("SuperMap.Theme_background_"),"div",this),f.appendChild(this._bgDom),this._bgDom.onselectstart=e,this._bgDom.style["-webkit-user-select"]="none",this._bgDom.style["user-select"]="none",this._bgDom.style["-webkit-touch-callout"]="none";var g=new m(h.Util.createUniqueID("_highLightLayer_"),this);this._layers.hover=g,f.appendChild(g.dom),g.initContext(),g.dom.onselectstart=e,g.dom.style["-webkit-user-select"]="none",g.dom.style["user-select"]="none",g.dom.style["-webkit-touch-callout"]="none";var i=this;this.updatePainter=function(a,b){i.refreshShapes(a,b)}}return e(a,[{key:"destroy",value:function(){this.dispose(),this._zlevelList=null,this._layerConfig=null,this._bgDom=null,this.shapeToImage=null}},{key:"render",value:function(a){return this.refresh(a,!0),this}},{key:"refresh",value:function(a,b){var c=this.storage.getShapeList(!0);return this._paintList(c,b),"function"==typeof a&&a(),this}},{key:"_paintList",value:function(a,b){var c,d,e;for(var f in void 0===b&&(b=!1),this._updateLayerStatus(a),this._layers)"hover"!==f&&(this._layers[f].unusedCount++,this._layers[f].updateTransform());for(var g=[],h=0,i=a.length;i>h;h++){var l=a[h];
if(d!==l.zlevel&&(c&&c.needTransform&&e.restore(),e=(c=this.getLayer(l.zlevel)).ctx,d=l.zlevel,c.unusedCount=0,(c.dirty||b)&&c.clear(),c.needTransform&&(e.save(),c.setTransform(e))),e&&l.__startClip){var m=l.__startClip;if(e.save(),m.needTransform){var n=m.transform;k.SUtil.Util_matrix.invert(g,n),e.transform(n[0],n[1],n[2],n[3],n[4],n[5])}if(e.beginPath(),m.buildPath(e,m.style),e.clip(),m.needTransform){var o=g;e.transform(o[0],o[1],o[2],o[3],o[4],o[5])}}if((c&&c.dirty||b)&&!l.invisible&&(!l.onbrush||l.onbrush&&!l.onbrush(e,!1)))if(j.Config.catchBrushException)try{l.brush(e,!1,this.updatePainter)}catch(a){k.SUtil.Util_log(a,"brush error of "+l.type,l)}else l.brush(e,!1,this.updatePainter);e&&l.__stopClip&&e.restore(),l.__dirty=!1}for(var p in e&&c&&c.needTransform&&e.restore(),this._layers)if("hover"!==p){var q=this._layers[p];q.dirty=!1,1==q.unusedCount&&q.clear()}}},{key:"getLayer",value:function(a){var b=this._layers[a];if(!b){var c=this._zlevelList.length,d=null,e=-1;if(c>0&&a>this._zlevelList[0]){for(e=0;c-1>e&&!(this._zlevelList[e]<a&&this._zlevelList[e+1]>a);e++);d=this._layers[this._zlevelList[e]]}this._zlevelList.splice(e+1,0,a),b=new m(h.Util.createUniqueID("_levelLayer_"+a),this);var f=d?d.dom:this._bgDom;f.nextSibling?f.parentNode.insertBefore(b.dom,f.nextSibling):f.parentNode.appendChild(b.dom),b.initContext(),this._layers[a]=b,this._layerConfig[a]&&(new i.Util).merge(b,this._layerConfig[a],!0),b.updateTransform()}return b}},{key:"getLayers",value:function(){return this._layers}},{key:"_updateLayerStatus",value:function(a){var b=this._layers,c={};for(var d in b)"hover"!==d&&(c[d]=b[d].elCount,b[d].elCount=0);for(var e=0;e<a.length;e++){var f=a[e],g=b[f.zlevel];if(g){if(g.elCount++,g.dirty)continue;g.dirty=f.__dirty}}for(var h in b)"hover"!==h&&c[h]!==b[h].elCount&&(b[h].dirty=!0)}},{key:"refreshShapes",value:function(a,b){for(var c=0,d=a.length;d>c;c++){var e=a[c];this.storage.mod(e.id)}return this.refresh(b),this}},{key:"clear",value:function(){for(var a in this._layers)"hover"!=a&&this._layers[a].clear();return this}},{key:"modLayer",value:function(a,b){if(b){this._layerConfig[a]?(new i.Util).merge(this._layerConfig[a],b,!0):this._layerConfig[a]=b;var c=this._layers[a];c&&(new i.Util).merge(c,this._layerConfig[a],!0)}}},{key:"delLayer",value:function(a){var b=this._layers[a];b&&(this.modLayer(a,{position:b.position,rotation:b.rotation,scale:b.scale}),b.dom.parentNode.removeChild(b.dom),delete this._layers[a],this._zlevelList.splice((new i.Util).indexOf(this._zlevelList,a),1))}},{key:"refreshHover",value:function(){this.clearHover();for(var a=this.storage.getHoverShapes(!0),b=0,c=a.length;c>b;b++)this._brushHover(a[b]);return this.storage.delHover(),this}},{key:"clearHover",value:function(){var a=this._layers.hover;return a&&a.clear(),this}},{key:"resize",value:function(){var a=this._domRoot;a.style.display="none";var b=this._getWidth(),c=this._getHeight();if(a.style.display="",this._width!=b||c!=this._height){for(var d in this._width=b,this._height=c,a.style.width=b+"px",a.style.height=c+"px",this._layers)this._layers[d].resize(b,c);this.refresh(null,!0)}return this}},{key:"clearLayer",value:function(a){var b=this._layers[a];b&&b.clear()}},{key:"dispose",value:function(){this.root.innerHTML="",this.root=null,this.storage=null,this._domRoot=null,this._layers=null}},{key:"getDomHover",value:function(){return this._layers.hover.dom}},{key:"toDataURL",value:function(b,c,d){var e=a.createDom(h.Util.createUniqueID("SuperMap.Theme.image_"),"canvas",this);this._bgDom.appendChild(e);var f=e.getContext("2d");1!=a.devicePixelRatio&&f.scale(a.devicePixelRatio,a.devicePixelRatio),f.fillStyle=c||"#fff",f.rect(0,0,this._width*a.devicePixelRatio,this._height*a.devicePixelRatio),f.fill();var g=this;this.storage.iterShape(function(a){if(!a.invisible&&(!a.onbrush||a.onbrush&&!a.onbrush(f,!1)))if(j.Config.catchBrushException)try{a.brush(f,!1,g.updatePainter)}catch(b){k.SUtil.Util_log(b,"brush error of "+a.type,a)}else a.brush(f,!1,g.updatePainter)},{normal:"up",update:!0});var i=e.toDataURL(b,d);return f=null,this._bgDom.removeChild(e),i}},{key:"getWidth",value:function(){return this._width}},{key:"getHeight",value:function(){return this._height}},{key:"_getWidth",value:function(){var a=this.root,b=a.currentStyle||document.defaultView.getComputedStyle(a);return((a.clientWidth||parseInt(b.width,10))-parseInt(b.paddingLeft,10)-parseInt(b.paddingRight,10)).toFixed(0)-0}},{key:"_getHeight",value:function(){var a=this.root,b=a.currentStyle||document.defaultView.getComputedStyle(a);return((a.clientHeight||parseInt(b.height,10))-parseInt(b.paddingTop,10)-parseInt(b.paddingBottom,10)).toFixed(0)-0}},{key:"_brushHover",value:function(a){var b=this._layers.hover.ctx;if(!a.onbrush||a.onbrush&&!a.onbrush(b,!0)){var c=this.getLayer(a.zlevel);if(c.needTransform&&(b.save(),c.setTransform(b)),j.Config.catchBrushException)try{a.brush(b,!0,this.updatePainter)}catch(b){k.SUtil.Util_log(b,"hoverBrush error of "+a.type,a)}else a.brush(b,!0,this.updatePainter);c.needTransform&&b.restore()}}},{key:"_shapeToImage",value:function(a,b,c,d,e){var f=document.createElement("canvas"),h=f.getContext("2d"),i=e||window.devicePixelRatio||1;f.style.width=c+"px",f.style.height=d+"px",f.setAttribute("width",c*i),f.setAttribute("height",d*i),h.clearRect(0,0,c*i,d*i);var j={position:b.position,rotation:b.rotation,scale:b.scale};b.position=[0,0,0],b.rotation=0,b.scale=[1,1],b&&b.brush(h,!1);var k=new g.SmicImage({id:a,style:{x:0,y:0,image:f}});return null!=j.position&&(k.position=b.position=j.position),null!=j.rotation&&(k.rotation=b.rotation=j.rotation),null!=j.scale&&(k.scale=b.scale=j.scale),k}},{key:"_createShapeToImageProcessor",value:function(){var b=this;return function(c,d,e,f){return b._shapeToImage(c,d,e,f,a.devicePixelRatio)}}},{key:"updateHoverLayer",value:function(a){if(!(a instanceof Array))return this;this.clearHover(),this.storage.delHover();for(var b=0;b<a.length;b++)this.storage.addHover(a[b]),this._brushHover(a[b])}}],[{key:"createDom",value:function(b,c,d){var e=document.createElement(c),f=d._width,g=d._height;return e.style.position="absolute",e.style.left=0,e.style.top=0,e.style.width=f+"px",e.style.height=g+"px",e.setAttribute("width",f*a.devicePixelRatio),e.setAttribute("height",g*a.devicePixelRatio),e.setAttribute("id",b),e}}]),a}(),m=b.PaintLayer=function(a){function b(a,c){d(this,b);var e=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return e.dom=null,e.domBack=null,e.ctxBack=null,e.painter=c,e.unusedCount=0,e.config=null,e.dirty=!0,e.elCount=0,e.clearColor=0,e.motionBlur=!1,e.lastFrameAlpha=.7,e.zoomable=!1,e.panable=!1,e.maxZoom=1/0,e.minZoom=0,e.ctx=null,e.dom=l.createDom(h.Util.createUniqueID("SuperMap.Theme"+a),"canvas",c),e.dom.onselectstart=function(){return!1},e.dom.style["-webkit-user-select"]="none",e.dom.style["user-select"]="none",e.dom.style["-webkit-touch-callout"]="none",e.CLASS_NAME="SuperMap.LevelRenderer.Painter.Layer",e}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,f.Transformable),e(b,[{key:"destroy",value:function(){this.dom=null,this.domBack=null,this.ctxBack=null,this.painter=null,this.unusedCount=null,this.config=null,this.dirty=null,this.elCount=null,this.clearColor=null,this.motionBlur=null,this.lastFrameAlpha=null,this.zoomable=null,this.panable=null,this.maxZoom=null,this.minZoom=null,this.ctx=null,f.Transformable.destroy.apply(this,arguments)}},{key:"initContext",value:function(){this.ctx=this.dom.getContext("2d"),1!=l.devicePixelRatio&&this.ctx.scale(l.devicePixelRatio,l.devicePixelRatio)}},{key:"createBackBuffer",value:function(){this.domBack=l.createDom(h.Util.createUniqueID("SuperMap.Theme.back-"+this.id),"canvas",this.painter),this.ctxBack=this.domBack.getContext("2d"),1!=l.devicePixelRatio&&this.ctxBack.scale(l.devicePixelRatio,l.devicePixelRatio)}},{key:"resize",value:function(a,b){this.dom.style.width=a+"px",this.dom.style.height=b+"px",this.dom.setAttribute("width",a*l.devicePixelRatio),this.dom.setAttribute("height",b*l.devicePixelRatio),1!=l.devicePixelRatio&&this.ctx.scale(l.devicePixelRatio,l.devicePixelRatio),this.domBack&&(this.domBack.setAttribute("width",a*l.devicePixelRatio),this.domBack.setAttribute("height",b*l.devicePixelRatio),1!=l.devicePixelRatio&&this.ctxBack.scale(l.devicePixelRatio,l.devicePixelRatio))}},{key:"clear",value:function(){var a=this.dom,b=this.ctx,c=a.width,d=a.height,e=this.clearColor,f=this.motionBlur,g=this.lastFrameAlpha;if(f&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(a,0,0,c/l.devicePixelRatio,d/l.devicePixelRatio)),e?(b.save(),b.fillStyle=this.config.clearColor,b.fillRect(0,0,c/l.devicePixelRatio,d/l.devicePixelRatio),b.restore()):b.clearRect(0,0,c/l.devicePixelRatio,d/l.devicePixelRatio),f){var h=this.domBack;b.save(),b.globalAlpha=g,b.drawImage(h,0,0,c/l.devicePixelRatio,d/l.devicePixelRatio),b.restore()}}}]),b}()},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Group=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(59),h=c(76);b.Group=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return a=a||{},c.id=null,c.type="group",c.clipShape=null,c._children=[],c._storage=null,c.__dirty=!0,c.ignore=!1,f.Util.extend(c,a),c.id=c.id||f.Util.createUniqueID("smShapeGroup_"),c.CLASS_NAME="SuperMap.LevelRenderer.Group",c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,e.SuperMap.mixin(g.Eventful,h.Transformable)),d(b,[{key:"destroy",value:function(){this.id=null,this.type=null,this.clipShape=null,this._children=null,this._storage=null,this.__dirty=null,this.ignore=null,function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0}(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"children",value:function(){return this._children.slice()}},{key:"childAt",value:function(a){return this._children[a]}},{key:"addChild",value:function(a){a!=this&&a.parent!=this&&(a.parent&&a.parent.removeChild(a),this._children.push(a),a.parent=this,this._storage&&this._storage!==a._storage&&(this._storage.addToMap(a),a instanceof b&&a.addChildrenToStorage(this._storage)))}},{key:"removeChild",value:function(a){var c=f.Util.indexOf(this._children,a);this._children.splice(c,1),a.parent=null,this._storage&&(this._storage.delFromMap(a.id),a instanceof b&&a.delChildrenFromStorage(this._storage))}},{key:"eachChild",value:function(a,b){for(var c=!!b,d=0;d<this._children.length;d++){var e=this._children[d];c?a.call(b,e):a(e)}}},{key:"traverse",value:function(a,b){for(var c=!!b,d=0;d<this._children.length;d++){var e=this._children[d];c?a.call(b,e):a(e),"group"===e.type&&e.traverse(a,b)}}},{key:"addChildrenToStorage",value:function(a){for(var b=0;b<this._children.length;b++){var c=this._children[b];a.addToMap(c),"group"===c.type&&c.addChildrenToStorage(a)}}},{key:"delChildrenFromStorage",value:function(a){for(var b=0;b<this._children.length;b++){var c=this._children[b];a.delFromMap(c.id),"group"===c.type&&c.delChildrenFromStorage(a)}}},{key:"modSelf",value:function(){this.__dirty=!0}}]),b}()},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Storage=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(33),f=c(192);b.Storage=function(){function a(){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this._elements={},this._hoverElements=[],this._roots=[],this._shapeList=[],this._shapeListOffset=0,this.CLASS_NAME="SuperMap.LevelRenderer.Storage"}return d(a,[{key:"destroy",value:function(){this.dispose(),this._shapeList=null,this._shapeListOffset=null}},{key:"iterShape",value:function(a,b){if(b||(b={hover:!1,normal:"down",update:!1}),b.hover)for(var c=0,d=this._hoverElements.length;d>c;c++){var e=this._hoverElements[c];if(e.updateTransform(),a(e))return this}switch(b.update&&this.updateShapeList(),b.normal){case"down":for(var f=this._shapeList.length;f--;)if(a(this._shapeList[f]))return this;break;default:for(var g=0,h=this._shapeList.length;h>g;g++)if(a(this._shapeList[g]))return this}return this}},{key:"getHoverShapes",value:function(b){for(var c=[],d=this._hoverElements.length,e=0;d>e;e++){c.push(this._hoverElements[e]);var f=this._hoverElements[e].hoverConnect;if(f)for(var g,h=0,i=(f=f instanceof Array?f:[f]).length;i>h;h++)(g=f[h].id?f[h]:this.get(f[h]))&&c.push(g)}if(c.sort(a.shapeCompareFunc),b)for(var j=0,k=c.length;k>j;j++)c[j].updateTransform();return c}},{key:"getShapeList",value:function(a){return a&&this.updateShapeList(),this._shapeList}},{key:"updateShapeList",value:function(){this._shapeListOffset=0;for(var b=this._roots.length,c=0;b>c;c++){var d=this._roots[c];this._updateAndAddShape(d)}this._shapeList.length=this._shapeListOffset;for(var e=this._shapeList.length,f=0;e>f;f++)this._shapeList[f].__renderidx=f;this._shapeList.sort(a.shapeCompareFunc)}},{key:"_updateAndAddShape",value:function(a,b){if(!a.ignore)if(a.updateTransform(),"group"==a.type){a.clipShape&&(a.clipShape.parent=a,a.clipShape.updateTransform(),b?(b=b.slice()).push(a.clipShape):b=[a.clipShape]);for(var c=0;c<a._children.length;c++){var d=a._children[c];d.__dirty=a.__dirty||d.__dirty,this._updateAndAddShape(d,b)}a.__dirty=!1}else a.__clipShapes=b,this._shapeList[this._shapeListOffset++]=a}},{key:"mod",value:function(a,b){var c=this._elements[a];if(c&&(c.modSelf(),b))if(b.parent||b._storage||b.__startClip){var d={};for(var f in b)"parent"!=f&&"_storage"!=f&&"__startClip"!=f&&b.hasOwnProperty(f)&&(d[f]=b[f]);(new e.Util).merge(c,d,!0)}else(new e.Util).merge(c,b,!0);return this}},{key:"drift",value:function(a,b,c){var d=this._elements[a];return d&&(d.needTransform=!0,"horizontal"===d.draggable?c=0:"vertical"===d.draggable&&(b=0),(!d.ondrift||d.ondrift&&!d.ondrift(b,c))&&d.drift(b,c)),this}},{key:"addHover",value:function(a){return a.updateNeedTransform(),this._hoverElements.push(a),this}},{key:"delHover",value:function(){return this._hoverElements=[],this}},{key:"hasHoverShape",value:function(){return this._hoverElements.length>0}},{key:"addRoot",value:function(a){a instanceof f.Group&&a.addChildrenToStorage(this),this.addToMap(a),this._roots.push(a)}},{key:"delRoot",value:function(a){if(void 0===a){for(var b=0;b<this._roots.length;b++){var c=this._roots[b];c instanceof f.Group&&c.delChildrenFromStorage(this)}return this._elements={},this._hoverElements=[],void(this._roots=[])}if(a instanceof Array)for(var d=a.length,g=0;d>g;g++)this.delRoot(a[g]);else{var h;h="string"==typeof a?this._elements[a]:a;var i=(new e.Util).indexOf(this._roots,h);i>=0&&(this.delFromMap(h.id),this._roots.splice(i,1),h instanceof f.Group&&h.delChildrenFromStorage(this))}}},{key:"addToMap",value:function(a){return a instanceof f.Group&&(a._storage=this),a.modSelf(),this._elements[a.id]=a,this}},{key:"get",value:function(a){return this._elements[a]}},{key:"delFromMap",value:function(a){var b=this._elements[a];return b&&(delete this._elements[a],b instanceof f.Group&&(b._storage=null)),this}},{key:"dispose",value:function(){this._elements=null,this._roots=null,this._hoverElements=null}}],[{key:"shapeCompareFunc",value:function(a,b){return a.zlevel==b.zlevel?a.z==b.z?a.__renderidx-b.__renderidx:a.z-b.z:a.zlevel-b.zlevel}}]),a}()},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Render=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(33),f=c(1),g=c(193),h=c(191),i=c(190),j=c(189),k=c(12);b.Render=function(){function a(b,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.id=b,this.storage=new g.Storage,this.painter=new h.Painter(c,this.storage),this.handler=new i.Handler(c,this.storage,this.painter),this.animatingElements=[],this.animation=new j.Animation({stage:{update:a.getFrameCallback(this)}}),this._needsRefreshNextFrame=!1,this.animation.start(),this.CLASS_NAME="SuperMap.LevelRenderer.Render"}return d(a,[{key:"destroy",value:function(){this.id=null,this.storage=null,this.painter=null,this.handler=null,this.animatingElements=null,this.animation=null,this._needsRefreshNextFrame=null}},{key:"getId",value:function(){return this.id}},{key:"addShape",value:function(a){return this.storage.addRoot(a),this}},{key:"addGroup",value:function(a){return this.storage.addRoot(a),this}},{key:"delShape",value:function(a){return this.storage.delRoot(a),this}},{key:"delGroup",value:function(a){return this.storage.delRoot(a),this}},{key:"modShape",value:function(a,b){return this.storage.mod(a,b),this}},{key:"modGroup",value:function(a,b){return this.storage.mod(a,b),this}},{key:"modLayer",value:function(a,b){return this.painter.modLayer(a,b),this}},{key:"addHoverShape",value:function(a){return this.storage.addHover(a),this}},{key:"render",value:function(a){return this.painter.render(a),this._needsRefreshNextFrame=!1,this}},{key:"refresh",value:function(a){return this.painter.refresh(a),this._needsRefreshNextFrame=!1,this}},{key:"refreshNextFrame",value:function(){return this._needsRefreshNextFrame=!0,this}},{key:"refreshHover",value:function(a){return this.painter.refreshHover(a),this}},{key:"refreshShapes",value:function(a,b){return this.painter.refreshShapes(a,b),this}},{key:"resize",value:function(){return this.painter.resize(),this}},{key:"animate",value:function(a,b,c){if("string"==typeof a&&(a=this.storage.get(a)),a){var d;if(b){for(var f=b.split("."),g=a,h=0,i=f.length;i>h;h++)g&&(g=g[f[h]]);g&&(d=g)}else d=a;if(!d)return void k.SUtil.Util_log('Property "'+b+'" is not existed in element '+a.id);var j=this.animatingElements;return void 0===a.__aniCount&&(a.__aniCount=0),0===a.__aniCount&&j.push(a),a.__aniCount++,this.animation.animate(d,{loop:c}).done(function(){if(a.__aniCount--,0===a.__aniCount){var b=(new e.Util).indexOf(j,a);j.splice(b,1)}})}k.SUtil.Util_log("Element not existed")}},{key:"clearAnimation",value:function(){this.animation.clear()}},{key:"getWidth",value:function(){return this.painter.getWidth()}},{key:"getHeight",value:function(){return this.painter.getHeight()}},{key:"toDataURL",value:function(a,b,c){return this.painter.toDataURL(a,b,c)}},{key:"shapeToImage",value:function(a,b,c){var d=f.Util.createUniqueID("SuperMap.LevelRenderer.ToImage_");return this.painter.shapeToImage(d,a,b,c)}},{key:"on",value:function(a,b){return this.handler.on(a,b),this}},{key:"un",value:function(a,b){return this.handler.un(a,b),this}},{key:"trigger",value:function(a,b){return this.handler.trigger(a,b),this.handler.dispatch(a,b),this}},{key:"clear",value:function(){return this.storage.delRoot(),this.painter.clear(),this}},{key:"dispose",value:function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=null,this.animatingElements=null,this.storage=null,this.painter=null,this.handler=null}},{key:"updateHoverShapes",value:function(a){return this.painter.updateHoverLayer(a),this}},{key:"getAllShapes",value:function(){return this.storage._shapeList}},{key:"clearAll",value:function(){return this.clear(),this.painter.clearHover(),this}},{key:"getHoverOne",value:function(){return this.handler.getLastHoverOne()}}],[{key:"getFrameCallback",value:function(a){return function(){var b=a.animatingElements;if(b instanceof Array){for(var c=0,d=b.length;d>c;c++)a.storage.mod(b[c].id);(b.length||a._needsRefreshNextFrame)&&a.refresh()}}}}]),a}()},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.RankSymbol=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(32),g=b.RankSymbol=function(a){function b(a,c,d,e,f,g){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var h=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d,e,f,g));return h.setting=null,e&&e.codomain&&(h.setting=e,h.DVBCodomain=h.setting.codomain),h.CLASS_NAME="SuperMap.Feature.Theme.RankSymbol",h}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,f.Graph),d(b,[{key:"destroy",value:function(){this.setting=null,function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0}(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"initBaseParameter",value:function(){if(!this.setting)return!1;var a=this.setting;a.XOffset&&(this.XOffset=a.XOffset),a.YOffset&&(this.YOffset=a.YOffset),this.XOffset=a.XOffset?a.XOffset:0,this.YOffset=a.YOffset?a.YOffset:0,this.origonPoint=[],this.chartBox=[],this.dataViewBox=[],this.DVBParameter=a.dataViewBoxParameter?a.dataViewBoxParameter:[0,0,0,0],this.DVBOrigonPoint=[],this.DVBCenterPoint=[],this.origonPointOffset=[],this.resetLocation();var b=this.width,c=this.height,d=this.location;this.origonPoint=[d[0]-b/2,d[1]-c/2];var e=this.origonPoint;this.chartBox=[e[0],e[1]+c,e[0]+b,e[1]];var f=this.chartBox,g=this.DVBParameter;this.dataViewBox=[f[0]+g[0],f[1]-g[1],f[2]-g[2],f[3]+g[3]];var h=this.dataViewBox;return!(h[0]>=h[2]||h[1]<=h[3]||(this.DVBOrigonPoint=[h[0],h[3]],this.DVBWidth=Math.abs(h[2]-h[0]),this.DVBHeight=Math.abs(h[1]-h[3]),this.DVBCenterPoint=[this.DVBOrigonPoint[0]+this.DVBWidth/2,this.DVBOrigonPoint[1]+this.DVBHeight/2],this.origonPointOffset=[this.DVBOrigonPoint[0]-e[0],this.DVBOrigonPoint[1]-e[1]],0))}}]),b}();e.SuperMap.Feature.Theme.RankSymbol=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SmicSector=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(13),f=c(12);b.SmicSector=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.type="smicsector",c.refOriginalPosition&&2===c.refOriginalPosition.length||(c.refOriginalPosition=[0,0]),c.CLASS_NAME="SuperMap.LevelRenderer.Shape.SmicSector",c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,e.Shape),d(b,[{key:"destroy",value:function(){this.type=null,function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0}(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"buildPath",value:function(a,b){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var c=this.refOriginalPosition,d=b.x+c[0],e=b.y+c[1],g=b.r0||0,h=b.r,i=b.startAngle,j=b.endAngle,k=b.clockWise||!1;i=f.SUtil.Util_math.degreeToRadian(i),j=f.SUtil.Util_math.degreeToRadian(j),k||(i=-i,j=-j);var l=f.SUtil.Util_math.cos(i),m=f.SUtil.Util_math.sin(i);a.moveTo(l*g+d,m*g+e),a.lineTo(l*h+d,m*h+e),a.arc(d,e,h,i,j,!k),a.lineTo(f.SUtil.Util_math.cos(j)*g+d,f.SUtil.Util_math.sin(j)*g+e),0!==g&&a.arc(d,e,g,j,i,k),a.closePath()}},{key:"getRect",value:function(a){if(a.__rect)return a.__rect;this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var b=this.refOriginalPosition,c=f.SUtil.Util_vector.create(),d=f.SUtil.Util_vector.create(),e=f.SUtil.Util_vector.create(),g=f.SUtil.Util_vector.create(),h=a.x+b[0],i=a.y+b[1],j=a.r0||0,k=a.r,l=f.SUtil.Util_math.degreeToRadian(a.startAngle),m=f.SUtil.Util_math.degreeToRadian(a.endAngle),n=a.clockWise;return n||(l=-l,m=-m),j>1?f.SUtil.Util_computeBoundingBox.arc(h,i,j,l,m,!n,c,e):(c[0]=e[0]=h,c[1]=e[1]=i),f.SUtil.Util_computeBoundingBox.arc(h,i,k,l,m,!n,d,g),f.SUtil.Util_vector.min(c,c,d),f.SUtil.Util_vector.max(e,e,g),a.__rect={x:c[0],y:c[1],width:e[0]-c[0],height:e[1]-c[1]},a.__rect}}]),b}()},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SmicCircle=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(13);b.SmicCircle=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.type="smiccircle",c.refOriginalPosition&&2===c.refOriginalPosition.length||(c.refOriginalPosition=[0,0]),c.CLASS_NAME="SuperMap.LevelRenderer.Shape.SmicCircle",c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,e.Shape),d(b,[{key:"destroy",value:function(){this.type=null,function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0}(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"buildPath",value:function(a,b){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var c=this.refOriginalPosition,d=b.x+c[0],e=b.y+c[1];return a.moveTo(d+b.r,e),a.arc(d,e,b.r,0,2*Math.PI,!0),!0}},{key:"getRect",value:function(a){if(a.__rect)return a.__rect;this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var b,c=this.refOriginalPosition,d=a.x+c[0],e=a.y+c[1],f=a.r;return b="stroke"==a.brushType||"fill"==a.brushType?a.lineWidth||1:0,a.__rect={x:Math.round(d-f-b/2),y:Math.round(e-f-b/2),width:2*f+b,height:2*f+b},a.__rect}}]),b}()},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();b.Matrix=function(){function a(){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.ArrayCtor="undefined"==typeof Float32Array?Array:Float32Array,this.CLASS_NAME="SuperMap.LevelRenderer.Tool.Matrix"}return d(a,[{key:"create",value:function(){var a=new this.ArrayCtor(6);return this.identity(a),a}},{key:"identity",value:function(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=1,a[4]=0,a[5]=0,a}},{key:"copy",value:function(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4],a[5]=b[5],a}},{key:"mul",value:function(a,b,c){return a[0]=b[0]*c[0]+b[2]*c[1],a[1]=b[1]*c[0]+b[3]*c[1],a[2]=b[0]*c[2]+b[2]*c[3],a[3]=b[1]*c[2]+b[3]*c[3],a[4]=b[0]*c[4]+b[2]*c[5]+b[4],a[5]=b[1]*c[4]+b[3]*c[5]+b[5],a}},{key:"translate",value:function(a,b,c){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4]+c[0],a[5]=b[5]+c[1],a}},{key:"rotate",value:function(a,b,c){var d=b[0],e=b[2],f=b[4],g=b[1],h=b[3],i=b[5],j=Math.sin(c),k=Math.cos(c);return a[0]=d*k+g*j,a[1]=-d*j+g*k,a[2]=e*k+h*j,a[3]=-e*j+k*h,a[4]=k*f+j*i,a[5]=k*i-j*f,a}},{key:"scale",value:function(a,b,c){var d=c[0],e=c[1];return a[0]=b[0]*d,a[1]=b[1]*e,a[2]=b[2]*d,a[3]=b[3]*e,a[4]=b[4]*d,a[5]=b[5]*e,a}},{key:"invert",value:function(a,b){var c=b[0],d=b[2],e=b[4],f=b[1],g=b[3],h=b[5],i=c*g-f*d;return i?(i=1/i,a[0]=g*i,a[1]=-f*i,a[2]=-d*i,a[3]=c*i,a[4]=(d*h-g*e)*i,a[5]=(f*e-c*h)*i,a):null}},{key:"mulVector",value:function(a,b,c){var d=b[0],e=b[2],f=b[4],g=b[1],h=b[3],i=b[5];return a[0]=c[0]*d+c[1]*e+f,a[1]=c[0]*g+c[1]*h+i,a}}]),a}()},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();b.Math=function(){function a(){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this._radians=window.Math.PI/180,this.CLASS_NAME="SuperMap.LevelRenderer.Tool.Math"}return d(a,[{key:"sin",value:function(a,b){return window.Math.sin(b?a*this._radians:a)}},{key:"cos",value:function(a,b){return window.Math.cos(b?a*this._radians:a)}},{key:"degreeToRadian",value:function(a){return a*this._radians}},{key:"radianToDegree",value:function(a){return a/this._radians}}]),a}()},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Log=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,
"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(73);b.Log=function(){function a(){return function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.CLASS_NAME="SuperMap.LevelRenderer.Tool.Log",function(){if(0!==e.Config.debugMode)if(1==e.Config.debugMode)for(var a in arguments)throw new Error(arguments[a]);else if(e.Config.debugMode>1)for(var b in arguments)console.log(arguments[b])}}return d(a,[{key:"destory",value:function(){return!0}}]),a}()},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();b.Http=function(){function a(){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.CLASS_NAME="SuperMap.LevelRenderer.Tool.Http"}return e(a,[{key:"get",value:function(a,b,c){if("object"===(void 0===a?"undefined":d(a))){var e=a;a=e.url,b=e.onsuccess,c=e.onerror}var f=window.XMLHttpRequest?new XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");f.open("GET",a,!0),f.onreadystatechange=function(){4==f.readyState&&(f.status>=200&&f.status<300||304===f.status?b&&b(f.responseText):c&&c(),f.onreadystatechange=new Function,f=null)},f.send(null)}}]),a}()},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();b.Event=function(){function a(){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.stop="function"==typeof window.addEventListener?function(a){a.preventDefault(),a.stopPropagation(),a.cancelBubble=!0}:function(a){a.returnValue=!1,a.cancelBubble=!0},this.CLASS_NAME="SuperMap.LevelRenderer.Tool.Event"}return d(a,[{key:"getX",value:function(a){return void 0!==a.zrenderX&&a.zrenderX||void 0!==a.offsetX&&a.offsetX||void 0!==a.layerX&&a.layerX||void 0!==a.clientX&&a.clientX}},{key:"getY",value:function(a){return void 0!==a.zrenderY&&a.zrenderY||void 0!==a.offsetY&&a.offsetY||void 0!==a.layerY&&a.layerY||void 0!==a.clientY&&a.clientY}},{key:"getDelta",value:function(a){return void 0!==a.zrenderDelta&&a.zrenderDelta||void 0!==a.wheelDelta&&a.wheelDelta||void 0!==a.detail&&-a.detail}}]),a}()},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();b.Env=function(){function a(){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.CLASS_NAME="SuperMap.LevelRenderer.Tool.Env";var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w=this;return b=navigator.userAgent,c=w.os={},d=w.browser={},e=b.match(/Web[kK]it[\/]{0,1}([\d.]+)/),f=b.match(/(Android);?[\s\/]+([\d.]+)?/),g=b.match(/(iPad).*OS\s([\d_]+)/),h=b.match(/(iPod)(.*OS\s([\d_]+))?/),i=!g&&b.match(/(iPhone\sOS)\s([\d_]+)/),j=b.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),k=j&&b.match(/TouchPad/),l=b.match(/Kindle\/([\d.]+)/),m=b.match(/Silk\/([\d._]+)/),n=b.match(/(BlackBerry).*Version\/([\d.]+)/),o=b.match(/(BB10).*Version\/([\d.]+)/),p=b.match(/(RIM\sTablet\sOS)\s([\d.]+)/),q=b.match(/PlayBook/),r=b.match(/Chrome\/([\d.]+)/)||b.match(/CriOS\/([\d.]+)/),s=b.match(/Firefox\/([\d.]+)/),t=b.match(/MSIE ([\d.]+)/),u=e&&b.match(/Mobile\//)&&!r,v=b.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/)&&!r,(d.webkit=!!e)&&(d.version=e[1]),f&&(c.android=!0,c.version=f[2]),i&&!h&&(c.ios=c.iphone=!0,c.version=i[2].replace(/_/g,".")),g&&(c.ios=c.ipad=!0,c.version=g[2].replace(/_/g,".")),h&&(c.ios=c.ipod=!0,c.version=h[3]?h[3].replace(/_/g,"."):null),j&&(c.webos=!0,c.version=j[2]),k&&(c.touchpad=!0),n&&(c.blackberry=!0,c.version=n[2]),o&&(c.bb10=!0,c.version=o[2]),p&&(c.rimtabletos=!0,c.version=p[2]),q&&(d.playbook=!0),l&&(c.kindle=!0,c.version=l[1]),m&&(d.silk=!0,d.version=m[1]),!m&&c.android&&b.match(/Kindle Fire/)&&(d.silk=!0),r&&(d.chrome=!0,d.version=r[1]),s&&(d.firefox=!0,d.version=s[1]),t&&(d.ie=!0,d.version=t[1]),u&&(b.match(/Safari/)||c.ios)&&(d.safari=!0),v&&(d.webview=!0),t&&(d.ie=!0,d.version=t[1]),c.tablet=!!(g||q||f&&!b.match(/Mobile/)||s&&b.match(/Tablet/)||t&&!b.match(/Phone/)&&b.match(/Touch/)),c.phone=!(c.tablet||c.ipod||!(f||i||j||n||o||r&&b.match(/Android/)||r&&b.match(/CriOS\/([\d.]+)/)||s&&b.match(/Mobile/)||t&&b.match(/Touch/))),{browser:d,os:c,canvasSupported:!!document.createElement("canvas").getContext}}return d(a,[{key:"destory",value:function(){return!0}}]),a}()},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ComputeBoundingBox=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(75),f=c(74);b.ComputeBoundingBox=function(){function a(){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),3===arguments.length&&this.computeBoundingBox(arguments),this.CLASS_NAME="SuperMap.LevelRenderer.Tool.ComputeBoundingBox"}return d(a,[{key:"computeBoundingBox",value:function(a,b,c){if(0!==a.length){for(var d=a[0][0],e=a[0][0],f=a[0][1],g=a[0][1],h=1;h<a.length;h++){var i=a[h];i[0]<d&&(d=i[0]),i[0]>e&&(e=i[0]),i[1]<f&&(f=i[1]),i[1]>g&&(g=i[1])}b[0]=d,b[1]=f,c[0]=e,c[1]=g}}},{key:"cubeBezier",value:function(a,b,c,d,f,g){var h=new e.Curve,i=[];h.cubicExtrema(a[0],b[0],c[0],d[0],i);for(var j=0;j<i.length;j++)i[j]=h.cubicAt(a[0],b[0],c[0],d[0],i[j]);var k=[];h.cubicExtrema(a[1],b[1],c[1],d[1],k);for(var l=0;l<k.length;l++)k[l]=h.cubicAt(a[1],b[1],c[1],d[1],k[l]);i.push(a[0],d[0]),k.push(a[1],d[1]);var m=Math.min.apply(null,i),n=Math.max.apply(null,i),o=Math.min.apply(null,k),p=Math.max.apply(null,k);f[0]=m,f[1]=o,g[0]=n,g[1]=p}},{key:"quadraticBezier",value:function(a,b,c,d,f){var g=new e.Curve,h=g.quadraticExtremum(a[0],b[0],c[0]),i=g.quadraticExtremum(a[1],b[1],c[1]),j=1-(h=Math.max(Math.min(h,1),0)),k=1-(i=Math.max(Math.min(i,1),0)),l=j*j*a[0]+2*j*h*b[0]+h*h*c[0],m=j*j*a[1]+2*j*h*b[1]+h*h*c[1],n=k*k*a[0]+2*k*i*b[0]+i*i*c[0],o=k*k*a[1]+2*k*i*b[1]+i*i*c[1];d[0]=Math.min(a[0],c[0],l,n),d[1]=Math.min(a[1],c[1],m,o),f[0]=Math.max(a[0],c[0],l,n),f[1]=Math.max(a[1],c[1],m,o)}},{key:"arc",value:function(a,b,c,d,e,g,h,i){var j=new f.Vector,k=j.create(),l=j.create(),m=j.create();if(k[0]=Math.cos(d)*c+a,k[1]=Math.sin(d)*c+b,l[0]=Math.cos(e)*c+a,l[1]=Math.sin(e)*c+b,j.min(h,k,l),j.max(i,k,l),(d%=2*Math.PI)<0&&(d+=2*Math.PI),(e%=2*Math.PI)<0&&(e+=2*Math.PI),d>e&&!g?e+=2*Math.PI:e>d&&g&&(d+=2*Math.PI),g){var n=e;e=d,d=n}for(var o=0;e>o;o+=Math.PI/2)o>d&&(m[0]=Math.cos(o)*c+a,m[1]=Math.sin(o)*c+b,j.min(h,m,h),j.max(i,m,i))}}]),a}()},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Area=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(33),f=c(75);b.Area=function(){function a(){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.util=new e.Util,this.curve=new f.Curve,this._ctx=null,this._textWidthCache={},this._textHeightCache={},this._textWidthCacheCounter=0,this._textHeightCacheCounter=0,this.TEXT_CACHE_MAX=5e3,this.PI2=2*Math.PI,this.roots=[-1,-1,-1],this.extrema=[-1,-1],this.CLASS_NAME="SuperMap.LevelRenderer.Tool.Area"}return d(a,[{key:"normalizeRadian",value:function(a){return(a%=this.PI2)<0&&(a+=this.PI2),a}},{key:"isInside",value:function(a,b,c,d){if(!b||!a)return!1;var e=a.type;this._ctx=this._ctx||this.util.getContext();var f=this._mathMethod(a,b,c,d);if(void 0!==f)return f;if(a.buildPath&&this._ctx.isPointInPath)return this._buildPathMethod(a,this._ctx,b,c,d);switch(e){case"ellipse":case"smicellipse":return!0;case"trochoid":var g="out"==b.location?b.r1+b.r2+b.d:b.r1-b.r2+b.d;return this.isInsideCircle(b,c,d,g);case"rose":return this.isInsideCircle(b,c,d,b.maxr);default:return!1}}},{key:"_mathMethod",value:function(a,b,c,d){switch(a.type){case"bezier-curve":return void 0===b.cpX2?this.isInsideQuadraticStroke(b.xStart,b.yStart,b.cpX1,b.cpY1,b.xEnd,b.yEnd,b.lineWidth,c,d):this.isInsideCubicStroke(b.xStart,b.yStart,b.cpX1,b.cpY1,b.cpX2,b.cpY2,b.xEnd,b.yEnd,b.lineWidth,c,d);case"line":return this.isInsideLine(b.xStart,b.yStart,b.xEnd,b.yEnd,b.lineWidth,c,d);case"broken-line":return this.isInsideBrokenLine(b.pointList,b.lineWidth,c,d);case"smicbroken-line":var e=c,f=d;return a.refOriginalPosition&&(e=c-a.refOriginalPosition[0],f=d-a.refOriginalPosition[1]),this.isInsideBrokenLine(b.pointList,b.lineWidth,e,f);case"ring":return this.isInsideRing(b.x,b.y,b.r0,b.r,c,d);case"smicring":var g=b.x,h=b.y;return a.refOriginalPosition&&(g=b.x+a.refOriginalPosition[0],h=b.y+a.refOriginalPosition[1]),this.isInsideRing(g,h,b.r0,b.r,c,d);case"circle":return this.isInsideCircle(b.x,b.y,b.r,c,d);case"smicpoint":var i=c,j=d;return a.refOriginalPosition&&(i=c-a.refOriginalPosition[0],j=d-a.refOriginalPosition[1]),this.isInsideCircle(b.x,b.y,b.r,i,j);case"sector":var k=b.startAngle*Math.PI/180,l=b.endAngle*Math.PI/180;return b.clockWise||(k=-k,l=-l),this.isInsideSector(b.x,b.y,b.r0,b.r,k,l,!b.clockWise,c,d);case"smicsector":var m=b.startAngle*Math.PI/180,n=b.endAngle*Math.PI/180;b.clockWise||(m=-m,n=-n);var o=b.x,p=b.y;return a.refOriginalPosition&&(o=b.x+a.refOriginalPosition[0],p=b.y+a.refOriginalPosition[1]),this.isInsideSector(o,p,b.r0,b.r,m,n,!b.clockWise,c,d);case"path":return this.isInsidePath(b.pathArray,Math.max(b.lineWidth,5),b.brushType,c,d);case"polygon":case"star":case"smicstar":case"isogon":case"smicisogon":return this.isInsidePolygon(b.pointList,c,d);case"smicpolygon":var q=c,r=d;if(a.refOriginalPosition&&(q=c-a.refOriginalPosition[0],r=d-a.refOriginalPosition[1]),a.holePolygonPointLists&&a.holePolygonPointLists.length>0){for(var s=this.isInsidePolygon(b.pointList,q,r),t=a.holePolygonPointLists,u=!1,v=0,w=t.length;w>v;v++){var x=t[v];!0===this.isInsidePolygon(x,q,r)&&(u=!0)}return!0===s&&!1===u}return this.isInsidePolygon(b.pointList,q,r);case"text":var y=b.__rect||a.getRect(b);return this.isInsideRect(y.x,y.y,y.width,y.height,c,d);case"smictext":var z=a.getTextBackground(b);return this.isInsidePolygon(z,c,d);case"rectangle":case"image":return this.isInsideRect(b.x,b.y,b.width,b.height,c,d);case"smicimage":var A=b.x,B=b.y;return a.refOriginalPosition&&(A=b.x+a.refOriginalPosition[0],B=b.y+a.refOriginalPosition[1]),this.isInsideRect(A,B,b.width,b.height,c,d)}}},{key:"_buildPathMethod",value:function(a,b,c,d,e){return b.beginPath(),a.buildPath(b,c),b.closePath(),b.isPointInPath(d,e)}},{key:"isOutside",value:function(a,b,c,d){return!this.isInside(a,b,c,d)}},{key:"isInsideLine",value:function(a,b,c,d,e,f,g){if(0===e)return!1;var h=Math.max(e,5),i=0;if(g>b+h&&g>d+h||b-h>g&&d-h>g||f>a+h&&f>c+h||a-h>f&&c-h>f)return!1;if(a===c)return Math.abs(f-a)<=h/2;var j=(i=(b-d)/(a-c))*f-g+(a*d-c*b)/(a-c);return h/2*h/2>=j*j/(i*i+1)}},{key:"isInsideCubicStroke",value:function(a,b,c,d,e,f,g,h,i,j,k){if(0===i)return!1;var l=Math.max(i,5);return!(k>b+l&&k>d+l&&k>f+l&&k>h+l||b-l>k&&d-l>k&&f-l>k&&h-l>k||j>a+l&&j>c+l&&j>e+l&&j>g+l||a-l>j&&c-l>j&&e-l>j&&g-l>j)&&this.curve.cubicProjectPoint(a,b,c,d,e,f,g,h,j,k,null)<=l/2}},{key:"isInsideQuadraticStroke",value:function(a,b,c,d,e,f,g,h,i){if(0===g)return!1;var j=Math.max(g,5);return!(i>b+j&&i>d+j&&i>f+j||b-j>i&&d-j>i&&f-j>i||h>a+j&&h>c+j&&h>e+j||a-j>h&&c-j>h&&e-j>h)&&this.curve.quadraticProjectPoint(a,b,c,d,e,f,h,i,null)<=j/2}},{key:"isInsideArcStroke",value:function(a,b,c,d,e,f,g,h,i){var j=this.PI2;if(0===g)return!1;var k=Math.max(g,5);h-=a,i-=b;var l=Math.sqrt(h*h+i*i);if(l-k>c||c>l+k)return!1;if(Math.abs(d-e)>=j)return!0;if(f){var m=d;d=this.normalizeRadian(e),e=this.normalizeRadian(m)}else d=this.normalizeRadian(d),e=this.normalizeRadian(e);d>e&&(e+=j);var n=Math.atan2(i,h);return 0>n&&(n+=j),n>=d&&e>=n||n+j>=d&&e>=n+j}},{key:"isInsideBrokenLine",value:function(a,b,c,d){for(var e=Math.max(b,10),f=0,g=a.length-1;g>f;f++){var h=a[f][0],i=a[f][1],j=a[f+1][0],k=a[f+1][1];if(this.isInsideLine(h,i,j,k,e,c,d))return!0}return!1}},{key:"isInsideRing",value:function(a,b,c,d,e,f){var g=(e-a)*(e-a)+(f-b)*(f-b);return d*d>g&&g>c*c}},{key:"isInsideRect",value:function(a,b,c,d,e,f){return e>=a&&a+c>=e&&f>=b&&b+d>=f}},{key:"isInsideCircle",value:function(a,b,c,d,e){return c*c>(d-a)*(d-a)+(e-b)*(e-b)}},{key:"isInsideSector",value:function(a,b,c,d,e,f,g,h,i){return this.isInsideArcStroke(a,b,(c+d)/2,e,f,g,d-c,h,i)}},{key:"isInsidePolygon",value:function(a,b,c){for(var d=a.length,e=0,f=0,g=d-1;d>f;f++){var h=a[g][0],i=a[g][1],j=a[f][0],k=a[f][1];e+=this.windingLine(h,i,j,k,b,c),g=f}return 0!==e}},{key:"windingLine",value:function(a,b,c,d,e,f){return f>b&&f>d||b>f&&d>f?0:d==b?0:(f-b)/(d-b)*(c-a)+a>e?b>d?1:-1:0}},{key:"swapExtrema",value:function(){var a=this.extrema[0];this.extrema[0]=this.extrema[1],this.extrema[1]=a}},{key:"windingCubic",value:function(a,b,c,d,e,f,g,h,i,j){var k=this.curve,l=this.roots,m=this.extrema;if(j>b&&j>d&&j>f&&j>h||b>j&&d>j&&f>j&&h>j)return 0;var n=k.cubicRootAt(b,d,f,h,j,l);if(0===n)return 0;for(var o,p,q=0,r=-1,s=0;n>s;s++){var t=l[s];k.cubicAt(a,c,e,g,t)<i||(0>r&&(r=k.cubicExtrema(b,d,f,h,m),m[1]<m[0]&&r>1&&this.swapExtrema(),o=k.cubicAt(b,d,f,h,m[0]),r>1&&(p=k.cubicAt(b,d,f,h,m[1]))),q+=2==r?t<m[0]?b>o?1:-1:t<m[1]?o>p?1:-1:p>h?1:-1:t<m[0]?b>o?1:-1:o>h?1:-1)}return q}},{key:"windingQuadratic",value:function(a,b,c,d,e,f,g,h){var i=this.curve,j=this.roots;if(h>b&&h>d&&h>f||b>h&&d>h&&f>h)return 0;var k=i.quadraticRootAt(b,d,f,h,j);if(0===k)return 0;var l=i.quadraticExtremum(b,d,f);if(l>=0&&1>=l){for(var m=0,n=i.quadraticAt(b,d,f,l),o=0;k>o;o++)i.quadraticAt(a,c,e,j[o])>g||(m+=j[o]<l?b>n?1:-1:n>f?1:-1);return m}return i.quadraticAt(a,c,e,j[0])>g?0:b>f?1:-1}},{key:"windingArc",value:function(a,b,c,d,e,f,g,h){var i=this.roots,j=this.PI2;if((h-=b)>c||-c>h)return 0;var k=Math.sqrt(c*c-h*h);if(i[0]=-k,i[1]=k,Math.abs(d-e)>=j){d=0,e=j;var l=f?1:-1;return g>=i[0]+a&&g<=i[1]+a?l:0}if(f){var m=d;d=this.normalizeRadian(e),e=this.normalizeRadian(m)}else d=this.normalizeRadian(d),e=this.normalizeRadian(e);d>e&&(e+=j);for(var n=0,o=0;2>o;o++){var p=i[o];if(p+a>g){var q=Math.atan2(h,p),r=f?1:-1;0>q&&(q=j+q),(q>=d&&e>=q||q+j>=d&&e>=q+j)&&(q>Math.PI/2&&q<1.5*Math.PI&&(r=-r),n+=r)}}return n}},{key:"isInsidePath",value:function(a,b,c,d,e){for(var f=0,g=0,h=0,i=0,j=0,k=!0,l=!0,m="stroke"===(c=c||"fill")||"both"===c,n="fill"===c||"both"===c,o=0;o<a.length;o++){var p=a[o],q=p.points;if(k||"M"===p.command){if(o>0&&(n&&(f+=this.windingLine(g,h,i,j,d,e)),0!==f))return!0;i=q[q.length-2],j=q[q.length-1],k=!1,l&&"A"!==p.command&&(l=!1,g=i,h=j)}switch(p.command){case"M":g=q[0],h=q[1];break;case"L":if(m&&this.isInsideLine(g,h,q[0],q[1],b,d,e))return!0;n&&(f+=this.windingLine(g,h,q[0],q[1],d,e)),g=q[0],h=q[1];break;case"C":if(m&&this.isInsideCubicStroke(g,h,q[0],q[1],q[2],q[3],q[4],q[5],b,d,e))return!0;n&&(f+=this.windingCubic(g,h,q[0],q[1],q[2],q[3],q[4],q[5],d,e)),g=q[4],h=q[5];break;case"Q":if(m&&this.isInsideQuadraticStroke(g,h,q[0],q[1],q[2],q[3],b,d,e))return!0;n&&(f+=this.windingQuadratic(g,h,q[0],q[1],q[2],q[3],d,e)),g=q[2],h=q[3];break;case"A":var r=q[0],s=q[1],t=q[2],u=q[3],v=q[4],w=q[5],x=Math.cos(v)*t+r,y=Math.sin(v)*u+s;l?(l=!1,i=x,j=y):f+=this.windingLine(g,h,x,y);var z=(d-r)*u/t+r;if(m&&this.isInsideArcStroke(r,s,u,v,v+w,1-q[7],b,z,e))return!0;n&&(f+=this.windingArc(r,s,u,v,v+w,1-q[7],z,e)),g=Math.cos(v+w)*t+r,h=Math.sin(v+w)*u+s;break;case"z":if(m&&this.isInsideLine(g,h,i,j,b,d,e))return!0;k=!0}}return n&&(f+=this.windingLine(g,h,i,j,d,e)),0!==f}},{key:"getTextWidth",value:function(a,b){var c=a+":"+b;if(this._textWidthCache[c])return this._textWidthCache[c];this._ctx=this._ctx||this.util.getContext(),this._ctx.save(),b&&(this._ctx.font=b);for(var d=0,e=0,f=(a=(a+"").split("\n")).length;f>e;e++)d=Math.max(this._ctx.measureText(a[e]).width,d);return this._ctx.restore(),this._textWidthCache[c]=d,++this._textWidthCacheCounter>this.TEXT_CACHE_MAX&&(this._textWidthCacheCounter=0,this._textWidthCache={}),d}},{key:"getTextHeight",value:function(a,b){var c=a+":"+b;if(this._textHeightCache[c])return this._textHeightCache[c];this._ctx=this._ctx||this.util.getContext(),this._ctx.save(),b&&(this._ctx.font=b),a=(a+"").split("\n");var d=(this._ctx.measureText("ZH").width+2)*a.length;return this._ctx.restore(),this._textHeightCache[c]=d,++this._textHeightCacheCounter>this.TEXT_CACHE_MAX&&(this._textHeightCacheCounter=0,this._textHeightCache={}),d}}]),a}()},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Image=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(26),g=b.Image=function(a){function b(a,c,d,e,f,g,h,i,j){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var k=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d,e,f,g,h,i,j));return k.x=a,k.y=c,k.image=d,k.width=e,k.height=f,k.sx=g,k.sy=h,k.sWidth=i,k.sHeight=j,k.CLASS_NAME="SuperMap.Feature.ShapeParameters.Image",k}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,f.ShapeParameters),d(b,[{key:"destroy",value:function(){this.x=null,this.y=null,this.image=null,this.width=null,this.height=null,this.sx=null,this.sy=null,this.sWidth=null,this.sHeight=null,function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0}(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}}]),b}();e.SuperMap.Feature=e.SuperMap.Feature||{},e.SuperMap.Feature.ShapeParameters.Image=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Rectangle=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(26),g=b.Rectangle=function(a){function b(a,c,d,e){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var f=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d,e));return f.x=isNaN(a)?0:a,f.y=isNaN(a)?0:c,f.width=isNaN(d)?0:d,f.height=isNaN(e)?0:e,f.CLASS_NAME="SuperMap.Feature.ShapeParameters.Rectangle",f}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,f.ShapeParameters),d(b,[{key:"destroy",value:function(){this.x=null,this.y=null,this.width=null,this.height=null,function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0}(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}}]),b}();e.SuperMap.Feature=e.SuperMap.Feature||{},e.SuperMap.Feature.ShapeParameters.Rectangle=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.OnlineServiceBase=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(4),h=c(21),i=b.OnlineServiceBase=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),b=b||{},f.Util.extend(this,b),this.serverType=g.ServerType.ONLINE,this.CLASS_NAME="SuperMap.OnlineServiceBase"}return d(a,[{key:"request",value:function(a,b,c,d){return b=this.createCredentialUrl(b),h.FetchRequest.commit(a,b,c,d).then(function(a){return a.json()})}},{key:"createCredentialUrl",value:function(a){var b=a,c=this.getCredential();if(c){var d="key="+c,e=b.substring(b.length-1,b.length);b+=b.indexOf("?")>-1&&"?"===e?d:b.indexOf("?")>-1&&"?"!==e?"&"+d:"?"+d}return b}},{key:"getCredential",value:function(){}}]),a}();e.SuperMap.OnlineServiceBase=i},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.OnlineData=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(208),h=b.OnlineData=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c=c||{},d.MD5=null,d.type=null,d.userName=null,d.fileName=null,d.size=null,d.serviceStatus=null,d.serviceId=null,d.id=null,d.lastModfiedTime=null,d.status=null,d.storageId=null,d.publishInfo=null,d.authorizeSetting=null,d.nickname=null,d.tags=[],d.description=null,d.dataItemServices=null,d.coordType=null,d.dataCheckResult=null,d.dataMetaInfo=null,d.thumbnail=null,f.Util.extend(d,c),d.id&&(d.serviceUrl=a+"/"+d.id),d.CLASS_NAME="SuperMap.OnlineData",d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g.OnlineServiceBase),d(b,[{key:"load",value:function(){if(this.serviceUrl){var a=this;return a.request("GET",this.serviceUrl).then(function(b){f.Util.extend(a,b)})}}},{key:"getPublishedServices",value:function(){return this.dataItemServices}},{key:"getAuthorizeSetting",value:function(){return this.authorizeSetting}}]),b}();e.SuperMap.OnlineData=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.FilterField=b.DataItemOrderBy=b.DataItemType=b.ServiceStatus=void 0;var d=c(0),e=d.SuperMap.ServiceStatus={DOES_NOT_INVOLVE:"DOES_NOT_INVOLVE",PUBLISH_FAILED:"PUBLISH_FAILED",PUBLISHED:"PUBLISHED",PUBLISHING:"PUBLISHING",UNPUBLISHED:"UNPUBLISHED",UNPUBLISHED_FAILED:"UNPUBLISHED_FAILED"};b.ServiceStatus=e;var f=d.SuperMap.DataItemType={AUDIO:"AUDIO",COLOR:"COLOR",COLORSCHEME:"COLORSCHEME",CSV:"CSV",EXCEL:"EXCEL",FILLSYMBOL:"FILLSYMBOL",IMAGE:"IMAGE",LAYERTEMPLATE:"LAYERTEMPLATE",LAYOUTTEMPLATE:"LAYOUTTEMPLATE",LINESYMBOL:"LINESYMBOL",MAPTEMPLATE:"MAPTEMPLATE",MARKERSYMBOL:"MARKERSYMBOL",MBTILES:"MBTILES",PHOTOS:"PHOTOS",SHP:"SHP",SMTILES:"SMTILES",SVTILES:"SVTILES",THEMETEMPLATE:"THEMETEMPLATE",TPK:"TPK",UDB:"UDB",UGCV5:"UGCV5",UNKNOWN:"UNKNOWN",VIDEO:"VIDEO",WORKENVIRONMENT:"WORKENVIRONMENT",WORKSPACE:"WORKSPACE"};b.DataItemType=f;var g=d.SuperMap.DataItemOrderBy={FILENAME:"FILENAME",ID:"ID",LASTMODIFIEDTIME:"LASTMODIFIEDTIME",NICKNAME:"NICKNAME",SERVICESTATUS:"SERVICESTATUS",SIZE:"SIZE",STATUS:"STATUS",TYPE:"TYPE",UPDATETIME:"UPDATETIME",USERNAME:"USERNAME"};b.DataItemOrderBy=g;var h=d.SuperMap.FilterField={LINKPAGE:"LINKPAGE",MAPTITLE:"MAPTITLE",NICKNAME:"NICKNAME",RESTITLE:"RESTITLE",USERNAME:"USERNAME"};b.FilterField=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.VectorClipJobsParameter=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(4),h=c(20),i=c(19),j=b.VectorClipJobsParameter=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),b=b||{},this.datasetName="",this.datasetVectorClip="",this.geometryClip="",this.mode=g.ClipAnalystMode.CLIP,this.output=null,this.mappingParameters=null,f.Util.extend(this,b),this.CLASS_NAME="SuperMap.VectorClipJobsParameter"}return d(a,[{key:"destroy",value:function(){this.datasetName=null,this.datasetVectorClip=null,this.geometryClip=null,this.mode=null,this.output instanceof h.OutputSetting&&(this.output.destroy(),this.output=null),this.mappingParameters instanceof i.MappingParameters&&(this.mappingParameters.destroy(),this.mappingParameters=null)}}],[{key:"toObject",value:function(a,b){for(var c in a)"datasetName"!==c?"output"!==c?(b.analyst=b.analyst||{},b.analyst[c]=a[c],"mappingParameters"===c&&(b.analyst[c]=b.analyst[c]||{},b.analyst.mappingParameters=a[c])):(b.output=b.output||{},b.output=a[c]):(b.input=b.input||{},b.input[c]=a[c])}}]),a}();e.SuperMap.VectorClipJobsParameter=j},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.UpdateTurnNodeWeightParameters=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=b.UpdateTurnNodeWeightParameters=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),b&&(this.nodeId="",this.fromEdgeId="",this.toEdgeId="",this.weightField="",this.turnNodeWeight="",f.Util.extend(this,b),this.CLASS_NAME="SuperMap.UpdateTurnNodeWeightParameters")}return d(a,[{key:"destroy",value:function(){this.nodeId=null,this.fromEdgeId=null,this.toEdgeId=null,this.weightField=null,this.turnNodeWeight=null}}]),a}();e.SuperMap.UpdateTurnNodeWeightParameters=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.UpdateEdgeWeightParameters=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=b.UpdateEdgeWeightParameters=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),b&&(this.edgeId="",this.fromNodeId="",this.toNodeId="",this.weightField="",this.edgeWeight="",f.Util.extend(this,b),this.CLASS_NAME="SuperMap.UpdateEdgeWeightParameters")}return d(a,[{key:"destroy",value:function(){this.edgeId=null,this.fromNodeId=null,this.toNodeId=null,this.weightField=null,this.edgeWeight=null}}]),a}();e.SuperMap.UpdateEdgeWeightParameters=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.TransferSolutionParameters=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(4),h=b.TransferSolutionParameters=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),b=b||{},this.solutionCount=6,this.transferPreference=g.TransferPreference.NONE,this.transferTactic=g.TransferTactic.LESS_TIME,this.walkingRatio=null,this.points=!1,this.evadeLines=null,this.evadeStops=null,this.priorLines=null,this.priorStops=null,this.travelTime=null,f.Util.extend(this,b),this.CLASS_NAME="SuperMap.TransferSolutionParameters"}return d(a,[{key:"destroy",value:function(){f.Util.reset(this)}}],[{key:"toJson",value:function(a){return a?f.Util.toJSON(a):void 0}}]),a}();e.SuperMap.TransferSolutionParameters=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.TransferPathParameters=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1);c(216);var g=b.TransferPathParameters=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),b=b||{},this.transferLines=null,this.points=null,f.Util.extend(this,b),this.CLASS_NAME="SuperMap.TransferPathParameters"}return d(a,[{key:"destroy",value:function(){f.Util.reset(this)}}],[{key:"toJson",value:function(a){return a?f.Util.toJSON(a):void 0}}]),a}();e.SuperMap.TransferPathParameters=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.TransferLine=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=b.TransferLine=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),b=b||{},this.lineID=null,this.lineName=null,this.lineAliasName=null,this.startStopIndex=null,this.startStopName=null,this.startStopAliasName=null,this.endStopIndex=null,this.endStopName=null,this.endStopAliasName=null,f.Util.extend(this,b),this.CLASS_NAME="SuperMap.TransferLine"}return d(a,[{key:"destroy",value:function(){f.Util.reset(this)}}],[{key:"fromJson",value:function(b){return b?new a({lineID:b.lineID,lineName:b.lineName,lineAliasName:b.lineAliasName,startStopIndex:b.startStopIndex,startStopName:b.startStopName,startStopAliasName:b.startStopAliasName,endStopIndex:b.endStopIndex,endStopName:b.endStopName,endStopAliasName:b.endStopAliasName}):void 0}}]),a}();e.SuperMap.TransferLine=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.TopologyValidatorJobsParameter=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),
Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(4),h=c(20),i=c(19),j=b.TopologyValidatorJobsParameter=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),b&&(this.datasetName="",this.datasetTopology="",this.tolerance="",this.rule=g.TopologyValidatorRule.REGIONNOOVERLAP,this.output=null,this.mappingParameters=null,f.Util.extend(this,b),this.CLASS_NAME="SuperMap.TopologyValidatorJobsParameter")}return d(a,[{key:"destroy",value:function(){this.datasetName=null,this.datasetTopology=null,this.tolerance=null,this.rule=null,this.output instanceof h.OutputSetting&&(this.output.destroy(),this.output=null),this.mappingParameters instanceof i.MappingParameters&&(this.mappingParameters.destroy(),this.mappingParameters=null)}}],[{key:"toObject",value:function(a,b){for(var c in a)"datasetName"!==c?"output"!==c?(b.analyst=b.analyst||{},b.analyst[c]=a[c],"mappingParameters"===c&&(b.analyst[c]=b.analyst[c]||{},b.analyst.mappingParameters=a[c])):(b.output=b.output||{},b.output=a[c]):(b.input=b.input||{},b.input[c]=a[c])}}]),a}();e.SuperMap.TopologyValidatorJobsParameter=j},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ThemeParameters=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1);c(87),c(120),c(119),c(121),c(84),c(118),c(122),c(222),c(220),c(244),c(243),c(242);var g=b.ThemeParameters=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.datasetNames=null,this.dataSourceNames=null,this.joinItems=null,this.themes=null,this.displayFilters=null,this.displayOrderBys=null,this.fieldValuesDisplayFilter=null,b&&f.Util.extend(this,b),this.CLASS_NAME="SuperMap.ThemeParameters"}return d(a,[{key:"destroy",value:function(){var a=this;if(a.datasetNames=null,a.dataSourceNames=null,a.joinItems){for(var b=0,c=a.joinItems,d=c.length;d>b;b++)c[b].destroy();a.joinItems=null}if(a.themes){for(var e=0,f=a.themes,g=f.length;g>e;e++)f[e].destroy();a.themes=null}}}]),a}();e.SuperMap.ThemeParameters=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ThemeGridUniqueItem=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(22),h=b.ThemeGridUniqueItem=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.caption=null,this.color=new g.ServerColor,this.unique=null,this.visible=!0,b&&f.Util.extend(this,b),this.CLASS_NAME="SuperMap.ThemeGridUniqueItem"}return d(a,[{key:"destroy",value:function(){var a=this;a.caption=null,a.unique=null,a.color&&(a.color.destroy(),a.color=null),a.visible=null}},{key:"toServerJSONObject",value:function(){var a={};return(a=f.Util.copyAttributes(a,this)).color&&a.color.toServerJSONObject&&(a.color=a.color.toServerJSONObject()),a}}],[{key:"fromObj",value:function(b){var c=new a;return f.Util.copy(c,b),c.color=g.ServerColor.fromJson(b.color),c}}]),a}();e.SuperMap.ThemeGridUniqueItem=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ThemeGridUnique=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(28),h=c(22),i=c(219),j=b.ThemeGridUnique=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,"GRIDUNIQUE",a));return c.defaultcolor=new h.ServerColor,c.items=null,a&&f.Util.extend(c,a),c.CLASS_NAME="SuperMap.ThemeGridUnique",c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g.Theme),d(b,[{key:"destroy",value:function(){(function d(a,b,c){null===a&&(a=Function.prototype);var e=Object.getOwnPropertyDescriptor(a,b);if(void 0===e){var f=Object.getPrototypeOf(a);return null===f?void 0:d(f,b,c)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(c):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this);var a=this;if(a.items){if(a.items.length>0)for(var c in a.items)a.items[c].destroy(),a.items[c]=null;a.items=null}a.defaultcolor&&(a.defaultcolor.destroy(),a.defaultcolor=null)}},{key:"toServerJSONObject",value:function(){var a={};if((a=f.Util.copyAttributes(a,this)).defaultcolor&&a.defaultcolor.toServerJSONObject&&(a.defaultcolor=a.defaultcolor.toServerJSONObject()),a.items){for(var b=[],c=a.items.length,d=0;c>d;d++)b.push(a.items[d].toServerJSONObject());a.items=b}return a}}],[{key:"fromObj",value:function(a){var c=new b,d=a.items,e=d?d.length:0;f.Util.extend(c,a),c.items=[],c.defaultcolor=h.ServerColor.fromJson(a.defaultcolor);for(var g=0;e>g;g++)c.items.push(i.ThemeGridUniqueItem.fromObj(d[g]));return c}}]),b}();e.SuperMap.ThemeGridUnique=j},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ThemeGridRangeItem=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(22),h=b.ThemeGridRangeItem=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.caption=null,this.color=new g.ServerColor,this.end=0,this.start=0,this.visible=!0,b&&f.Util.extend(this,b),this.CLASS_NAME="SuperMap.ThemeGridRangeItem"}return d(a,[{key:"destroy",value:function(){var a=this;a.caption=null,a.end=null,a.start=null,a.color&&(a.color.destroy(),a.color=null),a.visible=null}},{key:"toServerJSONObject",value:function(){var a={};return(a=f.Util.copyAttributes(a,this)).color&&a.color.toServerJSONObject&&(a.color=a.color.toServerJSONObject()),a}}],[{key:"fromObj",value:function(b){if(b){var c=new a;return f.Util.copy(c,b),c.color=g.ServerColor.fromJson(b.color),c}}}]),a}();e.SuperMap.ThemeGridRangeItem=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ThemeGridRange=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(28),h=c(221),i=c(4),j=b.ThemeGridRange=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,"GRIDRANGE",a));return c.items=null,c.rangeMode=i.RangeMode.EQUALINTERVAL,c.rangeParameter=0,c.colorGradientType=i.ColorGradientType.YELLOW_RED,c.reverseColor=!1,a&&f.Util.extend(c,a),c.CLASS_NAME="SuperMap.ThemeGridRange",c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g.Theme),d(b,[{key:"destroy",value:function(){(function d(a,b,c){null===a&&(a=Function.prototype);var e=Object.getOwnPropertyDescriptor(a,b);if(void 0===e){var f=Object.getPrototypeOf(a);return null===f?void 0:d(f,b,c)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(c):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this);var a=this;if(a.items){if(a.items.length>0)for(var c in a.items)a.items[c].destroy(),a.items[c]=null;a.items=null}a.reverseColor=null,a.rangeMode=null,a.rangeParameter=null,a.colorGradientType=null}}],[{key:"fromObj",value:function(a){if(a){var c=new b;f.Util.copy(c,a);var d=a.items,e=d?d.length:0;c.items=[];for(var g=0;e>g;g++)c.items.push(h.ThemeGridRangeItem.fromObj(d[g]));return c}}}]),b}();e.SuperMap.ThemeGridRange=j},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.TerrainCurvatureCalculationParameters=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=b.TerrainCurvatureCalculationParameters=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),b&&(this.dataset=null,this.zFactor=1,this.averageCurvatureName=null,this.profileCurvatureName="",this.planCurvatureName="",this.deleteExistResultDataset=!1,f.Util.extend(this,b),this.CLASS_NAME="SuperMap.TerrainCurvatureCalculationParameters")}return d(a,[{key:"destroy",value:function(){var a=this;a.dataset=null,a.zFactor=1,a.averageCurvatureName=null,a.profileCurvatureName=null,a.planCurvatureName=null,a.deleteExistResultDataset=!0}}],[{key:"toObject",value:function(a,b){for(var c in a)"dataset"!==c&&(b[c]=a[c])}}]),a}();e.SuperMap.TerrainCurvatureCalculationParameters=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SummaryRegionJobParameter=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(4),h=c(20),i=c(19),j=b.SummaryRegionJobParameter=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),b&&(this.datasetName="",this.regionDataset="",this.sumShape=!0,this.query="",this.standardSummaryFields=!1,this.standardFields="",this.standardStatisticModes="",this.weightedSummaryFields=!1,this.weightedFields="",this.weightedStatisticModes="",this.meshType=0,this.resolution=100,this.meshSizeUnit=g.AnalystSizeUnit.METER,this.type=g.SummaryType.SUMMARYMESH,this.output=null,this.mappingParameters=null,f.Util.extend(this,b),this.CLASS_NAME="SuperMap.SummaryRegionJobParameter")}return d(a,[{key:"destroy",value:function(){this.datasetName=null,this.sumShape=null,this.regionDataset=null,this.query=null,this.standardSummaryFields=null,this.standardFields=null,this.standardStatisticModes=null,this.weightedSummaryFields=null,this.weightedFields=null,this.weightedStatisticModes=null,this.meshType=null,this.resolution=null,this.meshSizeUnit=null,this.type=null,this.output instanceof h.OutputSetting&&(this.output.destroy(),this.output=null),this.mappingParameters instanceof i.MappingParameters&&(this.mappingParameters.destroy(),this.mappingParameters=null)}}],[{key:"toObject",value:function(a,b){for(var c in a)"datasetName"!==c?"type"!==c&&"type"!==c?"output"!==c?("SUMMARYREGION"===a.type||"SUMMARYMESH"===a.type&&"regionDataset"!==c)&&(b.analyst=b.analyst||{},b.analyst[c]="query"===c?a[c].toBBOX():a[c],"mappingParameters"===c&&(b.analyst[c]=b.analyst[c]||{},b.analyst.mappingParameters=a[c])):(b.output=b.output||{},b.output=a[c]):b.type=a[c]:(b.input=b.input||{},b.input[c]=a[c])}}]),a}();e.SuperMap.SummaryRegionJobParameter=j},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SummaryMeshJobParameter=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(4),h=c(20),i=c(19),j=b.SummaryMeshJobParameter=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),b&&(this.datasetName="",this.regionDataset="",this.query="",this.resolution=100,this.meshType=0,this.statisticModes=g.StatisticAnalystMode.AVERAGE,this.fields="",this.type=g.SummaryType.SUMMARYMESH,this.output=null,this.mappingParameters=null,f.Util.extend(this,b),this.CLASS_NAME="SuperMap.SummaryMeshJobParameter")}return d(a,[{key:"destroy",value:function(){this.datasetName=null,this.query=null,this.resolution=null,this.statisticModes=null,this.meshType=null,this.fields=null,this.regionDataset=null,this.type=null,this.output instanceof h.OutputSetting&&(this.output.destroy(),this.output=null),this.mappingParameters instanceof i.MappingParameters&&(this.mappingParameters.destroy(),this.mappingParameters=null)}}],[{key:"toObject",value:function(a,b){function c(a,b){for(var c=a.length;c--;)if(a[c]===b)return!0;return!1}for(var d in a)"datasetName"!==d?"type"!==d?"output"!==d?("SUMMARYMESH"===a.type&&"regionDataset"!==d||"SUMMARYREGION"===a.type&&!c(["meshType","resolution","query"],d))&&(b.analyst=b.analyst||{},b.analyst[d]="query"===d?a[d].toBBOX():a[d],"mappingParameters"===d&&(b.analyst[d]=b.analyst[d]||{},b.analyst.mappingParameters=a[d])):(b.output=b.output||{},b.output=a[d]):b.type=a[d]:(b.input=b.input||{},b.input[d]=a[d])}}]),a}();e.SuperMap.SummaryMeshJobParameter=j},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SummaryAttributesJobsParameter=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(20),h=c(19),i=b.SummaryAttributesJobsParameter=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),b&&(this.datasetName="",this.groupField="",this.attributeField="",this.statisticModes="",this.output=null,this.mappingParameters=null,f.Util.extend(this,b),this.CLASS_NAME="SuperMap.SummaryAttributesJobsParameter")}return d(a,[{key:"destroy",value:function(){this.datasetName=null,this.groupField=null,this.attributeField=null,this.statisticModes=null,this.output instanceof g.OutputSetting&&(this.output.destroy(),this.output=null),this.mappingParameters instanceof h.MappingParameters&&(this.mappingParameters.destroy(),this.mappingParameters=null)}}],[{key:"toObject",value:function(a,b){for(var c in a)"datasetName"!==c?"output"!==c?(b.analyst=b.analyst||{},b.analyst[c]=a[c],"mappingParameters"===c&&(b.analyst[c]=b.analyst[c]||{},b.analyst.mappingParameters=a[c])):(b.output=b.output||{},b.output=a[c]):(b.input=b.input||{},b.input[c]=a[c])}}]),a}();e.SuperMap.SummaryAttributesJobsParameter=i},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.StopQueryParameters=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=b.StopQueryParameters=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),b=b||{},this.keyWord=null,this.returnPosition=!1,f.Util.extend(this,b),this.CLASS_NAME="SuperMap.StopQueryParameters"}return d(a,[{key:"destroy",value:function(){f.Util.reset(this)}}]),a}();e.SuperMap.StopQueryParameters=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SingleObjectQueryJobsParameter=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(4),h=c(20),i=c(19),j=b.SingleObjectQueryJobsParameter=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),b&&(this.datasetName="",this.datasetQuery="",this.geometryQuery="",this.mode=g.SpatialQueryMode.CONTAIN,this.output=null,this.mappingParameters=null,f.Util.extend(this,b),this.CLASS_NAME="SuperMap.SingleObjectQueryJobsParameter")}return d(a,[{key:"destroy",value:function(){this.datasetName=null,this.datasetQuery=null,this.geometryQuery=null,this.mode=null,this.output instanceof h.OutputSetting&&(this.output.destroy(),this.output=null),this.mappingParameters instanceof i.MappingParameters&&(this.mappingParameters.destroy(),this.mappingParameters=null)}}],[{key:"toObject",value:function(a,b){for(var c in a)"datasetName"!==c?"output"!==c?(b.analyst=b.analyst||{},b.analyst[c]=a[c],"mappingParameters"===c&&(b.analyst[c]=b.analyst[c]||{},b.analyst.mappingParameters=a[c])):(b.output=b.output||{},b.output=a[c]):(b.input=b.input||{},b.input[c]=a[c])}}]),a}();e.SuperMap.SingleObjectQueryJobsParameter=j},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SetLayerStatusParameters=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1);c(241);var g=b.SetLayerStatusParameters=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.layerStatusList=[],this.holdTime=15,this.resourceID=null,b&&f.Util.extend(this,b)}return d(a,[{key:"destroy",value:function(){this.layerStatusList=null,this.holdTime=null,this.resourceID=null}},{key:"toJSON",value:function(){var a="{";a+='"layers":[';for(var b=[],c=0,d=this.layerStatusList.length;d>c;c++)b.push(this.layerStatusList[c].toJSON());return a+=b,a+="]",a+="}"}}]),a}();e.SuperMap.SetLayerStatusParameters=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SetLayersInfoParameters=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=b.SetLayersInfoParameters=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),b=b||{},this.isTempLayers=null,this.resourceID=null,this.layersInfo=null,f.Util.extend(this,b),this.CLASS_NAME="SuperMap.SetLayersInfoParameters"}return d(a,[{key:"destroy",value:function(){this.isTempLayers=null,this.resourceID=null,this.layersInfo=null}}]),a}();e.SuperMap.SetLayersInfoParameters=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SetLayerInfoParameters=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=b.SetLayerInfoParameters=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),b=b||{},this.resourceID=null,this.tempLayerName=null,this.layerInfo=null,f.Util.extend(this,b),this.CLASS_NAME="SuperMap.SetLayerInfoParameters"}return d(a,[{key:"destroy",value:function(){this.resourceID=null,this.tempLayerName=null,this.layerInfo=null}}]),a}();e.SuperMap.SetLayerInfoParameters=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.RouteLocatorParameters=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(29);c(89);var h=b.RouteLocatorParameters=function(){function a(b){if(function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),!b)return this;this.sourceRoute=null,this.dataset=null,this.routeIDField=null,this.routeID=null,this.type=null,this.measure=null,this.offset=0,this.isIgnoreGap=!1,this.startMeasure=null,this.endMeasure=null;var c=b.sourceRoute,d={};if(c&&c instanceof g.Geometry&&c.components){d.type=c.type,d.parts=c.parts;for(var e=[],h=0,i=c.components.length;i>h;h++)e=e.concat(c.components[h].components);d.points=e,b.sourceRoute=d}f.Util.extend(this,b),this.CLASS_NAME="SuperMap.RouteLocatorParameters"}return d(a,[{key:"destroy",value:function(){var a=this;a.sourceRoute=null,a.type=null,a.measure=null,a.offset=0,a.isIgnoreGap=!1,a.startMeasure=null,a.endMeasure=null,a.dataset=null,a.routeID=null,a.routeIDField=null}}]),a}();e.SuperMap.RouteLocatorParameters=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.RouteCalculateMeasureParameters=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1);c(89);var g=b.RouteCalculateMeasureParameters=function(){function a(b){return function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),b?(this.sourceRoute=null,this.point=null,this.tolerance=null,this.isIgnoreGap=!1,f.Util.extend(this,b),this.CLASS_NAME="SuperMap.RouteCalculateMeasureParameters",void 0):this}return d(a,[{key:"destroy",value:function(){var a=this;a.sourceRoute=null,a.point=null,a.tolerance&&(a.tolerance=null),a.isIgnoreGap&&(a.isIgnoreGap=!1)}}]),a}();e.SuperMap.RouteCalculateMeasureParameters=g},function(a,b,c){"use strict";function d(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}Object.defineProperty(b,"__esModule",{value:!0}),b.QueryBySQLParameters=void 0;var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=c(0),g=c(1),h=c(39),i=b.QueryBySQLParameters=function(a){function b(a){if(function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b),!a)return d(c);var c=d(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.returnContent=!0,g.Util.extend(c,a),c.CLASS_NAME="SuperMap.QueryBySQLParameters",c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,h.QueryParameters),e(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this),this.returnContent=null}}]),b}();f.SuperMap.QueryBySQLParameters=i},function(a,b,c){"use strict";function d(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}Object.defineProperty(b,"__esModule",{value:!0}),b.QueryByGeometryParameters=void 0;var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=c(0),g=c(1),h=c(39),i=c(4),j=b.QueryByGeometryParameters=function(a){function b(a){if(function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b),!a)return d(c);var c=d(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.returnContent=!0,c.geometry=null,c.spatialQueryMode=i.SpatialQueryMode.INTERSECT,g.Util.extend(c,a),c.CLASS_NAME="SuperMap.QueryByGeometryParameters",c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,h.QueryParameters),e(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this),this.returnContent=null,this.geometry=null,this.spatialQueryMode=null}}]),b}();f.SuperMap.QueryByGeometryParameters=j},function(a,b,c){"use strict";function d(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}Object.defineProperty(b,"__esModule",{value:!0}),b.QueryByDistanceParameters=void 0;var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=c(0),g=c(1),h=c(39),i=b.QueryByDistanceParameters=function(a){function b(a){if(function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b),!a)return d(c);var c=d(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.distance=0,c.geometry=null,c.isNearest=null,c.returnContent=!0,g.Util.extend(c,a),c.CLASS_NAME="SuperMap.QueryByDistanceParameters",c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,h.QueryParameters),e(b,[{key:"destroy",value:function(){(function c(a,b,d){null===a&&(a=Function.prototype);var e=Object.getOwnPropertyDescriptor(a,b);if(void 0===e){var f=Object.getPrototypeOf(a);return null===f?void 0:c(f,b,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this);var a=this;a.returnContent=null,a.distance=null,a.isNearest=null,a.geometry&&(a.geometry.destroy(),a.geometry=null)}}]),b}();f.SuperMap.QueryByDistanceParameters=i},function(a,b,c){"use strict";function d(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}Object.defineProperty(b,"__esModule",{value:!0}),b.QueryByBoundsParameters=void 0;var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=c(0),g=c(1),h=c(39),i=b.QueryByBoundsParameters=function(a){function b(a){if(function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b),!a)return d(c);var c=d(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.returnContent=!0,c.bounds=null,g.Util.extend(c,a),c.CLASS_NAME="SuperMap.QueryByBoundsParameters",c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,h.QueryParameters),e(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this),this.returnContent=null,this.bounds&&(this.bounds=null)}}]),b}();f.SuperMap.QueryByBoundsParameters=i},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.OverlayGeoJobParameter=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(20),h=c(19),i=b.OverlayGeoJobParameter=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),b&&(this.datasetName="",this.datasetOverlay="",this.mode="",this.srcFields="",this.overlayFields="",this.output=null,this.mappingParameters=null,f.Util.extend(this,b),this.CLASS_NAME="SuperMap.OverlayGeoJobParameter")}return d(a,[{key:"destroy",value:function(){this.datasetName=null,this.datasetOverlay=null,this.mode=null,this.srcFields=null,this.overlayFields=null,this.output instanceof g.OutputSetting&&(this.output.destroy(),this.output=null),this.mappingParameters instanceof h.MappingParameters&&(this.mappingParameters.destroy(),this.mappingParameters=null)}}],[{key:"toObject",value:function(a,b){for(var c in a)"datasetName"!=c?"output"!==c?(b.analyst=b.analyst||{},b.analyst[c]=a[c],"mappingParameters"===c&&(b.analyst[c]=b.analyst[c]||{},b.analyst.mappingParameters=a[c])):(b.output=b.output||{},b.output=a[c]):(b.input=b.input||{},b.input[c]=a[c])}}]),a}();e.SuperMap.OverlayGeoJobParameter=i},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.MeasureParameters=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(4),h=b.MeasureParameters=function(){function a(b,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),b&&(this.geometry=b,this.unit=g.Unit.METER,this.prjCoordSys=null,this.distanceMode=null,c&&f.Util.extend(this,c),this.CLASS_NAME="SuperMap.MeasureParameters")}return d(a,[{key:"destroy",value:function(){this.geometry=null,this.unit=null,this.prjCoordSys=null;
}}]),a}();e.SuperMap.MeasureParameters=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.MathExpressionAnalysisParameters=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=b.MathExpressionAnalysisParameters=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),b&&(this.dataset=null,this.extractRegion=null,this.expression=null,this.isZip=!1,this.ignoreNoValue=!1,this.targetDatasource=null,this.resultGridName=null,this.deleteExistResultDataset=!1,f.Util.extend(this,b),this.CLASS_NAME="SuperMap.MathExpressionAnalysisParameters")}return d(a,[{key:"destroy",value:function(){var a=this;a.dataset=null,a.bounds=null,a.expression=null,a.isZip=!0,a.ignoreNoValue=!0,a.targetDatasource=null,a.resultGridName=null,a.deleteExistResultDataset=null}}],[{key:"toObject",value:function(a,b){for(var c in a)if("dataset"!==c&&(b[c]=a[c]),"extractRegion"===c&&a[c]){for(var d=a[c].components[0].components,e={},f=[],g=d.length,h=0;g-1>h;h++){var i={};i.x=d[h].x,i.y=d[h].y,f.push(i)}e.points=f,e.type="REGION",b[c]=e}}}]),a}();e.SuperMap.MathExpressionAnalysisParameters=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.LayerStatus=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=b.LayerStatus=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.layerName=null,this.isVisible=null,this.displayFilter=null,this.fieldValuesDisplayFilter=null,b&&f.Util.extend(this,b),this.CLASS_NAME="SuperMap.LayerStatus"}return d(a,[{key:"destroy",value:function(){this.layerName=null,this.isVisible=null,this.displayFilter=null}},{key:"toJSON",value:function(){var a="{";a+='"type":"UGC",';var b=[];return this.layerName&&(b.push('"name":"'+this.layerName+'"'),b.push('"visible":'+this.isVisible)),this.displayFilter&&b.push('"displayFilter":"'+this.displayFilter+'"'),(this.minScale||0==this.minScale)&&b.push('"minScale":'+this.minScale),(this.maxScale||0==this.maxScale)&&b.push('"maxScale":'+this.maxScale),this.fieldValuesDisplayFilter&&b.push('"fieldValuesDisplayFilter":'+f.Util.toJSON(this.fieldValuesDisplayFilter)),a+=b,a+="}"}}]),a}();e.SuperMap.LayerStatus=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.LabelThemeCell=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(84),h=c(81),i=b.LabelThemeCell=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.themeLabel=new g.ThemeLabel,c.type="THEME",a&&f.Util.extend(c,a),c.CLASS_NAME=" SuperMap.LabelThemeCell",c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,h.LabelMatrixCell),d(b,[{key:"destroy",value:function(){this.themeLabel&&(this.themeLabel.destroy(),this.themeLabel=null)}}]),b}();e.SuperMap.LabelThemeCell=i},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.LabelSymbolCell=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(14),h=c(81),i=b.LabelSymbolCell=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.style=new g.ServerStyle,c.symbolIDField=null,c.type="SYMBOL",a&&f.Util.extend(c,a),c.CLASS_NAME="SuperMap.LabelSymbolCell",c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,h.LabelMatrixCell),d(b,[{key:"destroy",value:function(){this.style&&(this.style.destroy(),this.style=null),this.symbolIDField=null}}]),b}();e.SuperMap.LabelSymbolCell=i},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.LabelImageCell=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(81),h=b.LabelImageCell=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.height=0,c.pathField=null,c.rotation=0,c.width=0,c.sizeFixed=!1,c.type="IMAGE",a&&f.Util.extend(c,a),c.CLASS_NAME="SuperMap.LabelImageCell",c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g.LabelMatrixCell),d(b,[{key:"destroy",value:function(){var a=this;a.height=null,a.pathField=null,a.rotation=null,a.width=null,a.sizeFixed=null}}]),b}();e.SuperMap.LabelImageCell=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.KernelDensityJobParameter=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(4),h=c(20),i=c(19),j=b.KernelDensityJobParameter=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),b&&(this.datasetName="",this.query="",this.resolution=80,this.method=0,this.meshType=0,this.fields="",this.radius=300,this.meshSizeUnit=g.AnalystSizeUnit.METER,this.radiusUnit=g.AnalystSizeUnit.METER,this.areaUnit=g.AnalystAreaUnit.SQUAREMILE,this.output=null,this.mappingParameters=null,f.Util.extend(this,b),this.CLASS_NAME="SuperMap.KernelDensityJobParameter")}return d(a,[{key:"destroy",value:function(){this.datasetName=null,this.query=null,this.resolution=null,this.method=null,this.radius=null,this.meshType=null,this.fields=null,this.meshSizeUnit=null,this.radiusUnit=null,this.areaUnit=null,this.output instanceof h.OutputSetting&&(this.output.destroy(),this.output=null),this.mappingParameters instanceof i.MappingParameters&&(this.mappingParameters.destroy(),this.mappingParameters=null)}}],[{key:"toObject",value:function(a,b){for(var c in a)"datasetName"!==c?"output"!==c?(b.analyst=b.analyst||{},"query"===c&&a[c]?b.analyst[c]=a[c].toBBOX():b.analyst[c]=a[c],"mappingParameters"===c&&(b.analyst[c]=b.analyst[c]||{},b.analyst.mappingParameters=a[c])):(b.output=b.output||{},b.output=a[c]):(b.input=b.input||{},b.input[c]=a[c])}}]),a}();e.SuperMap.KernelDensityJobParameter=j},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.InterpolationKrigingAnalystParameters=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(4);c(85);var h=c(36),i=b.InterpolationKrigingAnalystParameters=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.type=null,c.mean=null,c.angle=0,c.nugget=0,c.range=0,c.sill=0,c.variogramMode=g.VariogramMode.SPHERICAL,c.exponent=g.Exponent.EXP1,c.searchMode=null,c.expectedCount=12,c.maxPointCountForInterpolation=200,c.maxPointCountInNode=50,a&&f.Util.extend(c,a),c.CLASS_NAME="SuperMap.InterpolationKrigingAnalystParameters",c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,h.InterpolationAnalystParameters),d(b,[{key:"destroy",value:function(){(function c(a,b,d){null===a&&(a=Function.prototype);var e=Object.getOwnPropertyDescriptor(a,b);if(void 0===e){var f=Object.getPrototypeOf(a);return null===f?void 0:c(f,b,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this);var a=this;a.type=null,a.mean=null,a.angle=null,a.nugget=null,a.range=null,a.sill=null,a.variogramMode=null,a.exponent=null,a.searchMode=null,a.expectedCount=null,a.maxPointCountForInterpolation=null,a.maxPointCountInNode=null}}]),b}();e.SuperMap.InterpolationKrigingAnalystParameters=i},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.InterpolationIDWAnalystParameters=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(36),h=b.InterpolationIDWAnalystParameters=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.power=2,c.searchMode=null,c.expectedCount=12,a&&f.Util.extend(c,a),c.CLASS_NAME="SuperMap.InterpolationIDWAnalystParameters",c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g.InterpolationAnalystParameters),d(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this),this.power=null,this.searchMode=null,this.expectedCount=null}}]),b}();e.SuperMap.InterpolationIDWAnalystParameters=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.InterpolationRBFAnalystParameters=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(36),h=b.InterpolationRBFAnalystParameters=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.smooth=.1,c.tension=40,c.searchMode=null,c.expectedCount=12,c.maxPointCountForInterpolation=200,c.maxPointCountInNode=50,a&&f.Util.extend(c,a),c.CLASS_NAME="SuperMap.InterpolationRBFAnalystParameters",c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g.InterpolationAnalystParameters),d(b,[{key:"destroy",value:function(){(function c(a,b,d){null===a&&(a=Function.prototype);var e=Object.getOwnPropertyDescriptor(a,b);if(void 0===e){var f=Object.getPrototypeOf(a);return null===f?void 0:c(f,b,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this);var a=this;a.smooth=null,a.tension=null,a.searchMode=null,a.expectedCount=null,a.maxPointCountForInterpolation=null,a.maxPointCountInNode=null}}],[{key:"toObject",value:function(a,b){for(var c in a)b[c]=a[c]}}]),b}();e.SuperMap.InterpolationRBFAnalystParameters=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Vector=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=function k(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:k(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0!==f?f.call(c):void 0},f=c(0),g=c(1),h=c(61),i=c(14),j=b.Vector=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b),a=a||{};var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.style=null,c.CLASS_NAME="SuperMap.Vector",c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,h.UGCSubLayer),d(b,[{key:"destroy",value:function(){e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this),g.Util.reset(this)}},{key:"fromJson",value:function(a){e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"fromJson",this).call(this,a);var c=this.style;c&&(this.style=new i.ServerStyle(c))}},{key:"toServerJSONObject",value:function(){var a=f.SuperMap.toServerJSONObject();return a.style&&a.style.toServerJSONObject&&(a.style=a.style.toServerJSONObject()),a}}]),b}();f.SuperMap.Vector=j},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.UGCImage=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=function k(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:k(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0!==f?f.call(c):void 0},f=c(0),g=c(61),h=c(22),i=c(1);c(4);var j=b.UGCImage=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b),a=a||{};var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.brightness=null,c.colorSpaceType=null,c.contrast=null,c.displayBandIndexes=null,c.transparent=null,c.transparentColor=null,c.transparentColorTolerance=null,c.CLASS_NAME="SuperMap.Image",c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g.UGCSubLayer),d(b,[{key:"destroy",value:function(){e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this),i.Util.reset(this)}},{key:"fromJson",value:function(a){e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"fromJson",this).call(this,a),this.transparentColor&&(this.transparentColor=new h.ServerColor(this.transparentColor.red,this.transparentColor.green,this.transparentColor.blue))}},{key:"toServerJSONObject",value:function(){return e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"toServerJSONObject",this).call(this)}}]),b}();f.SuperMap.Image=j},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Grid=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=function m(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:m(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0!==f?f.call(c):void 0},f=c(0),g=c(1),h=c(61),i=c(22),j=c(14),k=c(299);c(4);var l=b.Grid=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b),a=a||{};var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.colorDictionarys=null,c.brightness=null,c.colorGradientType=null,c.colors=null,c.contrast=null,c.dashStyle=null,c.gridType=null,c.horizontalSpacing=null,c.sizeFixed=null,c.solidStyle=null,c.specialColor=null,c.specialValue=null,c.specialValueTransparent=null,c.verticalSpacing=null,c.CLASS_NAME="SuperMap.Grid",c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,h.UGCSubLayer),d(b,[{key:"destroy",value:function(){e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this),g.Util.reset(this)}},{key:"fromJson",value:function(a){if(e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"fromJson",this).call(this,a),this.specialColor&&(this.specialColor=new i.ServerColor(this.specialColor.red,this.specialColor.green,this.specialColor.blue)),this.colors){var c,d=[];for(var f in this.colors)c=this.colors[f],d.push(new i.ServerColor(c.red,c.green,c.blue));this.colors=d}if(this.dashStyle&&(this.dashStyle=new j.ServerStyle(this.dashStyle)),this.solidStyle&&(this.solidStyle=new j.ServerStyle(this.solidStyle)),this.colorDictionary){var g,h=[];for(var l in this.colorDictionary)g=this.colorDictionary[l],h.push(new k.ColorDictionary({elevation:l,color:g}));this.colorDictionarys=h}delete this.colorDictionary}},{key:"toServerJSONObject",value:function(){var a=e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"toServerJSONObject",this).call(this);return a.dashStyle&&a.dashStyle.toServerJSONObject&&(a.dashStyle=a.dashStyle.toServerJSONObject()),a.solidStyle&&a.solidStyle.toServerJSONObject&&(a.solidStyle=a.solidStyle.toServerJSONObject()),a}}]),b}();f.SuperMap.Grid=l},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.OverlapDisplayedOptions=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(117),h=b.OverlapDisplayedOptions=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),b=b||{},this.allowPointOverlap=!0,this.allowPointWithTextDisplay=!0,this.allowTextOverlap=!1,this.allowTextAndPointOverlap=!0,this.allowThemeGraduatedSymbolOverlap=!1,this.allowThemeGraphOverlap=!1,this.horizontalOverlappedSpaceSize=0,this.verticalOverlappedSpaceSize=0,f.Util.extend(this,b),this.ugcLayer=new g.UGCLayer(b),this.CLASS_NAME="SuperMap.OverlapDisplayedOptions"}return d(a,[{key:"destroy",value:function(){f.Util.reset(this)}},{key:"fromJson",value:function(a){this.ugcLayer.fromJson.apply(this,[a])}},{key:"toServerJSONObject",value:function(){return this.ugcLayer.toServerJSONObject.apply(this,arguments)}},{key:"toString",value:function(){var a=this.ugcLayer.toServerJSONObject.apply(this,arguments),b="{";for(var c in a)a.hasOwnProperty(c)&&(b+="'"+c+"':"+a[c]+",");return b=b.substr(0,b.length-1),b+="}"}}]),a}();e.SuperMap.OverlapDisplayedOptions=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.UGCMapLayer=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=function j(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:j(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0!==f?f.call(c):void 0},f=c(0),g=c(1),h=c(117);c(252);var i=b.UGCMapLayer=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b),a=a||{};var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.completeLineSymbolDisplayed=null,c.maxScale=null,c.minScale=null,c.minVisibleGeometrySize=null,c.opaqueRate=null,c.symbolScalable=null,c.symbolScale=null,c.overlapDisplayed=null,c.overlapDisplayedOptions=null,c.CLASS_NAME="SuperMap.UGCMapLayer",c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,h.UGCLayer),d(b,[{key:"destroy",value:function(){e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this),g.Util.reset(this)}},{key:"fromJson",value:function(a){e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"fromJson",this).call(this,a)}},{key:"toServerJSONObject",value:function(){return e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"toServerJSONObject",this).call(this)}}]),b}();f.SuperMap.UGCMapLayer=i},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ThemeRangeItem=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(14),h=b.ThemeRangeItem=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.caption=null,this.end=0,this.start=0,this.style=new g.ServerStyle,this.visible=!0,b&&f.Util.extend(this,b),this.CLASS_NAME="SuperMap.ThemeRangeItem"}return d(a,[{key:"destroy",value:function(){var a=this;a.caption=null,a.end=null,a.start=null,a.style&&(a.style.destroy(),a.style=null),a.visible=null}},{key:"toServerJSONObject",value:function(){var a={};return(a=f.Util.copyAttributes(a,this)).style&&a.style.toServerJSONObject&&(a.style=a.style.toServerJSONObject()),a}}],[{key:"fromObj",value:function(b){if(b){var c=new a;return f.Util.copy(c,b),c.style=g.ServerStyle.fromJson(b.style),c}}}]),a}();e.SuperMap.ThemeRangeItem=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ThemeGraduatedSymbolStyle=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(14),g=c(1),h=b.ThemeGraduatedSymbolStyle=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.negativeDisplayed=!1,this.negativeStyle=new f.ServerStyle,this.positiveStyle=new f.ServerStyle,this.zeroDisplayed=!1,this.zeroStyle=new f.ServerStyle,b&&g.Util.extend(this,b),this.CLASS_NAME="SuperMap.ThemeGraduatedSymbolStyle"}return d(a,[{key:"destroy",value:function(){var a=this;a.negativeDisplayed=null,a.negativeStyle=null,a.positiveStyle=null,a.zeroDisplayed=null,a.zeroStyle=null}}],[{key:"fromObj",value:function(b){if(b){var c=new a;return g.Util.copy(c,b),c.negativeStyle=f.ServerStyle.fromJson(b.negativeStyle),c.positiveStyle=f.ServerStyle.fromJson(b.positiveStyle),c.zeroStyle=f.ServerStyle.fromJson(b.zeroStyle),c}}}]),a}();e.SuperMap.ThemeGraduatedSymbolStyle=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ThemeGraphItem=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(14),h=b.ThemeGraphItem=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.caption=null,this.graphExpression=null,this.memoryDoubleValues=null,this.uniformStyle=new g.ServerStyle,b&&f.Util.extend(this,b),this.CLASS_NAME="SuperMap.ThemeGraphItem"}return d(a,[{key:"destroy",value:function(){this.caption=null,this.graphExpression=null,this.memoryDoubleValues=null,this.uniformStyle=null}}],[{key:"fromObj",value:function(b){if(b){var c=new a;return f.Util.copy(c,b),c.uniformStyle=g.ServerStyle.fromJson(b.uniformStyle),c}}}]),a}();e.SuperMap.ThemeGraphItem=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ThemeGraphText=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(37),h=c(4),i=b.ThemeGraphText=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.graphTextDisplayed=!1,this.graphTextFormat=h.ThemeGraphTextFormat.CAPTION,this.graphTextStyle=new g.ServerTextStyle,b&&f.Util.extend(this,b),this.CLASS_NAME="SuperMap.ThemeGraphText"}return d(a,[{key:"destroy",value:function(){var a=this;a.graphTextDisplayed=null,a.graphTextFormat=null,a.graphTextStyle&&(a.graphTextStyle.destroy(),a.graphTextStyle=null)}}],[{key:"fromObj",value:function(b){var c=new a;return f.Util.copy(c,b),c.graphTextStyle=g.ServerTextStyle.fromObj(b.graphTextStyle),c}}]),a}();e.SuperMap.ThemeGraphText=i},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ThemeGraphSize=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=b.ThemeGraphSize=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.maxGraphSize=0,this.minGraphSize=0,b&&f.Util.extend(this,b),this.CLASS_NAME="SuperMap.ThemeGraphSize"}return d(a,[{key:"destroy",value:function(){this.maxGraphSize=null,this.minGraphSize=null}}],[{key:"fromObj",value:function(b){var c=new a;return f.Util.copy(c,b),c}}]),a}();e.SuperMap.ThemeGraphSize=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ThemeGraphAxes=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(22),h=c(37),i=b.ThemeGraphAxes=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.axesColor=new g.ServerColor(0,0,0),this.axesDisplayed=!1,this.axesGridDisplayed=!1,this.axesTextDisplayed=!1,this.axesTextStyle=new h.ServerTextStyle,b&&f.Util.extend(this,b),this.CLASS_NAME="SuperMap.ThemeGraphAxes"}return d(a,[{key:"destroy",value:function(){var a=this;a.axesColor&&(a.axesColor.destroy(),a.axesColor=null),a.axesDisplayed=null,a.axesGridDisplayed=null,a.axesTextDisplayed=null,a.axesTextStyle&&(a.axesTextStyle.destroy(),a.axesTextStyle=null)}}],[{key:"fromObj",value:function(b){if(b){var c=new a;return f.Util.copy(c,b),c.axesColor=g.ServerColor.fromJson(b.axesColor),c.axesTextStyle=h.ServerTextStyle.fromObj(b.axesTextStyle),c}}}]),a}();e.SuperMap.ThemeGraphAxes=i},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ThemeLabelBackground=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(14),h=c(4),i=b.ThemeLabelBackground=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.labelBackShape=h.LabelBackShape.NONE,
this.backStyle=new g.ServerStyle,b&&f.Util.extend(this,b),this.CLASS_NAME="SuperMap.ThemeLabelBackground"}return d(a,[{key:"destroy",value:function(){this.labelBackShape=null,this.backStyle&&(this.backStyle.destroy(),this.backStyle=null)}}],[{key:"fromObj",value:function(b){if(b){var c=new a;return c.labelBackShape=b.labelBackShape,c.backStyle=g.ServerStyle.fromJson(b.backStyle),c}}}]),a}();e.SuperMap.ThemeLabelBackground=i},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ThemeLabelAlongLine=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(4),h=b.ThemeLabelAlongLine=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.isAlongLine=!0,this.alongLineDirection=g.AlongLineDirection.LB_TO_RT,this.angleFixed=!1,this.repeatedLabelAvoided=!1,this.repeatIntervalFixed=!1,this.labelRepeatInterval=0,b&&f.Util.extend(this,b),this.CLASS_NAME="SuperMap.ThemeLabelAlongLine"}return d(a,[{key:"destroy",value:function(){var a=this;a.isAlongLine=null,a.alongLineDirection=null,a.angleFixed=null,a.repeatedLabelAvoided=null,a.repeatIntervalFixed=null,a.labelRepeatInterval=null}}],[{key:"fromObj",value:function(b){if(b){var c=new a;return f.Util.copy(c,b),c}}}]),a}();e.SuperMap.ThemeLabelAlongLine=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.LabelMixedTextStyle=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(37),h=b.LabelMixedTextStyle=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.defaultStyle=null,this.separator=null,this.separatorEnabled=!1,this.splitIndexes=null,this.styles=new g.ServerTextStyle,b&&f.Util.extend(this,b),this.CLASS_NAME="SuperMap.LabelMixedTextStyle"}return d(a,[{key:"destroy",value:function(){var a=this;if(a.defaultStyle&&(a.defaultStyle.destroy(),a.defaultStyle=null),a.separator=null,a.separatorEnabled=null,a.splitIndexes&&(a.splitIndexes=null),a.styles){for(var b=0,c=a.styles,d=c.length;d>b;b++)c[b].destroy();a.styles=null}}}],[{key:"fromObj",value:function(b){if(b){var c=new a,d=b.styles;if(f.Util.copy(c,b),c.defaultStyle=new g.ServerTextStyle(b.defaultStyle),d){c.styles=[];for(var e=0,h=d.length;h>e;e++)c.styles.push(new g.ServerTextStyle(d[e]))}return c}}}]),a}();e.SuperMap.LabelMixedTextStyle=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ThemeLabelText=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(37),h=c(262),i=b.ThemeLabelText=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.maxTextHeight=0,this.maxTextWidth=0,this.minTextHeight=0,this.minTextWidth=0,this.uniformStyle=new g.ServerTextStyle,this.uniformMixedStyle=null,b&&f.Util.extend(this,b),this.CLASS_NAME="SuperMap.ThemeLabelText"}return d(a,[{key:"destroy",value:function(){var a=this;a.maxTextHeight=null,a.maxTextWidth=null,a.minTextHeight=null,a.minTextWidth=null,a.uniformStyle&&(a.uniformStyle.destroy(),a.uniformStyle=null),a.uniformMixedStyle&&(a.uniformMixedStyle.destroy(),a.uniformMixedStyle=null)}}],[{key:"fromObj",value:function(b){if(b){var c=new a;return f.Util.copy(c,b),c.uniformStyle=g.ServerTextStyle.fromObj(b.uniformStyle),c.uniformMixedStyle=h.LabelMixedTextStyle.fromObj(b.uniformMixedStyle),c}}}]),a}();e.SuperMap.ThemeLabelText=i},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ThemeLabelItem=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(37),h=b.ThemeLabelItem=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.caption=null,this.end=0,this.start=0,this.visible=!0,this.style=new g.ServerTextStyle,b&&f.Util.extend(this,b),this.CLASS_NAME="SuperMap.ThemeLabelItem"}return d(a,[{key:"destroy",value:function(){var a=this;a.caption=null,a.end=null,a.start=null,a.style&&(a.style.destroy(),a.style=null),a.visible=null}}],[{key:"fromObj",value:function(b){if(b){var c=new a;return f.Util.copy(c,b),c}}}]),a}();e.SuperMap.ThemeLabelItem=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ThemeMemoryData=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=b.ThemeMemoryData=function(){function a(b,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.srcData=b,this.targetData=c,this.CLASS_NAME="SuperMap.ThemeMemoryData"}return d(a,[{key:"destroy",value:function(){this.srcData=null,this.targetData=null}},{key:"toJSON",value:function(){if(this.srcData&&this.targetData){for(var a="",b=Math.min(this.srcData.length,this.targetData.length),c=0;b>c;c++)a+="'"+this.srcData[c]+"':'"+this.targetData[c]+"',";return c>0&&(a=a.substring(0,a.length-1)),"{"+a+"}"}return null}}]),a}();e.SuperMap.ThemeMemoryData=f},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ServerTheme=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=function q(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:q(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0!==f?f.call(c):void 0},f=c(0),g=c(1),h=c(49),i=c(84),j=c(122),k=c(121),l=c(120),m=c(119),n=c(118),o=c(61),p=b.ServerTheme=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b),a=a||{};var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.theme=null,c.themeElementPosition=null,c.CLASS_NAME="SuperMap.ServerTheme",c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,o.UGCSubLayer),d(b,[{key:"destroy",value:function(){e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this),g.Util.reset(this)}},{key:"fromJson",value:function(a){e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"fromJson",this).call(this,a);var c=this.theme;switch(c&&c.type){case"LABEL":this.theme=i.ThemeLabel.fromObj(c);break;case"UNIQUE":this.theme=j.ThemeUnique.fromObj(c);break;case"GRAPH":this.theme=k.ThemeGraph.fromObj(c);break;case"DOTDENSITY":this.theme=l.ThemeDotDensity.fromObj(c);break;case"GRADUATEDSYMBOL":this.theme=m.ThemeGraduatedSymbol.fromObj(c);break;case"RANGE":this.theme=n.ThemeRange.fromObj(c)}this.themeElementPosition&&(this.themeElementPosition=new h.LonLat(this.themeElementPosition.x,this.themeElementPosition.y))}},{key:"toServerJSONObject",value:function(){var a=e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"toServerJSONObject",this).call(this);return a.themeElementPosition&&a.themeElementPosition.toServerJSONObject&&(a.themeElementPosition=a.themeElementPosition.toServerJSONObject()),a.theme&&a.theme.toServerJSONObject&&(a.theme=a.theme.toServerJSONObject()),a}}]),b}();f.SuperMap.ServerTheme=p},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.GetGridCellInfosParameters=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=b.GetGridCellInfosParameters=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.datasetName=null,this.dataSourceName=null,this.X=null,this.Y=null,f.Util.extend(this,b),this.CLASS_NAME="SuperMap.GetGridCellInfosParameters"}return d(a,[{key:"destroy",value:function(){this.datasetName=null,this.dataSourceName=null,this.X=null,this.Y=null}}]),a}();e.SuperMap.GetGridCellInfosParameters=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.GetFeaturesBySQLParameters=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(46);c(16);var h=b.GetFeaturesBySQLParameters=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.getFeatureMode="SQL",c.queryParameter=null,f.Util.extend(c,a),c.CLASS_NAME="SuperMap.GetFeaturesBySQLParameters",c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g.GetFeaturesParametersBase),d(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this),this.getFeatureMode=null,this.queryParameter&&(this.queryParameter.destroy(),this.queryParameter=null)}}],[{key:"toJsonParameters",value:function(a){var b={datasetNames:a.datasetNames,getFeatureMode:"SQL",queryParameter:a.queryParameter};return a.maxFeatures&&!isNaN(a.maxFeatures)&&(b.maxFeatures=a.maxFeatures),a.aggregations&&(b.aggregations=a.aggregations),f.Util.toJSON(b)}}]),b}();e.SuperMap.GetFeaturesBySQLParameters=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.GetFeaturesByIDsParameters=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(16),h=c(46),i=b.GetFeaturesByIDsParameters=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.getFeatureMode="ID",c.IDs=null,c.fields=null,f.Util.extend(c,a),c.CLASS_NAME="SuperMap.GetFeaturesByIDsParameters",c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,h.GetFeaturesParametersBase),d(b,[{key:"destroy",value:function(){(function c(a,b,d){null===a&&(a=Function.prototype);var e=Object.getOwnPropertyDescriptor(a,b);if(void 0===e){var f=Object.getPrototypeOf(a);return null===f?void 0:c(f,b,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this);var a=this;if(a.IDs=null,a.getFeatureMode=null,a.fields){for(;a.fields.length>0;)a.fields.pop();a.fields=null}}}],[{key:"toJsonParameters",value:function(a){var b,c;return b={datasetNames:a.datasetNames,getFeatureMode:"ID",ids:a.IDs},a.fields&&((c=new g.FilterParameter).name=a.datasetNames,c.fields=a.fields,b.queryParameter=c),f.Util.toJSON(b)}}]),b}();e.SuperMap.GetFeaturesByIDsParameters=i},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.GetFeaturesByGeometryParameters=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(4),h=c(16),i=c(46),j=c(9),k=b.GetFeaturesByGeometryParameters=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.getFeatureMode="SPATIAL",c.geometry=null,c.fields=null,c.attributeFilter=null,c.spatialQueryMode=g.SpatialQueryMode.CONTAIN,f.Util.extend(c,a),c.CLASS_NAME="SuperMap.GetFeaturesByGeometryParameters",c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,i.GetFeaturesParametersBase),d(b,[{key:"destroy",value:function(){(function c(a,b,d){null===a&&(a=Function.prototype);var e=Object.getOwnPropertyDescriptor(a,b);if(void 0===e){var f=Object.getPrototypeOf(a);return null===f?void 0:c(f,b,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this);var a=this;if(a.geometry&&(a.geometry.destroy(),a.geometry=null),a.fields){for(;a.fields.length>0;)a.fields.pop();a.fields=null}a.attributeFilter=null,a.spatialQueryMode=null,a.getFeatureMode=null}}],[{key:"toJsonParameters",value:function(a){var b,c,d;return c=j.ServerGeometry.fromGeometry(a.geometry),d={datasetNames:a.datasetNames,getFeatureMode:"SPATIAL",geometry:c,spatialQueryMode:a.spatialQueryMode},a.fields&&((b=new h.FilterParameter).name=a.datasetNames,b.fields=a.fields,d.queryParameter=b),a.attributeFilter&&(d.attributeFilter=a.attributeFilter,d.getFeatureMode="SPATIAL_ATTRIBUTEFILTER"),a.maxFeatures&&!isNaN(a.maxFeatures)&&(d.maxFeatures=a.maxFeatures),f.Util.toJSON(d)}}]),b}();e.SuperMap.GetFeaturesByGeometryParameters=k},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.GetFeaturesByBufferParameters=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(46),h=c(16),i=c(9),j=b.GetFeaturesByBufferParameters=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.bufferDistance=null,c.attributeFilter=null,c.geometry=null,c.fields=null,f.Util.extend(c,a),c.CLASS_NAME="SuperMap.GetFeaturesByBufferParameters",c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g.GetFeaturesParametersBase),d(b,[{key:"destroy",value:function(){(function c(a,b,d){null===a&&(a=Function.prototype);var e=Object.getOwnPropertyDescriptor(a,b);if(void 0===e){var f=Object.getPrototypeOf(a);return null===f?void 0:c(f,b,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this);var a=this;if(a.bufferDistance=null,a.attributeFilter=null,a.fields){for(;a.fields.length>0;)a.fields.pop();a.fields=null}a.geometry&&(a.geometry.destroy(),a.geometry=null)}}],[{key:"toJsonParameters",value:function(a){var b,c,d;return d=i.ServerGeometry.fromGeometry(a.geometry),c={datasetNames:a.datasetNames,getFeatureMode:"BUFFER",bufferDistance:a.bufferDistance,geometry:d},a.fields&&((b=new h.FilterParameter).name=a.datasetNames,b.fields=a.fields,c.queryParameter=b),a.attributeFilter&&(c.attributeFilter=a.attributeFilter,c.getFeatureMode="BUFFER_ATTRIBUTEFILTER"),a.maxFeatures&&!isNaN(a.maxFeatures)&&(c.maxFeatures=a.maxFeatures),f.Util.toJSON(c)}}]),b}();e.SuperMap.GetFeaturesByBufferParameters=j},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.GetFeaturesByBoundsParameters=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(4),h=c(16),i=c(46),j=b.GetFeaturesByBoundsParameters=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.getFeatureMode=b.getFeatureMode.BOUNDS,c.bounds=null,c.fields=null,c.attributeFilter=null,c.spatialQueryMode=g.SpatialQueryMode.CONTAIN,f.Util.extend(c,a),c.CLASS_NAME="SuperMap.GetFeaturesByBoundsParameters",c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,i.GetFeaturesParametersBase),d(b,[{key:"destroy",value:function(){(function c(a,b,d){null===a&&(a=Function.prototype);var e=Object.getOwnPropertyDescriptor(a,b);if(void 0===e){var f=Object.getPrototypeOf(a);return null===f?void 0:c(f,b,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this);var a=this;if(a.bounds&&(a.bounds.destroy(),a.bounds=null),a.fields){for(;a.fields.length>0;)a.fields.pop();a.fields=null}a.attributeFilter=null,a.spatialQueryMode=null,a.getFeatureMode=null}}],[{key:"toJsonParameters",value:function(a){var c,d,e;return d={leftBottom:{x:a.bounds.left,y:a.bounds.bottom},rightTop:{x:a.bounds.right,y:a.bounds.top}},e={datasetNames:a.datasetNames,getFeatureMode:b.getFeatureMode.BOUNDS,bounds:d,spatialQueryMode:a.spatialQueryMode},a.fields&&((c=new h.FilterParameter).name=a.datasetNames,c.fields=a.fields,e.queryParameter=c),a.attributeFilter&&(e.attributeFilter=a.attributeFilter,e.getFeatureMode=b.getFeatureMode.BOUNDS_ATTRIBUTEFILTER),a.maxFeatures&&!isNaN(a.maxFeatures)&&(e.maxFeatures=a.maxFeatures),f.Util.toJSON(e)}}]),b}();j.getFeatureMode={BOUNDS:"BOUNDS",BOUNDS_ATTRIBUTEFILTER:"BOUNDS_ATTRIBUTEFILTER"},e.SuperMap.GetFeaturesByBoundsParameters=j},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.GeoRelationAnalystParameters=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1);c(4),c(16);var g=b.GeoRelationAnalystParameters=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.dataset=null,this.sourceFilter=null,this.referenceFilter=null,this.spatialRelationType=null,this.isBorderInside=null,this.returnFeature=null,this.returnGeoRelatedOnly=null,this.startRecord=0,this.expectCount=500,b&&f.Util.extend(this,b),this.CLASS_NAME="SuperMap.GeoRelationAnalystParameters"}return d(a,[{key:"destroy",value:function(){var a=this;a.sourceFilter&&a.sourceFilter.destroy(),a.sourceFilter=null,a.referenceFilter&&a.referenceFilter.destroy(),a.referenceFilter=null,a.dataset=null,a.spatialRelationType=null,a.isBorderInside=null,a.returnFeature=null,a.returnGeoRelatedOnly=null,a.startRecord=null,a.expectCount=null}}]),a}();e.SuperMap.GeoRelationAnalystParameters=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.GeometrySurfaceAnalystParameters=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(86),h=b.GeometrySurfaceAnalystParameters=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.points=null,c.zValues=null,a&&f.Util.extend(c,a),c.CLASS_NAME="SuperMap.GeometrySurfaceAnalystParameters",c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g.SurfaceAnalystParameters),d(b,[{key:"destroy",value:function(){if(function e(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var f=Object.getPrototypeOf(a);return null===f?void 0:e(f,b,c)}if("value"in d)return d.value;var g=d.get;return void 0!==g?g.call(c):void 0}(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this),this.points){for(var a=0,c=this.points,d=c.length;d>a;a++)c[a].destroy();this.points=null}this.zValues=null}}]),b}();e.SuperMap.GeometrySurfaceAnalystParameters=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.GenerateSpatialDataParameters=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1);c(62);var g=b.GenerateSpatialDataParameters=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.routeTable=null,this.routeIDField=null,this.attributeFilter=null,this.eventTable=null,this.eventRouteIDField=null,this.measureField=null,this.measureStartField=null,this.measureEndField=null,this.measureOffsetField=null,this.errorInfoField=null,this.retainedFields=null,this.dataReturnOption=null,b&&f.Util.extend(this,b),this.CLASS_NAME="SuperMap.GenerateSpatialDataParameters"}return d(a,[{key:"destroy",value:function(){var a=this;a.routeTable&&(a.routeTable=null),a.routeIDField=null,a.attributeFilter=null,a.eventTable=null,a.eventRouteIDField=null,a.measureField=null,a.measureStartField=null,a.measureEndField=null,a.measureOffsetField=null,a.errorInfoField=null,a.dataReturnOption&&(a.dataReturnOption.destroy(),a.dataReturnOption=null)}}]),a}();e.SuperMap.GenerateSpatialDataParameters=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.FindTSPPathsParameters=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(38),h=b.FindTSPPathsParameters=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.endNodeAssigned=!1,this.isAnalyzeById=!1,this.nodes=null,this.parameter=new g.TransportationAnalystParameter,f.Util.extend(this,b),this.CLASS_NAME="SuperMap.FindTSPPathsParameters"}return d(a,[{key:"destroy",value:function(){var a=this;a.endNodeAssigned=null,a.isAnalyzeById=null,a.nodes=null,a.parameter&&(a.parameter.destroy(),a.parameter=null)}}]),a}();e.SuperMap.FindTSPPathsParameters=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.FindServiceAreasParameters=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(38),h=b.FindServiceAreasParameters=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.isAnalyzeById=!1,this.isCenterMutuallyExclusive=!1,this.centers=null,this.isFromCenter=!1,this.weights=null,this.parameter=new g.TransportationAnalystParameter,f.Util.extend(this,b),this.CLASS_NAME="SuperMap.FindServiceAreasParameters"}return d(a,[{key:"destroy",value:function(){var a=this;a.isAnalyzeById=null,a.isCenterMutuallyExclusive=null,a.centers=null,a.isFromCenter=null,a.weights=null,a.parameter&&(a.parameter.destroy(),a.parameter=null)}}]),a}();e.SuperMap.FindServiceAreasParameters=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.FindPathParameters=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(38),h=b.FindPathParameters=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.isAnalyzeById=!1,this.hasLeastEdgeCount=null,this.nodes=null,this.parameter=new g.TransportationAnalystParameter,f.Util.extend(this,b),this.CLASS_NAME="SuperMap.FindPathParameters"}return d(a,[{key:"destroy",value:function(){var a=this;a.isAnalyzeById=null,a.hasLeastEdgeCount=null,a.nodes=null,a.parameter&&(a.parameter.destroy(),a.parameter=null)}}]),a}();e.SuperMap.FindPathParameters=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.FindMTSPPathsParameters=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(38),h=b.FindMTSPPathsParameters=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.centers=null,this.hasLeastTotalCost=!1,this.isAnalyzeById=!1,this.nodes=null,this.parameter=new g.TransportationAnalystParameter,f.Util.extend(this,b),this.CLASS_NAME="SuperMap.FindMTSPPathsParameters"}return d(a,[{key:"destroy",value:function(){var a=this;a.centers=null,a.hasLeastTotalCost=null,a.isAnalyzeById=null,a.nodes=null,a.maxWeight=null,a.parameter&&(a.parameter.destroy(),a.parameter=null)}}]),a}();e.SuperMap.FindMTSPPathsParameters=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.FindLocationParameters=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=b.FindLocationParameters=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.expectedSupplyCenterCount=null,this.isFromCenter=!1,this.supplyCenters=null,this.turnWeightField=null,this.weightName=null,f.Util.extend(this,b),this.CLASS_NAME="SuperMap.FindLocationParameters"}return d(a,[{key:"destroy",value:function(){var a=this;if(a.expectedSupplyCenterCount=null,a.isFromCenter=null,a.turnWeightField=null,a.weightName=null,a.supplyCenters){for(var b=0,c=a.supplyCenters,d=c.length;d>b;b++)c[b].destroy();a.supplyCenters=null}}}]),a}();e.SuperMap.FindLocationParameters=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.FindClosestFacilitiesParameters=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(38),h=b.FindClosestFacilitiesParameters=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.event=null,this.expectFacilityCount=1,this.facilities=null,this.fromEvent=!1,this.isAnalyzeById=!1,this.maxWeight=0,this.parameter=new g.TransportationAnalystParameter,f.Util.extend(this,b),this.CLASS_NAME="SuperMap.FindClosestFacilitiesParameters"}return d(a,[{key:"destroy",value:function(){var a=this;a.event=null,a.expectFacilityCount=null,a.facilities=null,a.fromEvent=null,a.isAnalyzeById=null,a.maxWeight=null,a.parameter&&(a.parameter.destroy(),a.parameter=null)}}]),a}();e.SuperMap.FindClosestFacilitiesParameters=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.FieldStatisticsParameters=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(283),h=b.FieldStatisticsParameters=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");
}(this,b);var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.fieldName=null,c.statisticMode=null,a&&f.Util.extend(c,a),c.CLASS_NAME="SuperMap.FieldStatisticsParameters",c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g.FieldParameters),d(b,[{key:"destroy",value:function(){this.fieldName=null,this.statisticMode=null}}]),b}();e.SuperMap.FieldStatisticsParameters=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.FieldParameters=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=b.FieldParameters=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.datasource=null,this.dataset=null,b&&f.Util.extend(this,b),this.CLASS_NAME="SuperMap.FieldParameters"}return d(a,[{key:"destroy",value:function(){this.datasource=null,this.dataset=null}}]),a}();e.SuperMap.FieldParameters=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.FacilityAnalystUpstream3DParameters=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(47),h=b.FacilityAnalystUpstream3DParameters=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return a=a||{},c.sourceNodeIDs=null,f.Util.extend(c,a),c.CLASS_NAME="SuperMap.FacilityAnalystUpstream3DParameters",c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g.FacilityAnalyst3DParameters),d(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this),this.sourceNodeIDs=null}}]),b}();e.SuperMap.FacilityAnalystUpstream3DParameters=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.FacilityAnalystTraceup3DParameters=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(47),g=b.FacilityAnalystTraceup3DParameters=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.CLASS_NAME="SuperMap.FacilityAnalystTraceup3DParameters",c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,f.FacilityAnalyst3DParameters),d(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}}]),b}();e.SuperMap.FacilityAnalystTraceup3DParameters=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.FacilityAnalystTracedown3DParameters=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(47),g=b.FacilityAnalystTracedown3DParameters=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.CLASS_NAME="SuperMap.FacilityAnalystTracedown3DParameters",c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,f.FacilityAnalyst3DParameters),d(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}}]),b}();e.SuperMap.FacilityAnalystTracedown3DParameters=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.FacilityAnalystStreamParameters=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=b.FacilityAnalystStreamParameters=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.sourceNodeIDs=null,this.edgeID=null,this.nodeID=null,this.isUncertainDirectionValid=!1,this.queryType=null,f.Util.extend(this,b),this.CLASS_NAME="SuperMap.FacilityAnalystStreamParameters"}return d(a,[{key:"destroy",value:function(){var a=this;a.edgeID=null,a.nodeID=null,a.weightName=null,a.isUncertainDirectionValid=null,a.type=null}}]),a}();e.SuperMap.FacilityAnalystStreamParameters=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.FacilityAnalystSources3DParameters=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(47),g=b.FacilityAnalystSources3DParameters=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.CLASS_NAME="SuperMap.FacilityAnalystSources3DParameters",c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,f.FacilityAnalyst3DParameters),d(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}}]),b}();e.SuperMap.FacilityAnalystSources3DParameters=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.FacilityAnalystSinks3DParameters=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(47),g=b.FacilityAnalystSinks3DParameters=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.CLASS_NAME="SuperMap.FacilityAnalystSinks3DParameters",c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,f.FacilityAnalyst3DParameters),d(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}}]),b}();e.SuperMap.FacilityAnalystSinks3DParameters=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.EditFeaturesParameters=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(4),h=c(9),i=b.EditFeaturesParameters=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.dataSourceName=null,this.dataSetName=null,this.features=null,this.editType=g.EditType.ADD,this.IDs=null,this.returnContent=!1,this.isUseBatch=!1,f.Util.extend(this,b),this.CLASS_NAME="SuperMap.EditFeaturesParameters"}return d(a,[{key:"destroy",value:function(){var a=this;a.dataSourceName=null,a.dataSetName=null,a.features=null,a.editType=null,a.IDs=null,a.returnContent=null}}],[{key:"toJsonParameters",value:function(a){var b,c,d;if(a.editType===g.EditType.DELETE){if(null===a.IDs)return;d={ids:a.IDs}}else if(d=[],a.features){c=a.features.length;for(var e=0;c>e;e++)(b=a.features[e]).geometry=h.ServerGeometry.fromGeometry(b.geometry),d.push(b)}return f.Util.toJSON(d)}}]),a}();e.SuperMap.EditFeaturesParameters=i},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.DensityKernelAnalystParameters=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=b.DensityKernelAnalystParameters=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.dataset=null,this.bounds=null,this.fieldName=null,this.resultGridDatasetResolution=null,this.searchRadius=null,this.targetDatasource=null,this.resultGridName=null,this.deleteExistResultDataset=!1,f.Util.extend(this,b),this.CLASS_NAME="SuperMap.DensityKernelAnalystParameters"}return d(a,[{key:"destroy",value:function(){var a=this;a.dataset=null,a.bounds=null,a.fieldName=null,a.resultGridDatasetResolution=null,a.searchRadius=null,a.targetDatasource=null,a.resultGridName=null,a.deleteExistResultDataset=null}}],[{key:"toObject",value:function(a,b){for(var c in a)"dataset"!==c&&(b[c]=a[c])}}]),a}();e.SuperMap.DensityKernelAnalystParameters=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.DatasetThiessenAnalystParameters=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(85),h=c(9),i=b.DatasetThiessenAnalystParameters=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.filterQueryParameter=null,c.dataset=null,a&&f.Util.extend(c,a),c.CLASS_NAME="SuperMap.DatasetThiessenAnalystParameters",c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g.ThiessenAnalystParameters),d(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this),this.filterQueryParameter&&(this.filterQueryParameter.destroy(),this.filterQueryParameter=null)}}],[{key:"toObject",value:function(a,b){for(var c in a)"clipRegion"===c?b.clipRegion=h.ServerGeometry.fromGeometry(a.clipRegion):b[c]=a[c]}}]),b}();e.SuperMap.DatasetThiessenAnalystParameters=i},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SurfaceAnalystParametersSetting=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(4),g=c(1),h=c(9),i=c(29),j=b.SurfaceAnalystParametersSetting=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.clipRegion=null,this.datumValue=0,this.expectedZValues=null,this.interval=0,this.resampleTolerance=0,this.smoothMethod=f.SmoothMethod.BSPLINE,this.smoothness=0,b&&g.Util.extend(this,b),this.CLASS_NAME="SuperMap.SurfaceAnalystParametersSetting"}return d(a,[{key:"destroy",value:function(){var a=this;a.clipRegion&&(a.clipRegion.destroy(),a.clipRegion=null),a.datumValue=null,a.expectedZValues=null,a.interval=null,a.resampleTolerance=null,a.smoothMethod=null,a.smoothness=null}},{key:"toJSON",value:function(){var a="'datumValue':"+g.Util.toJSON(this.datumValue);if(a+=",'interval':"+g.Util.toJSON(this.interval),a+=",'resampleTolerance':"+g.Util.toJSON(this.resampleTolerance),a+=",'smoothMethod':"+g.Util.toJSON(this.smoothMethod),a+=",'smoothness':"+g.Util.toJSON(this.smoothness),null!=this.expectedZValues&&(a+=",'expectedZValues':"+g.Util.toJSON(this.expectedZValues)),null!=this.clipRegion){var b=this.clipRegion;this.clipRegion instanceof i.Geometry&&this.clipRegion.components&&(b=h.ServerGeometry.fromGeometry(this.clipRegion)),a+=",'clipRegion':"+g.Util.toJSON(b)}return"{"+a+"}"}}]),a}();e.SuperMap.SurfaceAnalystParametersSetting=j},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.DatasetSurfaceAnalystParameters=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(16),h=c(86),i=c(9),j=c(29),k=b.DatasetSurfaceAnalystParameters=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.dataset=null,c.filterQueryParameter=new g.FilterParameter,c.zValueFieldName=null,a&&f.Util.extend(c,a),c.CLASS_NAME="SuperMap.DatasetSurfaceAnalystParameters",c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,h.SurfaceAnalystParameters),d(b,[{key:"destroy",value:function(){(function c(a,b,d){null===a&&(a=Function.prototype);var e=Object.getOwnPropertyDescriptor(a,b);if(void 0===e){var f=Object.getPrototypeOf(a);return null===f?void 0:c(f,b,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this);var a=this;a.dataset=null,a.filterQueryParameter&&(a.filterQueryParameter.destroy(),a.filterQueryParameter=null),a.zValueFieldName=null}}],[{key:"toObject",value:function(a,b){for(var c in a)if("filterQueryParameter"===c&&(b.filterQueryParameter=a.filterQueryParameter),"extractParameter"===c)a.extractParameter.clipRegion instanceof j.Geometry&&a.extractParameter.clipRegion.components&&(a.extractParameter.clipRegion=i.ServerGeometry.fromGeometry(a.extractParameter.clipRegion)),b.extractParameter=a.extractParameter;else{if("dataset"===c)continue;if("surfaceAnalystMethod"===c)continue;b[c]=a[c]}}}]),b}();e.SuperMap.DatasetSurfaceAnalystParameters=k},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.DatasetOverlayAnalystParameters=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(62),h=c(16),i=c(126),j=c(9),k=b.DatasetOverlayAnalystParameters=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.operateDataset=null,c.operateDatasetFields=[],c.operateDatasetFilter=new h.FilterParameter,c.operateRegions=[],c.sourceDataset=null,c.sourceDatasetFields=[],c.sourceDatasetFilter=new h.FilterParameter,c.tolerance=0,c.resultSetting=new g.DataReturnOption,f.Util.extend(c,a),c.CLASS_NAME="SuperMap.DatasetOverlayAnalystParameters",c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,i.OverlayAnalystParameters),d(b,[{key:"destroy",value:function(){(function f(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:f(e,b,c)}if("value"in d)return d.value;var g=d.get;return void 0!==g?g.call(c):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this);var a=this;if(a.operateDataset=null,a.operateDatasetFields=null,a.operateDatasetFilter&&(a.operateDatasetFilter.destroy(),a.operateDatasetFilter=null),a.operateRegions){for(var c=0,d=a.operateRegions,e=d.length;e>c;c++)d[c].destroy();a.operateRegions=null}a.sourceDataset=null,a.sourceDatasetFields=null,a.sourceDatasetFilter&&(a.sourceDatasetFilter.destroy(),a.sourceDatasetFilter=null),a.tolerance=null,a.resultSetting&&(a.resultSetting.destroy(),a.resultSetting=null)}}],[{key:"toObject",value:function(a,b){for(var c in a)if("sourceDataset"!==c)if("operateRegions"===c){b.operateRegions=[];var d=a.operateRegions;for(var e in d)d.hasOwnProperty(e)&&(b.operateRegions[e]=j.ServerGeometry.fromGeometry(d[e]))}else"resultSetting"===c?b.dataReturnOption=a.resultSetting:b[c]=a[c]}}]),b}();e.SuperMap.DatasetOverlayAnalystParameters=k},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.DatasetInfo=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(30),h=b.DatasetInfo=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),b=b||{},this.bounds=null,this.dataSourceName=null,this.description=null,this.encodeType=null,this.isReadOnly=null,this.name=null,this.prjCoordSys=null,this.tableName=null,this.type=null,f.Util.extend(this,b);var c=this.bounds;c&&(this.bounds=new g.Bounds(c.leftBottom.x,c.leftBottom.y,c.rightTop.x,c.rightTop.y)),this.CLASS_NAME="SuperMap.DatasetInfo"}return d(a,[{key:"destroy",value:function(){f.Util.reset(this)}},{key:"toServerJSONObject",value:function(){var a={};return(a=f.Util.copyAttributes(a,this)).bounds&&a.bounds.toServerJSONObject&&(a.bounds=a.bounds.toServerJSONObject()),a}}]),a}();e.SuperMap.DatasetInfo=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.TransportationAnalystResultSetting=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=b.TransportationAnalystResultSetting=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),b&&(this.returnEdgeFeatures=!1,this.returnEdgeGeometry=!1,this.returnEdgeIDs=!1,this.returnNodeFeatures=!1,this.returnNodeGeometry=!1,this.returnNodeIDs=!1,this.returnPathGuides=!1,this.returnRoutes=!1,f.Util.extend(this,b),this.CLASS_NAME="SuperMap.TransportationAnalystResultSetting")}return d(a,[{key:"destroy",value:function(){var a=this;a.returnEdgeFeatures=null,a.returnEdgeGeometry=null,a.returnEdgeIDs=null,a.returnNodeFeatures=null,a.returnNodeGeometry=null,a.returnNodeIDs=null,a.returnPathGuides=null,a.returnRoutes=null}}]),a}();e.SuperMap.TransportationAnalystResultSetting=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ComputeWeightMatrixParameters=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(38),h=b.ComputeWeightMatrixParameters=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.isAnalyzeById=!1,this.nodes=null,this.parameter=new g.TransportationAnalystParameter,f.Util.extend(this,b),this.CLASS_NAME="SuperMap.ComputeWeightMatrixParameters"}return d(a,[{key:"destroy",value:function(){var a=this;a.isAnalyzeById=null,a.nodes=null,a.parameter&&(a.parameter.destroy(),a.parameter=null)}}]),a}();e.SuperMap.ComputeWeightMatrixParameters=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ColorDictionary=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(22),h=b.ColorDictionary=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),b=b||{},this.elevation=null,this.color=null,f.Util.extend(this,b);var c=this.color;c&&(this.color=new g.ServerColor(c.red,c.green,c.blue)),this.CLASS_NAME="SuperMap.ColorDictionary"}return d(a,[{key:"destroy",value:function(){f.Util.reset(this)}},{key:"toServerJSONObject",value:function(){var a={};return a=f.Util.copyAttributes(a,this)}}]),a}();e.SuperMap.ColorDictionary=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ClipParameter=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(9),h=b.ClipParameter=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.clipDatasetName=null,this.clipDatasourceName=null,this.clipRegion=null,this.isClipInRegion=!0,this.isExactClip=null,b&&f.Util.extend(this,b),this.CLASS_NAME="SuperMap.ClipParameter"}return d(a,[{key:"destroy",value:function(){var a=this;a.clipDatasetName=null,a.clipDatasourceName=null,a.clipRegion=null,a.isClipInRegion=null,a.isExactClip=null}},{key:"toJSON",value:function(){if(0==this.isClipInRegion)return null;var a="",b=this;if(a+="'isClipInRegion':"+f.Util.toJSON(b.isClipInRegion),null!=b.clipDatasetName&&(a+=",'clipDatasetName':"+f.Util.toJSON(b.clipDatasetName)),null!=b.clipDatasourceName&&(a+=",'clipDatasourceName':"+f.Util.toJSON(b.clipDatasourceName)),null!=b.isExactClip&&(a+=",'isExactClip':"+f.Util.toJSON(b.isExactClip)),null!=b.clipRegion){var c=g.ServerGeometry.fromGeometry(b.clipRegion);if(c){var d=c.parts[0],e=c.points.splice(0,d);a+=",'clipRegion':{\"point2Ds\":",a+=f.Util.toJSON(e),a+="}"}}return"{"+a+"}"}}]),a}();e.SuperMap.ClipParameter=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ChartQueryParameters=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(302),h=b.ChartQueryParameters=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.queryMode=null,this.bounds=null,this.chartLayerNames=null,this.chartQueryFilterParameters=null,this.returnContent=!0,this.startRecord=0,this.expectCount=null,f.Util.extend(this,b),this.CLASS_NAME="SuperMap.ChartQueryParameters"}return d(a,[{key:"destroy",value:function(){var a=this;a.queryMode=null,a.bounds=null,a.chartLayerNames=null,a.chartQueryFilterParameters=null,a.returnContent=!0,a.startRecord=0,a.expectCount=null}},{key:"getVariablesJson",value:function(){var a="";if(a+='"queryMode":"'+this.queryMode+'",',this.chartLayerNames&&this.chartLayerNames.length){for(var b=[],c=this.chartLayerNames.length,d=0;c>d;d++)b.push('"'+this.chartLayerNames[d]+'"');a+='"chartLayerNames":'+("["+b.join(",")+"]")+","}if("ChartBoundsQuery"===this.queryMode&&this.bounds&&(a+='"bounds":{"leftBottom":{"x":'+this.bounds.left+',"y":'+this.bounds.bottom+'},"rightTop":{"x":'+this.bounds.right+',"y":'+this.bounds.top+"}},"),this.chartQueryFilterParameters&&this.chartQueryFilterParameters.length){for(var e=[],f=this.chartQueryFilterParameters.length,h=0;f>h;h++){var i=this.chartQueryFilterParameters[h];i instanceof g.ChartQueryFilterParameter&&e.push(i.toJson())}var j="["+e.join(",")+"]";j='"chartQueryParams":'+j+",",j+='"startRecord":'+this.startRecord+",",a+='"chartQueryParameters":'+(j="{"+(j+='"expectCount":'+this.expectCount)+"}")}return a="{"+a+"}"}}]),a}();e.SuperMap.ChartQueryParameters=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ChartQueryFilterParameter=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=b.ChartQueryFilterParameter=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.isQueryPoint=null,this.isQueryLine=null,this.isQueryRegion=null,this.attributeFilter=null,this.chartFeatureInfoSpecCode=null,f.Util.extend(this,b),this.CLASS_NAME="SuperMap.ChartQueryFilterParameter"}return d(a,[{key:"destroy",value:function(){var a=this;a.isQueryPoint=null,a.isQueryLine=null,a.isQueryRegion=null,a.attributeFilter=null,a.chartFeatureInfoSpecCode=null}},{key:"toJson",value:function(){var a="";return a+='"isQueryPoint":'+this.isQueryPoint+",",a+='"isQueryLine":'+this.isQueryLine+",",a+='"isQueryRegion":'+this.isQueryRegion+",",this.attributeFilter&&(a+='"attributeFilter": "'+this.attributeFilter+'",'),a="{"+(a+='"chartFeatureInfoSpecCode":'+this.chartFeatureInfoSpecCode)+"}"}}]),a}();e.SuperMap.ChartQueryFilterParameter=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.BurstPipelineAnalystParameters=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=b.BurstPipelineAnalystParameters=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.sourceNodeIDs=null,this.edgeID=null,this.nodeID=null,this.isUncertainDirectionValid=!1,f.Util.extend(this,b),this.CLASS_NAME="SuperMap.BurstPipelineAnalystParameters"}return d(a,[{key:"destroy",value:function(){this.sourceNodeIDs=null,this.edgeID=null,this.nodeID=null,this.isUncertainDirectionValid=null}}]),a}();e.SuperMap.BurstPipelineAnalystParameters=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.BuffersAnalystJobsParameter=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),
b}}(),e=c(0),f=c(1),g=c(4),h=c(20),i=c(19),j=b.BuffersAnalystJobsParameter=function(){function a(b){return function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.datasetName="",this.bounds="",this.distance="",this.distanceField="",this.distanceUnit=g.AnalystSizeUnit.METER,this.dissolveField="",this.output=null,this.mappingParameters=null,b?(f.Util.extend(this,b),void(this.CLASS_NAME="SuperMap.BuffersAnalystJobsParameter")):this}return d(a,[{key:"destroy",value:function(){this.datasetName=null,this.bounds=null,this.distance=null,this.distanceField=null,this.distanceUnit=null,this.dissolveField=null,this.output instanceof h.OutputSetting&&(this.output.destroy(),this.output=null),this.mappingParameters instanceof i.MappingParameters&&(this.mappingParameters.destroy(),this.mappingParameters=null)}}],[{key:"toObject",value:function(a,b){for(var c in a)"datasetName"!==c?"output"!==c?(b.analyst=b.analyst||{},b.analyst[c]="bounds"===c?a[c].toBBOX():a[c],"mappingParameters"===c&&(b.analyst[c]=b.analyst[c]||{},b.analyst.mappingParameters=a[c])):(b.output=b.output||{},b.output=a[c]):(b.input=b.input||{},b.input[c]=a[c])}}]),a}();e.SuperMap.BuffersAnalystJobsParameter=j},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.LinkItem=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(128),h=b.LinkItem=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.datasourceConnectionInfo=null,this.foreignKeys=null,this.foreignTable=null,this.linkFields=null,this.linkFilter=null,this.name=null,this.primaryKeys=null,b&&f.Util.extend(this,b),this.CLASS_NAME="SuperMap.LinkItem"}return d(a,[{key:"destroy",value:function(){var a=this;a.datasourceConnectionInfo instanceof g.DatasourceConnectionInfo&&(a.datasourceConnectionInfo.destroy(),a.datasourceConnectionInfo=null),a.foreignKeys=null,a.foreignTable=null,a.linkFields=null,a.linkFilter=null,a.name=null,a.primaryKeys=null}}]),a}();e.SuperMap.LinkItem=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.DatasetBufferAnalystParameters=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(129),h=c(62),i=c(16),j=b.DatasetBufferAnalystParameters=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.dataset=null,c.filterQueryParameter=new i.FilterParameter,c.resultSetting=new h.DataReturnOption,c.isAttributeRetained=!0,c.isUnion=!1,f.Util.extend(c,a),c.CLASS_NAME="SuperMap.DatasetBufferAnalystParameters",c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g.BufferAnalystParameters),d(b,[{key:"destroy",value:function(){(function c(a,b,d){null===a&&(a=Function.prototype);var e=Object.getOwnPropertyDescriptor(a,b);if(void 0===e){var f=Object.getPrototypeOf(a);return null===f?void 0:c(f,b,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this);var a=this;a.dataset=null,a.filterQueryParameter&&(a.filterQueryParameter.destroy(),a.filterQueryParameter=null),a.resultSetting&&(a.resultSetting.destroy(),a.resultSetting=null),a.isAttributeRetained=null,a.isUnion=null}}],[{key:"toObject",value:function(a,b){for(var c in a)if("bufferSetting"===c)a.bufferSetting.radiusUnit=a.bufferSetting.radiusUnit.toUpperCase(),b.bufferAnalystParameter=a.bufferSetting;else if("resultSetting"===c)b.dataReturnOption=a.resultSetting;else{if("dataset"===c)continue;b[c]=a[c]}}}]),b}();e.SuperMap.DatasetBufferAnalystParameters=j},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.BufferDistance=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=b.BufferDistance=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.exp=null,this.value=100,f.Util.extend(this,b),this.CLASS_NAME="SuperMap.BufferDistance"}return d(a,[{key:"destroy",value:function(){this.exp=null,this.value=null}}]),a}();e.SuperMap.BufferDistance=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.BufferSetting=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(4),h=c(307),i=b.BufferSetting=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.endType=g.BufferEndType.FLAT,this.leftDistance=new h.BufferDistance,this.rightDistance=new h.BufferDistance,this.semicircleLineSegment=4,this.radiusUnit=g.BufferRadiusUnit.METER,b&&f.Util.extend(this,b),this.CLASS_NAME="SuperMap.BufferSetting"}return d(a,[{key:"destroy",value:function(){var a=this;a.endType=null,a.leftDistance&&(a.leftDistance.destroy(),a.leftDistance=null),a.rightDistance&&(a.rightDistance.destroy(),a.rightDistance=null),a.semicircleLineSegment=null,a.radiusUnit=null}}]),a}();e.SuperMap.BufferSetting=i},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.AreaSolarRadiationParameters=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=b.AreaSolarRadiationParameters=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.dataset=null,this.targetDatasourceName=null,this.totalGridName=null,this.diffuseDatasetGridName=null,this.durationDatasetGridName=null,this.directDatasetGridName=null,this.latitude=null,this.timeMode="MULTIDAYS",this.dayStart=null,this.dayEnd=null,this.hourStart=null,this.hourEnd=null,this.transmittance=null,this.hourInterval=null,this.dayInterval=null,this.deleteExistResultDataset=!1,f.Util.extend(this,b),this.CLASS_NAME="SuperMap.AreaSolarRadiationParameters"}return d(a,[{key:"destroy",value:function(){var a=this;a.dataset=null,a.zFactor=1,a.averageCurvatureName=null,a.profileCurvatureName=null,a.planCurvatureName=null,a.deleteExistResultDataset=!0}}],[{key:"toObject",value:function(a,b){var c={};for(var d in a)"dataset"!==d&&("latitude"===d||"timeMode"===d||"dayStart"===d||"dayEnd"===d||"hourStart"===d||"hourEnd"===d||"transmittance"===d||"hourInterval"===d||"dayInterval"===d?c[d]=a[d]:b[d]=a[d]);b.parameter=c}}]),a}();e.SuperMap.AreaSolarRadiationParameters=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.GeoDecodingParameter=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=b.GeoDecodingParameter=function(){function a(b){if(function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),b.filters){var c=[];b.filters.split(",").map(function(a){return c.push('"'+a+'"'),a}),b.filters=c}this.x=null,this.y=null,this.fromIndex=null,this.toIndex=null,this.filters=null,this.prjCoordSys=null,this.maxReturn=null,this.geoDecodingRadius=null,f.Util.extend(this,b)}return d(a,[{key:"destroy",value:function(){this.x=null,this.y=null,this.fromIndex=null,this.toIndex=null,this.filters=null,this.prjCoordSys=null,this.maxReturn=null,this.geoDecodingRadius=null}}]),a}();e.SuperMap.GeoDecodingParameter=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.GeoCodingParameter=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=b.GeoCodingParameter=function(){function a(b){if(function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),b.filters){var c=[];b.filters.split(",").map(function(a){return c.push('"'+a+'"'),a}),b.filters=c}this.address=null,this.fromIndex=null,this.toIndex=null,this.filters=null,this.prjCoordSys=null,this.maxReturn=null,f.Util.extend(this,b)}return d(a,[{key:"destroy",value:function(){this.address=null,this.fromIndex=null,this.toIndex=null,this.filters=null,this.prjCoordSys=null,this.maxReturn=null}}]),a}();e.SuperMap.GeoCodingParameter=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.IPortalMap=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(88),h=b.IPortalMap=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c=c||{},d.authorizeSetting=[],d.center="",d.controls=null,d.checkStatus="",d.createTime=0,d.description="",d.epsgCode=0,d.extent="",d.id=0,d.isDefaultBottomMap=!1,d.layers=[],d.level=null,d.nickname="",d.sourceType="",d.status=null,d.tags=[],d.thumbnail="",d.title="",d.units=null,d.updateTime=0,d.userName="",d.visitCount=0,f.Util.extend(d,c),d.mapUrl=a,d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g.IPortalServiceBase),d(b,[{key:"load",value:function(){var a=this;return a.request("GET",a.mapUrl+".json").then(function(b){if(b.error)return b;for(var c in b)a[c]=b[c]})}},{key:"update",value:function(){var a={units:this.units,level:this.level,center:this.center,controls:this.controls,description:this.description,epsgCode:this.epsgCode,extent:this.extent,status:this.status,tags:this.tags,layers:this.layers,title:this.title,thumbnail:this.thumbnail,sourceType:this.sourceType,authorizeSetting:this.authorizeSetting};return this.request("PUT",this.mapUrl,JSON.stringify(a),{headers:{"Content-Type":"application/x-www-form-urlencoded"}})}}]),b}();e.SuperMap.iPortalMap=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.IPortalService=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(88),h=b.IPortalService=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c=c||{},d.addedMapNames=null,d.addedSceneNames=null,d.authorizeSetting=[],d.checkStatus="",d.createTime=0,d.description="",d.enable=!0,d.id=0,d.isBatch=!1,d.isDataItemService=!1,d.linkPage=null,d.mapInfos=[],d.metadata=null,d.nickname="",d.offline=!1,d.proxiedUrl=null,d.resTitle="",d.scenes=[],d.serviceRootUrlId=null,d.tags=[],d.thumbnail=null,d.type="",d.updateTime=0,d.userName="",d.verifyReason=null,d.version=null,d.visitCount=0,f.Util.extend(d,c),d.serviceUrl=a,d.id&&(d.serviceUrl=a+"/"+d.id),d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g.IPortalServiceBase),d(b,[{key:"load",value:function(){var a=this;return a.request("GET",a.serviceUrl+".json").then(function(b){if(b.error)return b;for(var c in b)a[c]=b[c]})}},{key:"update",value:function(){var a={authorizeSetting:this.authorizeSetting,metadata:this.metadata,tags:this.tags,thumbnail:this.thumbnail};return this.request("PUT",this.serviceUrl,JSON.stringify(a),{headers:{"Content-Type":"application/x-www-form-urlencoded"}})}}]),b}();e.SuperMap.iPortalService=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.IPortalMapsQueryParam=void 0;var d=c(0),e=c(1),f=b.IPortalMapsQueryParam=function g(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,g),a=a||{},this.userNames=null,this.tags=null,this.suggest=!1,this.sourceTypes=null,this.keywords=null,this.epsgCode=null,this.orderBy=null,this.currentPage=null,this.pageSize=null,this.dirIds=null,this.isNotInDir=!1,this.updateStart=null,this.updateEnd=null,this.visitStart=null,this.visitEnd=null,this.filterFields=null,e.Util.extend(this,a)};d.SuperMap.iPortalMapsQueryParam=f},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.IPortalServicesQueryParam=void 0;var d=c(0),e=c(1),f=b.IPortalServicesQueryParam=function g(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,g),a=a||{},this.tags=[],this.userNames="",this.types=[],this.checkStatus="",this.offline=!1,this.orderBy="",this.orderType="",this.keywords=[],this.currentPage=0,this.pageSize=0,this.isBatch=!1,this.dirIds=[],this.isNotInDir=!1,this.filterFields=[],this.authorizedOnly=!1,e.Util.extend(this,a)};d.SuperMap.iPortalServicesQueryParam=f},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.IManagerCreateNodeParam=void 0;var d=c(0),e=c(1),f=b.IManagerCreateNodeParam=function g(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,g),a=a||{},this.nodeSpec="SMALL",this.nodeCount=1,this.nodeName="",this.password="",this.description="",this.physicalMachineName="",this.ips=[],this.userName="",e.Util.extend(this,a)};d.SuperMap.iManagerCreateNodeParam=f},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.IManagerServiceBase=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(40),g=c(21),h=b.IManagerServiceBase=function(){function a(b){if(function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),b){var c=b.substr(b.length-1,1);this.serviceUrl="/"===c?b.substr(0,b.length-2):b}this.CLASS_NAME="SuperMap.iManagerServiceBase"}return d(a,[{key:"request",value:function(a,b,c,d){(d=d||{headers:{Accept:"*/*","Content-Type":"application/json"}}).hasOwnProperty("withCredentials")||(d.withCredentials=!0);var e=f.SecurityManager.imanagerToken;return e&&(d.headers||(d.headers=[]),d.headers["X-Auth-Token"]=e),c&&(c=JSON.stringify(c)),g.FetchRequest.commit(a,b,c,d).then(function(a){return a.json()})}}]),a}();e.SuperMap.iManagerServiceBase=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.TimeControlBase=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(91),g=b.TimeControlBase=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a);var c=this;b=b||{},this.speed=b.speed&&b.speed>=0?b.speed:1,this.frequency=b.speed&&b.frequency>=0?b.frequency:1e3,this.startTime=b.startTime&&null!=b.startTime?b.startTime:0,this.endTime=b.endTime&&null!=b.endTime&&b.endTime>=c.startTime?b.endTime:+new Date,this.repeat=void 0===b.repeat||b.repeat,this.reverse=void 0!==b.reverse&&b.reverse,this.currentTime=null,this.oldTime=null,this.running=!1,this.EVENT_TYPES=["start","pause","stop"],c.events=new f.Events(this,null,this.EVENT_TYPES),c.speed=Number(c.speed),c.frequency=Number(c.frequency),c.startTime=Number(c.startTime),c.endTime=Number(c.endTime),c.startTime=Date.parse(new Date(c.startTime)),c.endTime=Date.parse(new Date(c.endTime)),c.currentTime=c.startTime,this.CLASS_NAME="SuperMap.TimeControlBase"}return d(a,[{key:"updateOptions",value:function(a){var b=this;(a=a||{}).speed&&a.speed>=0&&(b.speed=a.speed,b.speed=Number(b.speed)),a.speed&&a.frequency>=0&&(b.frequency=a.frequency,b.frequency=Number(b.frequency)),a.startTime&&null!=a.startTime&&(b.startTime=a.startTime,b.startTime=Date.parse(new Date(b.startTime))),a.endTime&&null!=a.endTime&&a.endTime>=b.startTime&&(b.endTime=a.endTime,b.endTime=Date.parse(new Date(b.endTime))),null!=a.repeat&&(b.repeat=a.repeat),null!=a.reverse&&(b.reverse=a.reverse)}},{key:"start",value:function(){var a=this;a.running||(a.running=!0,a.tick(),a.events.triggerEvent("start",a.currentTime))}},{key:"pause",value:function(){this.running=!1,this.events.triggerEvent("pause",this.currentTime)}},{key:"stop",value:function(){var a=this;a.currentTime=a.startTime,a.running&&(a.running=!1),a.events.triggerEvent("stop",a.currentTime)}},{key:"toggle",value:function(){this.running?this.pause():this.start()}},{key:"setSpeed",value:function(a){return a>=0&&(this.speed=a,!0)}},{key:"getSpeed",value:function(){return this.speed}},{key:"setFrequency",value:function(a){return a>=0&&(this.frequency=a,!0)}},{key:"getFrequency",value:function(){return this.frequency}},{key:"setStartTime",value:function(a){var b=this;return!((a=Date.parse(new Date(a)))>b.endTime||(b.startTime=a,b.currentTime<b.startTime&&(b.currentTime=b.startTime,b.tick()),0))}},{key:"getStartTime",value:function(){return this.startTime}},{key:"setEndTime",value:function(a){var b=this;return b.endTime=Date.parse(new Date(b.endTime)),!(a<b.startTime||(b.endTime=a,b.currentTime>=b.endTime&&(b.currentTime=b.startTime,b.tick()),0))}},{key:"getEndTime",value:function(){return this.endTime}},{key:"setCurrentTime",value:function(a){var b=this;return b.currentTime=Date.parse(new Date(b.currentTime)),a>=b.startTime&&a<=b.endTime&&(b.currentTime=a,b.startTime=b.currentTime,b.tick(),!0)}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"setRepeat",value:function(a){this.repeat=a}},{key:"getRepeat",value:function(){return this.repeat}},{key:"setReverse",value:function(a){this.reverse=a}},{key:"getReverse",value:function(){return this.reverse}},{key:"getRunning",value:function(){return this.running}},{key:"destroy",value:function(){var a=this;a.speed=null,a.frequency=null,a.startTime=null,a.endTime=null,a.currentTime=null,a.repeat=null,a.running=!1,a.reverse=null}},{key:"tick",value:function(){}}]),a}();e.SuperMap.TimeControlBase=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.LogoBase64="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAF4AAAAdCAYAAAAjHtusAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDozYWZlOGIwMi01MWE3LTRiZjYtYWVkYS05MGQ2ZTQ4YjZiMmUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6ODg0NkFBQUE3RjEzMTFFNzhFRjJFQkY4RjcxQjc1NjIiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6ODg0NkFBQTk3RjEzMTFFNzhFRjJFQkY4RjcxQjc1NjIiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4MWI3NzdhNC1lZmEyLTQ1MzUtOGQzNi03MmRjNDkyODMzN2UiIHN0UmVmOmRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDpjYTYzODVjMi1jNDQ1LTExN2EtYTc0ZC1lM2I5MzJlMGE4Y2QiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5q1HM0AAAF/ElEQVR42tSabYhUVRjHZ7W01C1uaCRW4F3oi9SXCUnwQ9gsGUFvOEtQH1bLu5VS9sbYh5KicjYt29qiGQwVg2xWWKgocob91AvC+CWsoJqB3qHMSdTMpZyeU/+Df07n3pk7997Z6cBv99z7nHvOvf/z/pxJNZvNVI/jCKXmv6EquAmVkxPSlvtp2GItr0/96fFQForChJAWDiVYTkMYMu4XBFcYjLOwWS3sNwmn8NGzZ0h4Flv/zwIdchAnh/slCGmmKUNIBzYPaXOUr0vPuEjD71JAPh7l61embzinhV3V8nnCGmGT8LwlzSL8/yUh4Tfjo9T/CgnCIYNKycA2Qq21AcHU/VHE80Idoo3Qs0W6p0UtUnkZvEMDeVcCyqxEafF7hL8Qf0oYsIj+lfC9cH1CwhchWAGCtZO+AooQOkdC1Km1VtCb63StW73uFSzgKFUkNwBbmZGGmqowhvg8ZNpH9oXChcIcYRdeNomgxLkaH+S1SGubAxyIpFv+Zp+0DYjrAS00j/dem2VGEl6FJ4Qa4quEu8j2hTCJ+GJhe4JjfQMf6JCYPPbysMPxBlp0BUKOogEF9Rg9/heNvNKYfM0KsZUZaYxX4STGrzJa+zbhPeFH2DcK10KItcI+pI0rVElwXl1ULaKnIJhDw0oRQpTQc1zcbwRU8ATy4DR6yMlTzwkqMziEWHvubJ4Nk4ZtHdnqwvwY17xq3Z4FjrG+z2Kdrdf2ZSGD+xlLPh6t1R0jP9fI22ZzKI92yvQl7EbmBxI4S7Y+vIAOL87QZqsc5uNnssxZIcfYjXT9snCR7jjobidp+FkxA2v+Cq1QervMDmp4P7Xs3YZtE9kOC3P/By6JGaETl8ElwueYTNTDq4UDsKnd7YfCNbT239LF1udS72xYJt1UWxNfN4IIP4bWuTpEja01JtMFZFsm/AHbtHBlDE6yasA4moYTrUbvdBTXHqUrAH4uSadbyzF+vbBM2IsNkS3MNa5305JxqfA02T4TnkX8XOH1mPw8ruVejpxbI9hZD2Cz1U7LdrrUvjP/WfZinNZhr6V27hP+FPZh9aLvLxVO4DllX0G2OcKnlO/DCblxaz6uXBtmi+8mBaP3/SP8IuEIiTRoPPQm2TaEmEyXo0JU+F0YiPFD0hhOsiE/vqeEVwyTgF8L51OilcIZ2I4Ll5NttvAJPfukUeB2sk0ZPSbKIUUJpCII7+DasWy08uhNNazT0wGHI7mAtB7KqMKm38HhDdAUibTVKGicbB8YAqrJ9DRsp43JdB4qUof1HQrPE6XTQWu3Ce/inVzjXhXpMiTwUYugNVQ+p80jrUsV5EH0POKeuXO9QjhFq5GryNYvfEMCDhsftYVsB9ETtG0V9ZjfhCURhbcJFpfwVZ9jvhxsLHwTYtp2svlWQw3vXL8UnqHVSIG8l8ex+tHhBXgjddgqHEZ8ufAA2aaEnYgrF/KrPXrEmMUqZ9THLW06xhoBaVueQpkug+ewOUphE3Qv2Q5gGamXYa+QbVq4O+DQ5FHyZqrjxNt7UHh9uuRa0F7HjCF8o9PCTOGnscM7g2u1Hl9C9oeEnxC/1ajZg8JLiM9Hj9GHJseMShwL2DO0G5yEWn3Zh1QUods5CPkIoqlwAZxhXMsb6HrcEPBxchhdJ6wj29vCW4hfLOzo8J3rltYX50nXQAATSf/K4DEaGlTLvplsk/QCpoD60EQ7gLYZc8H9wq+I3yncEOEcNhuz6HWf3XEiwU/4Y8YEqVp2P10rt+8REvBGw026i4aDcbL9jF8r8Blmf4fCOzhViiscskygXRdehf3CO4hfigmTBXyQrl8TFtD1IzQX3CbcQrY3hPcRv4z8OmHPXwchVNln2MmE7BX6VwIFi/he6uxvb6JM3m0fdqvx/ATidxg2JeC7VDErAw5NzGfvwRJVheEIQ8Mg/pdwIM+UOmi9Q8ivCsrIy0tF+wVbEcLrd3Pb2XisEb4Tdlhsi4WP4RBbaLGrHfC3PrvMIezy9rTpGm5lz9LOMG15xvFxD/j5gjzjjDbMOzk+9zzt3v5bgAEAibzFeFHVgYkAAAAASUVORK5CYII="},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.PointWithMeasure=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(24),h=b.PointWithMeasure=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.measure=null,a&&f.Util.extend(c,a),c.CLASS_NAME="SuperMap.PointWithMeasure",c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g.Point),d(b,[{key:"equals",value:function(a){var b=!1;if(null!=a){var c=this.x===a.x&&this.y===a.y&&this.measure===a.measure,d=isNaN(this.x)&&isNaN(this.y)&&isNaN(this.measure),e=isNaN(a.x)&&isNaN(a.y)&&isNaN(a.measure);b=c||d&&e}return b}},{key:"toJson",value:function(){var a="{";return null!=this.measure&&void 0!=this.measure&&(a+='"measure":'+this.measure+","),a+='"x":'+this.x+",",a+='"y":'+this.y,a+="}"}},{key:"destroy",value:function(){this.measure=null,this.x=null,this.y=null}}],[{key:"fromJson",value:function(a){return a?new b({x:a.x,y:a.y,measure:a.measure}):void 0}}]),b}();e.SuperMap.PointWithMeasure=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Feature=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=b.Feature=function(){function a(b,c,d){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.CLASS_NAME="SuperMap.Feature",this.layer=b,this.id=f.Util.createUniqueID(this.CLASS_NAME+"_"),this.lonlat=c,this.data=null!=d?d:{}}return d(a,[{key:"destroy",value:function(){this.id=null,this.lonlat=null,this.data=null}}]),a}();e.SuperMap.Feature=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Event=void 0;var d=c(0),e=c(1),f=b.Event=d.SuperMap.Event={observers:!1,KEY_SPACE:32,KEY_BACKSPACE:8,KEY_TAB:9,KEY_RETURN:13,KEY_ESC:27,KEY_LEFT:37,KEY_UP:38,KEY_RIGHT:39,KEY_DOWN:40,KEY_DELETE:46,element:function(a){return a.target||a.srcElement},isSingleTouch:function(a){return a.touches&&1===a.touches.length},isMultiTouch:function(a){return a.touches&&a.touches.length>1},isLeftClick:function(a){return a.which&&1===a.which||a.button&&1===a.button},isRightClick:function(a){return a.which&&3===a.which||a.button&&2===a.button},stop:function(a,b){b||(a.preventDefault?a.preventDefault():a.returnValue=!1),a.stopPropagation?a.stopPropagation():a.cancelBubble=!0},findElement:function(a,b){for(var c=d.SuperMap.Event.element(a);c.parentNode&&(!c.tagName||c.tagName.toUpperCase()!=b.toUpperCase());)c=c.parentNode;return c},observe:function(a,b,c,d){var f=e.Util.getElement(a);if(d=d||!1,"keypress"===b&&(navigator.appVersion.match(/Konqueror|Safari|KHTML/)||f.attachEvent)&&(b="keydown"),this.observers||(this.observers={}),!f._eventCacheID){var g="eventCacheID_";f.id&&(g=f.id+"_"+g),f._eventCacheID=e.Util.createUniqueID(g)}var h=f._eventCacheID;this.observers[h]||(this.observers[h]=[]),this.observers[h].push({element:f,name:b,observer:c,useCapture:d}),f.addEventListener?f.addEventListener(b,c,d):f.attachEvent&&f.attachEvent("on"+b,c)},stopObservingElement:function(a){var b=e.Util.getElement(a)._eventCacheID;this._removeElementObservers(d.SuperMap.Event.observers[b])},_removeElementObservers:function(a){if(a)for(var b=a.length-1;b>=0;b--){var c=a[b],e=new Array(c.element,c.name,c.observer,c.useCapture);d.SuperMap.Event.stopObserving.apply(this,e)}},stopObserving:function(a,b,c,f){f=f||!1;var g=e.Util.getElement(a),h=g._eventCacheID;"keypress"===b&&(navigator.appVersion.match(/Konqueror|Safari|KHTML/)||g.detachEvent)&&(b="keydown");var i=!1,j=d.SuperMap.Event.observers[h];if(j)for(var k=0;!i&&k<j.length;){var l=j[k];if(l.name===b&&l.observer===c&&l.useCapture===f){j.splice(k,1),0==j.length&&delete d.SuperMap.Event.observers[h],i=!0;break}k++}return i&&(g.removeEventListener?g.removeEventListener(b,c,f):g&&g.detachEvent&&g.detachEvent("on"+b,c)),i},unloadCache:function(){if(d.SuperMap.Event&&d.SuperMap.Event.observers){for(var a in d.SuperMap.Event.observers){var b=d.SuperMap.Event.observers[a];d.SuperMap.Event._removeElementObservers.apply(this,[b])}d.SuperMap.Event.observers=!1}},CLASS_NAME:"SuperMap.Event"};d.SuperMap.Event=f,d.SuperMap.Event.observe(window,"unload",d.SuperMap.Event.unloadCache,!1)},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Rectangle=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(29),g=c(30),h=b.Rectangle=function(a){function b(a,c,d,e){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var f=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d,e));return f.x=a,f.y=c,f.width=d,f.height=e,f.CLASS_NAME="SuperMap.Geometry.Rectangle",f.geometryType="Rectangle",f}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,f.Geometry),d(b,[{key:"calculateBounds",value:function(){this.bounds=new g.Bounds(this.x,this.y,this.x+this.width,this.y+this.height)}},{key:"getArea",value:function(){return this.width*this.height}}]),b}();e.SuperMap.Geometry.Rectangle=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Size=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=b.Size=function(){function a(b,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.w=b?parseFloat(b):0,this.h=b?parseFloat(c):0,this.CLASS_NAME="SuperMap.Size"}return d(a,[{key:"toString",value:function(){return"w="+this.w+",h="+this.h}},{key:"clone",value:function(){return new a(this.w,this.h)}},{key:"equals",value:function(a){var b=!1;return null!=a&&(b=this.w===a.w&&this.h===a.h||isNaN(this.w)&&isNaN(this.h)&&isNaN(a.w)&&isNaN(a.h)),b}},{key:"destroy",value:function(){this.w=null,this.h=null}}]),a}();e.SuperMap.Size=f},function(a,b,c){"use strict";c(614),c(607),c(602),c(590),c(589),c(588),c(587),c(586),c(585),c(584),c(583),c(582),c(581),c(580),c(579),c(578),c(577),c(576)},function(a,b,c){"use strict";c(325),c(575)},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.dataServiceQueryView=b.DataServiceQueryView=void 0;var d,e=c(2),f=(d=e)&&d.__esModule?d:{"default":d
},g=c(42),h=c(138),i=c(5),j=b.DataServiceQueryView=g.WidgetsViewBase.extend({initialize:function(a,b,c){if(g.WidgetsViewBase.prototype.initialize.apply(this,[c]),this.dataServiceUrl=a,!b||0===b.length)throw new Error("Please configure the dataset of the query！");b instanceof Array?this.dataSetNames=b:this.dataSetNames=b.split(" ")},onAdd:function(a){return g.WidgetsViewBase.prototype.onAdd.apply(this,[a])},onRemove:function(){this.map.off("pm:create")},setDataSetNames:function(a){a instanceof Array?this.dataSetNames=a:this.dataSetNames=a.split(" ")},setGetFeatureMode:function(a){this.getFeatureMode=a,this._getFeatureModeOnchange(this.getFeatureMode)},setDataServiceUrl:function(a){this.dataServiceUrl=a,this.viewModel=new h.DataServiceQueryViewModel(this.dataServiceUrl)},_getFeatureModeOnchange:function(a){var b=void 0;b=a&&"{}"!=JSON.stringify(a)?a:["ID","SQL","BOUNDS","BUFFER","SPATIAL"];var c=document.getElementById("queryModelControl");c.innerHTML="",this.creatQueryModeSelect(b,c)},_initView:function(){function a(a){var b=void 0;switch(b=a.title?a.title:a,u.classList.add("hidden"),A.classList.add("hidden"),x.classList.add("hidden"),F.classList.add("hidden"),G.classList.add("hidden"),E.classList.remove("bounds"),L.classList.add("hidden"),p.innerHTML=i.Lang.i18n("text_label_featureFilter"),t.value="SMID<10","BUFFER"!==b&&"SPATIAL"!==b||(A.classList.remove("hidden"),B.innerHTML=i.Lang.i18n("text_label_geometricObject"),K.value='{"type":"Feature","properties":{},"geometry":{"type":"Point","coordinates":[84.90234375,40.25390625]}}',F.classList.remove("hidden"),G.classList.remove("hidden")),b){case"ID":p.innerHTML=i.Lang.i18n("text_label_IDArrayOfFeatures"),t.value="[1,2,3]";break;case"SQL":u.classList.remove("hidden");break;case"BOUNDS":A.classList.remove("hidden"),B.innerHTML=i.Lang.i18n("text_label_queryRange"),K.value='{"leftBottom":{"x":-5,"y":-5},"rightTop":{"x":5,"y":5}}',E.classList.add("bounds");break;case"BUFFER":x.classList.remove("hidden");break;case"SPATIAL":L.classList.remove("hidden")}}var b=this;this.viewModel=new h.DataServiceQueryViewModel(this.dataServiceUrl),this.messageBox=new i.MessageBox;var c=new i.CommonContainer({title:i.Lang.i18n("title_dataServiceQuery")}).getElement();c.classList.add("widget-servicequery__container"),c.children[0].classList.add("widget-servicequery__title");var d=c.children[1];d.classList.add("widget-content--scroll"),d.classList.add("data-services");var e=f["default"].DomUtil.create("div","widget-analysis__container",d),g=f["default"].DomUtil.create("div","widget-servicequery__analysistype",e),j=f["default"].DomUtil.create("div","widget-analysis__container__analysisLayer",g),k=void 0,l=this.options.getFeatureMode;k=l&&"{}"!=JSON.stringify(l)?l:["ID","SQL","BOUNDS","BUFFER","SPATIAL"];var m=f["default"].DomUtil.create("div","",j);m.id="queryModelContainer";var n=f["default"].DomUtil.create("div","widget-analysis__selecttool",m);n.id="queryModelControl",this.creatQueryModeSelect=function(a,b){var c=void 0;if(a instanceof Array&&a.length>1){var d={optionsArr:a,labelName:i.Lang.i18n("text_label_queryMode"),optionsClickCb:this.queryModeltOnchange},e=new i.Select(d).getElement();b.appendChild(e),c=e.children[1].children[0],e.children[1].classList.add("dataservice-select");var g=e.children[1];g.classList.add("dataservice-select"),g.classList.add("querymodel-select")}else{var h=f["default"].DomUtil.create("span","",m);h.innerHTML=i.Lang.i18n("text_label_queryMode"),c=f["default"].DomUtil.create("div","widget-servicequery__querymode-selectname",m);var j=f["default"].DomUtil.create("span","",c);a instanceof Array?j.innerHTML=a[0]:j.innerHTML=a,c.title=j.innerHTML,this.queryModeltOnchange(c)}return c.id="queryModelSelectName",c}.bind(this),this.queryModeltOnchange=a.bind(this),this.creatQueryModeSelect(k,n);var o=f["default"].DomUtil.create("div","widget-analysis__container widget-textarea--dataservice__container",j),p=f["default"].DomUtil.create("span","textarea-name",o);p.innerHTML=i.Lang.i18n("text_label_IDArrayOfFeatures");var q=f["default"].DomUtil.create("div","widget-textarea widget-textarea--dataservice",o);q.id="getfeaturesIdArr";var r=f["default"].DomUtil.create("div","scrollarea",q),s=f["default"].DomUtil.create("div","widget-scrollarea-content",r);s.setAttribute("tabindex","1");var t=f["default"].DomUtil.create("textarea","widget-textarea__content",s);t.value="[1,2,3]",t.id="getValueTextArea";var u=f["default"].DomUtil.create("div","widget-servicequery__maxfeatures-container hidden",j),v={spanName:i.Lang.i18n("text_label_maxFeatures"),value:"1000"},w=this._creatInputBox(v,u).children[1];w.classList.add("max-features-input");var x=f["default"].DomUtil.create("div","widget-servicequery__distance-container hidden",j),y={spanName:i.Lang.i18n("text_label_bufferDistance"),value:"10"},z=this._creatInputBox(y,x).children[1],A=f["default"].DomUtil.create("div","widget-analysis__container widget-textarea--dataservice__container hidden",j),B=f["default"].DomUtil.create("span","textarea-name",A),C=f["default"].DomUtil.create("div","",A),D=f["default"].DomUtil.create("div","widget-servicequery__rangeicon-container",C);B.innerHTML=i.Lang.i18n("text_label_queryRange1");var E=f["default"].DomUtil.create("div","widget-servicequery__rangeicon supermapol-icons-polygon-layer bounds",D),F=f["default"].DomUtil.create("div","widget-servicequery__rangeicon supermapol-icons-line-layer hidden",D),G=f["default"].DomUtil.create("div","widget-servicequery__rangeicon supermapol-icons-point-layer hidden",D),H=f["default"].DomUtil.create("div","widget-textarea widget-textarea--rangequery",C);H.id="getfeaturesIdArr";var I=f["default"].DomUtil.create("div","",H),J=f["default"].DomUtil.create("div","widget-scrollarea-content",I);J.setAttribute("tabindex","1");var K=f["default"].DomUtil.create("textarea","widget-textarea__content widget-textarea--rangequery__content",J);K.value='{"leftBottom":{"x":-5,"y":-5},"rightTop":{"x":5,"y":5}}';var L=f["default"].DomUtil.create("div","widget-servicequery__spatialquerymode-container hidden",j),M={optionsArr:["CONTAIN","CROSS","DISJOINT","IDENTITY","INTERSECT","NONE","OVERLAP","TOUCH","WITHIN"],labelName:i.Lang.i18n("text_label_spatialQueryMode")},N=f["default"].DomUtil.create("div","widget-analysis__selecttool",L),O=new i.Select(M).getElement();O.children[1].classList.add("dataservice-select"),N.appendChild(O);var P=O.children[1].children[0];P.id="spatialQueryModeSelectName",O.children[1].children[2].classList.add("widget-servicequery__spatialquerymode__selectcontent");var Q=f["default"].DomUtil.create("div","widget-analysis__container__analysisbtn",j),R=f["default"].DomUtil.create("div","widget-analysis__analysisbtn",Q),S=f["default"].DomUtil.create("button","widget-analysis__analysisbtn--analysis",R);S.innerHTML=i.Lang.i18n("btn_query");var T=f["default"].DomUtil.create("div","widget-analysis__analysisbtn--analysing-container hidden",R),U=f["default"].DomUtil.create("div","widget-analysis__analysisbtn--analysising widget-servicequery__querybtn--querying",T);f["default"].DomUtil.create("div","widget-analysis__svg-container",U).innerHTML='<svg class="widget-analysis__svg-rotate" width="16px" height="16px" version="1.1" xmlns="http://www.w3.org/2000/svg">\n             <path id="ring" fill="#FFF" transform="translate(8,8)" d="M 0 0 v -8 A 8 8 0 1 1 -8.00 0 z"></path>\n             <circle cx="8" cy="8" r="6" fill="#38ADF5"></circle>\n             <rect class="svg-top" x="8" y="0" rx="2" ry="2" width="2" height="2" style="fill: rgb(255, 255, 255); stroke-width: 0;"></rect>\n             <rect class="svg-left" x="0" y="8" rx="2" ry="2" width="2" height="2" style="fill: rgb(255, 255, 255); stroke-width: 0;"></rect>\n         </svg>',f["default"].DomUtil.create("span","",U).innerHTML=i.Lang.i18n("btn_querying");var V=f["default"].DomUtil.create("button","widget-analysis__analysisbtn--analysis widget-analysis__analysisbtn--deletelayers",R);V.innerHTML=i.Lang.i18n("btn_emptyTheRresultLayer"),a(k[0]);var W=this;S.onclick=function(){b.messageBox.closeView(),T.style.display="block",S.style.display="none";var a=function(){var a=W.dataSetNames,b=document.getElementById("queryModelSelectName").title,c=t.value,d=void 0;if("ID"===b){var e=t.value,g=e.substring(1,e.length-1).split(",");d=new i.GetFeaturesByIDsParameters({IDs:g,datasetNames:a})}else if("SQL"===b){var h=w.value;d=new i.GetFeaturesBySQLParameters({queryParameter:{attributeFilter:c},datasetNames:a,maxFeatures:h})}else if("BOUNDS"===b){if(!X){var j=JSON.parse(K.value);X=f["default"].bounds([j.leftBottom.x,j.leftBottom.y],[j.rightTop.x,j.rightTop.y])}d=new i.GetFeaturesByBoundsParameters({attributeFilter:c,datasetNames:a,bounds:X})}else if("BUFFER"===b){var k=z.value,l=JSON.parse(K.value),m=Y||l;d=new i.GetFeaturesByBufferParameters({attributeFilter:c,datasetNames:a,bufferDistance:k,geometry:m})}else if("SPATIAL"===b){var n=P.title,o=JSON.parse(K.value),p=Y||o;d=new i.GetFeaturesByGeometryParameters({attributeFilter:c,datasetNames:a,spatialQueryMode:n,geometry:p})}return d}();b.viewModel.on("getfeaturessucceeded",function(a){T.style.display="none",S.style.display="block",0===a.result.features.length&&b.messageBox.showView(i.Lang.i18n("msg_dataReturnedIsEmpty"),"success"),b._event.fire("getfeaturessucceeded",{result:a.result})}),b.viewModel.on("getfeaturesfailed",function(a){T.style.display="none",S.style.display="block",b.messageBox.showView(a.error.errorMsg,"failure"),b._event.fire("getfeaturesfailed",{error:a.error})}),b.viewModel.getFeatures(a,b.map)};var X=void 0,Y=void 0;return E.onclick=function(a){var c=document.getElementById("queryModelSelectName").title;Y&&Y.remove(),"BOUNDS"===c?b.map.pm.enableDraw("Rectangle"):b.map.pm.enableDraw("Poly"),a.stopPropagation(),a.preventDefault()},F.onclick=function(a){Y&&Y.remove(),b.map.pm.enableDraw("Line"),a.stopPropagation(),a.preventDefault()},G.onclick=function(a){Y&&Y.remove(),b.map.pm.enableDraw("Marker"),a.stopPropagation(),a.preventDefault()},this.map.on("pm:create",function(a){if("Rectangle"===a.shape){var c=(Y=a.layer).getBounds();X=f["default"].bounds([c._southWest.lng,c._southWest.lat],[c._northEast.lng,c._northEast.lat]);var d={leftBottom:{x:c._southWest.lng,y:c._southWest.lat},rightTop:{x:c._northEast.lng,y:c._northEast.lat}};K.value=JSON.stringify(d)}"Marker"===a.shape&&(Y=a.layer,K.value=JSON.stringify(a.layer.toGeoJSON()),b.map.pm.disableDraw("Marker")),"Line"===a.shape&&(Y=a.layer,K.value=JSON.stringify(a.layer.toGeoJSON())),"Poly"===a.shape&&(Y=a.layer,K.value=JSON.stringify(a.layer.toGeoJSON()))}),V.onclick=function(){b.viewModel.clearLayers()},this._preventMapEvent(c,this.map),c},_creatInputBox:function(a,b){var c=f["default"].DomUtil.create("div","",b);return f["default"].DomUtil.create("span","",c).innerHTML=a.spanName,f["default"].DomUtil.create("input","",c).value=a.value,c}}),k=b.dataServiceQueryView=function(a,b,c){return new j(a,b,c)};f["default"].supermap.widgets.dataServiceQuery=k},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.DistributedAnalysisModel=void 0;var d,e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=c(2),g=(d=f)&&d.__esModule?d:{"default":d};c(3);var h=c(5),i=b.DistributedAnalysisModel=function(a){function b(){return function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b),function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g["default"].Evented),e(b,[{key:"initialize",value:function(a){this.processingUrl=a}},{key:"getDatasetsName",value:function(){var a=this.processingUrl;this.dataset=[],this.dataset.datasetNames=[],this.dataset.childUrl=[];var b="http://"+a.split("/")[2],c=b+"/iserver/services/datacatalog/rest/datacatalog/sharefile.json",d=b+"/iserver/services/datacatalog/rest/datacatalog/relationship/datasets.json",e=this;h.FetchRequest.get(c).then(function(a){return a.json()}).then(function(a){e.dataset.datasetNames=e.dataset.datasetNames.concat(a.datasetNames),e.dataset.childUrl=e.dataset.childUrl.concat(a.childUriList);var b=e;h.FetchRequest.get(d).then(function(a){return a.json()}).then(function(a){b.dataset.datasetNames=b.dataset.datasetNames.concat(a.datasetNames),b.dataset.childUrl=b.dataset.childUrl.concat(a.childUriList);var c=[];for(var d in b.dataset.datasetNames)c[b.dataset.datasetNames[d]]=b.dataset.childUrl[d];b.fire("datasetsloaded",{result:{dataset:b.dataset,datasetHash:c}})})})}},{key:"getDatasetInfo",value:function(a){var b=void 0,c=this;h.FetchRequest.get(a).then(function(a){return a.json()}).then(function(a){var d=a.datasetInfo;"LINE"===d.datasetType||"LINE"===d.type?b="LINE":"POINT"===d.datasetType||"POINT"===d.type||"CSV"===d.type?b="POINT":"REGION"!==d.datasetType&&"REGION"!==d.type||(b="REGION");var e=[],f=d.fieldInfos||d.fieldInfo||null;if(f){for(var g in f)e.push(f[g].name);c.fire("datasetinfoloaded",{result:{type:b,fields:e}})}else{var i=a.childUriList[0].replace("//fields","/fields");h.FetchRequest.get(i).then(function(a){return a.json()}).then(function(a){var d=a.fieldNames,e=[];for(var f in d)e.push(d[f]);c.fire("datasetinfoloaded",{result:{type:b,fields:e}})})}})}}]),b}();g["default"].supermap.widgets.DistributedAnalysisModel=i},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.distributedAnalysisView=b.DistributedAnalysisView=void 0;var d,e=c(2),f=(d=e)&&d.__esModule?d:{"default":d},g=c(42),h=c(139),i=c(5),j=b.DistributedAnalysisView=g.WidgetsViewBase.extend({initialize:function(a,b){g.WidgetsViewBase.prototype.initialize.apply(this,[b]),this.viewModel=new h.DistributedAnalysisViewModel(a)},onAdd:function(a){return this._fillDataToView(),g.WidgetsViewBase.prototype.onAdd.apply(this,[a])},_fillDataToView:function(){var a=this;this.viewModel.on("datasetsloaded",function(b){var c=b.result.dataset.datasetNames;a.datasetSelect.innerHTML="",a._createOptions(a.datasetSelect,c),a.datasetSelectObj.optionClickEvent(a.datasetSelect,a.datasetSelectName,a.datasetSelectOnchange),a.dataHash=b.result.datasetHash}),this.viewModel.getDatasetsName()},_initView:function(){function a(a){if(this.messageBox.closeView(),this.dataHash){F.innerHTML="";var b=this.dataHash[a.title],c=this;this.viewModel.on("datasetinfoloaded",function(a){E.title=i.Lang.i18n("text_option_notSet"),E.innerHTML=i.Lang.i18n("text_option_notSet"),F.innerHTML="";var b=h.getAttribute("data-value"),d=a.result.type,e=a.result.fields;"density"===b&&("REGION"===d||"LINE"===d?c.messageBox.showView(i.Lang.i18n("msg_datasetOrMethodUnsupport"),"failure"):(c.messageBox.closeView(),c._createOptions(F,e),c.weightFieldsSelectObj.optionClickEvent(F,E)))}),this.viewModel.getDatasetInfo(b)}}var b=this,c=new i.CommonContainer({title:i.Lang.i18n("title_distributedAnalysis")}).getElement();c.classList.add("widget-analysis"),c.children[0].style.fontSize="12px";var d=f["default"].DomUtil.create("div","widget-content widget-content--scroll widget-content--analysis",c),e=[{title:i.Lang.i18n("text_densityAnalysis"),dataValue:"density",remark:i.Lang.i18n("text_CalculateTheValuePerUnitArea"),icon:{className:"widget-analyst-density-img"}}],g=new i.DropDownBox(e).getElement();d.appendChild(g);var h=g.children[0].children[0].children[0],j=f["default"].DomUtil.create("div","widget-analysis__container",d),k=f["default"].DomUtil.create("div","analysistype",j),l=f["default"].DomUtil.create("div","widget-analysis__container__analysisLayer",k),m=f["default"].DomUtil.create("div","widget-analysis__selecttool",l),n={optionsArr:[i.Lang.i18n("text_option_selectDataset")],labelName:i.Lang.i18n("text_label_dataset"),optionsClickCb:a.bind(this)},o=new i.Select(n),p=o.getElement();this.datasetSelectObj=o,m.appendChild(p);var q=p.children[1].children[0];this.datasetSelectName=q;var r=p.children[1].children[2].children[0].children[0];r.children[0].style.display="none",this.datasetSelect=r;var s=f["default"].DomUtil.create("div","widget-analysis__idw",l),t=[{optionsArr:[i.Lang.i18n("text_option_simplePointDensityAnalysis"),i.Lang.i18n("text_option_nuclearDensityAnalysis")],labelName:i.Lang.i18n("text_label_analyticalMethod")},{optionsArr:[i.Lang.i18n("text_option_quadrilateral"),i.Lang.i18n("text_option_hexagon")],labelName:i.Lang.i18n("text_label_meshType")}],u=f["default"].DomUtil.create("div","widget-analysis__idw__selecttool",s);for(var v in t){var w=new i.Select(t[v]).getElement();u.appendChild(w)}var x={optionsArr:[i.Lang.i18n("text_option_notSet")],labelName:i.Lang.i18n("text_label_weightField")},y=new i.Select(x),z=y.getElement();u.appendChild(z),this.weightFieldsSelectObj=y;var A=u.children[0].children[1].children[0];A.setAttribute("data-value","0");var B=u.children[0].children[1].children[2].children[0].children[0];this._setEleAtribute(["0","1"],"data-value",B.children);var C=u.children[1].children[1].children[0];C.setAttribute("data-value","0");var D=u.children[1].children[1].children[2].children[0].children[0];this._setEleAtribute(["0","1"],"data-value",D.children);var E=u.children[2].children[1].children[0],F=u.children[2].children[1].children[2].children[0].children[0],G=[{spanName:i.Lang.i18n("text_label_queryRange"),value:""}];for(var H in G)this._creatInputBox(G[H],u);var I=u.children[3].children[1];I.setAttribute("placeholder",i.Lang.i18n("text_label_queryRangeTips")),I.title=i.Lang.i18n("text_label_queryRangeTips");var J={labelName:i.Lang.i18n("text_label_gridSizeInMeters"),selectOptions:{optionsArr:["Meter","Kilometer","Yard","Foot","Mile"]}},K=this._creatUnitSelectBox(J,u),L=K.children[1].children[0];L.value="1000";var M=K.children[1].children[1].children[0].children[0].children[0],N={labelName:i.Lang.i18n("text_label_searchRadius"),selectOptions:{optionsArr:["Meter","Kilometer","Yard","Foot","Mile"]}},O=this._creatUnitSelectBox(N,u),P=O.children[1].children[0];P.value="300";var Q=O.children[1].children[1].children[0].children[0].children[0],R={labelName:i.Lang.i18n("text_label_areaUnit"),optionsArr:["SquareMile","SquareMeter","Hectare","Acre","SquareFoot","SquareYard"]},S=new i.Select(R).getElement();u.appendChild(S);var T=S.children[1].children[0],U=f["default"].DomUtil.create("div","range-content",k),V={optionsArr:[i.Lang.i18n("text_option_notSet"),i.Lang.i18n("text_option_equidistantSegmentation"),i.Lang.i18n("text_option_logarithm"),i.Lang.i18n("text_option_equalCountingSegment"),i.Lang.i18n("text_option_squareRootSegmentation")],labelName:i.Lang.i18n("text_label_thematicMapSegmentationMode"),optionsClickCb:function(a){"NOTSET"!==a.getAttribute("data-value")?(Y.classList.remove("hidden"),Z.classList.remove("hidden")):(Y.classList.add("hidden"),Z.classList.add("hidden"))}};U.appendChild(new i.Select(V).getElement());var W=U.children[0].children[1].children[0];W.setAttribute("data-value","NOTSET");var X=U.children[0].children[1].children[2].children[0].children[0];this._setEleAtribute(["NOTSET","EQUALINTERVAL","LOGARITHM","QUANTILE","SQUAREROOT"],"data-value",X.children);var Y=this._creatInputBox({spanName:i.Lang.i18n("text_label_thematicMapSegmentationParameters"),value:"20"},U);Y.classList.add("hidden");var Z=new i.Select({optionsArr:[i.Lang.i18n("text_option_greenOrangePurpleGradient"),i.Lang.i18n("text_option_greenOrangeRedGradient"),i.Lang.i18n("text_option_rainbowGradient"),i.Lang.i18n("text_option_spectralGradient"),i.Lang.i18n("text_option_terrainGradient")],labelName:i.Lang.i18n("text_label_thematicMapColorGradientMode")}).getElement();U.appendChild(Z),Z.classList.add("hidden");var $=Z.children[1].children[2].children[0].children[0],_=Z.children[1].children[0];_.setAttribute("data-value","GREENORANGEVIOLET"),this._setEleAtribute(["GREENORANGEVIOLET","GREENORANGERED","RAINBOW","SPECTRUM","TERRAIN"],"data-value",$.children);var aa=f["default"].DomUtil.create("div","",k);f["default"].DomUtil.create("span","",aa).innerHTML=i.Lang.i18n("text_label_resultLayerName");var ba=f["default"].DomUtil.create("input","widget-distributeanalysis__input",aa),ca=f["default"].DomUtil.create("div","widget-analysis__container__analysisbtn",j),da=f["default"].DomUtil.create("div","widget-analysis__analysisbtn",ca),ea=f["default"].DomUtil.create("button","widget-analysis__analysisbtn--analysis",da);ea.innerHTML=i.Lang.i18n("btn_analyze");var fa=f["default"].DomUtil.create("div","widget-analysis__analysisbtn--analysing-container hidden",da),ga=f["default"].DomUtil.create("div","widget-analysis__analysisbtn--analysising",fa);ga.style.width="200px",f["default"].DomUtil.create("div","widget-analysis__svg-container",ga).innerHTML='<svg class="widget-analysis__svg-rotate" width="16px" height="16px" version="1.1" xmlns="http://www.w3.org/2000/svg">\n            <path id="ring" fill="#FFF" transform="translate(8,8)" d="M 0 0 v -8 A 8 8 0 1 1 -8.00 0 z"></path>\n            <circle cx="8" cy="8" r="6" fill="#38ADF5"></circle>\n            <rect class="svg-top" x="8" y="0" rx="2" ry="2" width="2" height="2" style="fill: rgb(255, 255, 255); stroke-width: 0;"></rect>\n            <rect class="svg-left" x="0" y="8" rx="2" ry="2" width="2" height="2" style="fill: rgb(255, 255, 255); stroke-width: 0;"></rect>\n        </svg>',f["default"].DomUtil.create("span","",ga).innerHTML=i.Lang.i18n("btn_analyzing");var ha=f["default"].DomUtil.create("button","widget-analysis__analysisbtn--analysis widget-analysis__analysisbtn--deletelayers",da);return ha.id="deleteLayersBtn",ha.innerHTML=i.Lang.i18n("btn_emptyTheAnalysisLayer"),this.messageBox=new i.MessageBox,this.datasetSelectOnchange=a.bind(this),ea.onclick=function(){b.messageBox.closeView();var a=function(){var a=h.getAttribute("data-value"),b=A.getAttribute("data-value"),c=C.getAttribute("data-value"),d=I.value,e=M.title,f=Q.title,g=T.title,j=_.getAttribute("data-value"),k=W.getAttribute("data-value"),l=new Date,m=ba.value||l.getTime(),n=void 0;n="NOTSET"===k?"":{rangeMode:k,rangeCount:Y.value,colorGradientType:j};var o=void 0;return"density"===a&&(o=new i.KernelDensityJobParameter({datasetName:q.title,method:b,meshType:c,resolution:L.value,fields:E.title,radius:P.value,meshSizeUnit:e,radiusUnit:f,areaUnit:g,query:d,mappingParameters:new i.MappingParameters({rangeMode:n.rangeMode,rangeCount:n.rangeCount,colorGradientType:n.colorGradientType})})),{analysisParam:o,resultLayerName:m}}();q.title===i.Lang.i18n("text_option_selectDataset")?b.messageBox.showView(i.Lang.i18n("msg_selectDataset"),"failure"):E.title===i.Lang.i18n("text_option_notSet")?b.messageBox.showView(i.Lang.i18n("msg_setTheWeightField"),"failure"):(b.messageBox.closeView(),fa.style.display="block",ea.style.display="none",b.viewModel.on("layerloaded",function(a){fa.style.display="none",ea.style.display="block",b._event.fire("analysissucceeded",{layer:a.layer,name:a.name})}),b.viewModel.on("analysisfailed",function(a){b.messageBox.showView(i.Lang.i18n("msg_theFieldNotSupportAnalysis"),"failure"),fa.style.display="none",ea.style.display="block",b._event.fire("analysisfailed",{error:a.error})}),b.viewModel.analysis(a,b.map))},ha.onclick=function(){b.viewModel.on("layersremoved",function(a){b._event.fire("layersremoved",{layers:a.layers})}),b.viewModel.clearLayers()},this._preventMapEvent(c,this.map),c},_createOptions:function(a,b){for(var c in b){var d=document.createElement("div");d.className="widget-selecttool__option",d.title=b[c],d.innerHTML=b[c],d.setAttribute("data-value",b[c]),a.appendChild(d)}},_creatInputBox:function(a,b){var c=f["default"].DomUtil.create("div","",b);f["default"].DomUtil.create("span","",c).innerHTML=a.spanName;var d=f["default"].DomUtil.create("input","",c);return d.value=a.value,d.className="widget-distributeanalysis__input",c},_creatUnitSelectBox:function(a,b){var c=f["default"].DomUtil.create("div","widget-clientcomputation__buffer--radius",b);f["default"].DomUtil.create("span","",c).innerHTML=a.labelName;var d=f["default"].DomUtil.create("div","",c);f["default"].DomUtil.create("input","buffer-radius-input",d);var e=f["default"].DomUtil.create("div","widget-clientcomputation__buffer--unit",d),g=a.selectOptions,h=new i.Select(g).getElement();return e.appendChild(h),c},_setEleAtribute:function(a,b,c){for(var d=0;d<c.length;d++)c[d].setAttribute(b,a[d])}}),k=b.distributedAnalysisView=function(a){return new j(a)};f["default"].supermap.widgets.distributedAnalysis=k},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.clientComputationLayer=b.ClientComputationLayer=void 0;var d,e=c(2),f=(d=e)&&d.__esModule?d:{"default":d};c(3);var g=b.ClientComputationLayer=function i(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,i),this.layerName=a.layerName,this.layer=a.layer,this.fields=a.fields||null},h=b.clientComputationLayer=function(a){return new g(a)};f["default"].supermap.widgets.clientComputationLayer=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.clientComputationView=b.ClientComputationView=void 0;var d,e=c(2),f=(d=e)&&d.__esModule?d:{"default":d},g=c(42),h=c(141),i=c(5),j=b.ClientComputationView=g.WidgetsViewBase.extend({initialize:function(a,b){if(!a)throw new Error("workerUrl is required");this.workerUrl=a,g.WidgetsViewBase.prototype.initialize.apply(this,[b])},onAdd:function(a){return this.map=a,g.WidgetsViewBase.prototype.onAdd.apply(this,[a])},addLayer:function(a){this.layers=this.layers||[],this.layers.push(a);var b=this.viewModel.getLayersData(this.layers);this.fillDataToView(b)},fillDataToView:function(a){if(a){this.fillData=a;var b={};switch(document.getElementById("dropDownTop").getAttribute("data-value")){case"isolines":case"buffer":b=a.point}if("{}"!=JSON.stringify(b)){var c=[];for(var d in b)c.push(d);var e=document.getElementById("layersSelect"),f=document.getElementById("layerSelectName");e.innerHTML="",f.title=c[0],f.innerHTML=c[0],this._createOptions(e,c),this.layerSelectObj.optionClickEvent(e,f,this.layersSelectOnchange);var g=b[f.title],h=g.fields,j=g.fieldsValue;this.currentData=g,this.currentFillData=b;var k=document.getElementById("fieldsSelect");k.innerHTML="";var l=document.getElementById("fieldsSelectName");l.innerHTML=h[0],l.title=h[0],this._createOptions(k,h),this.fieldsSelectObj.optionClickEvent(k,l,this.fieldsSelectOnchange);var m=l.title,n=document.getElementById("getValueTextArea");n.value=j[m].toString().replace(/,/g,",\r\n"),n.setAttribute("data-value",j[m]);var o=document.getElementById("resultLayersName");switch(document.getElementById("dropDownTop").getAttribute("data-value")){case"isolines":o.value=i.Lang.i18n("text_label_isolines")+f.title;break;case"buffer":o.value=i.Lang.i18n("text_label_buffer")+f.title}}}},_initView:function(){var a=this;this.workerUrl&&(this.viewModel=new h.ClientComputationViewModel(this.workerUrl));var b=new i.CommonContainer({title:i.Lang.i18n("title_clientComputing")}).getElement();b.classList.add("widget-analysis"),b.children[0].style.fontSize="12px";var c=[{title:i.Lang.i18n("text_isoline"),dataValue:"isolines",remark:i.Lang.i18n("text_extractDiscreteValue"),icon:{className:"widget-analyst-isoline-img"}},{title:i.Lang.i18n("text_buffer"),dataValue:"buffer",remark:i.Lang.i18n("text_specifyTheDistance"),icon:{className:"widget-analyst-buffer-img"}}],d=b.children[1];d.classList.add("widget-content--scroll"),d.classList.add("widget-content--analysis");var e=new i.DropDownBox(c).getElement();d.appendChild(e);var g=e.children[0].children[0],j=e.children[0].children[2].children[0];g.children[0].id="dropDownTop";var k=f["default"].DomUtil.create("div","widget-analysis__container",d),l=f["default"].DomUtil.create("div","widget-analysis__container__analysisLayer",k),m=f["default"].DomUtil.create("div","widget-analysis__selecttool",l);m.id="layerSelectControl";var n={optionsArr:[""],labelName:i.Lang.i18n("text_label_analysisLayer")},o=new i.Select(n),p=o.getElement();this.layerSelectObj=o,m.appendChild(p);var q=p.children[1].children[0];q.id="layerSelectName",p.children[1].children[2].children[0].children[0].id="layersSelect";var r=f["default"].DomUtil.create("div","widget-analysis__container__analysistype",k),s=f["default"].DomUtil.create("div","widget-clientcomputation__isoline",r),t={optionsArr:[""],labelName:i.Lang.i18n("text_label_extractField"),optionsClickCb:this.fieldsSelectOnchange},u=f["default"].DomUtil.create("div","widget-analysis__selecttool",s),v=new i.Select(t),w=v.getElement();this.fieldsSelectObj=v;var x=w.children[1].children[0];x.id="fieldsSelectName";var y=w.children[1].children[2].children[0].children[0];y.id="fieldsSelect",u.appendChild(w);var z=f["default"].DomUtil.create("div","widget-analysis__container",s);f["default"].DomUtil.create("span","widget-textarea__name",z).innerHTML=i.Lang.i18n("text_label_extractedValue");var A=f["default"].DomUtil.create("div","widget-textarea",z);A.id="getValueText";var B=f["default"].DomUtil.create("div","",A),C=f["default"].DomUtil.create("div","widget-scrollarea-content",B);C.setAttribute("tabindex","1");var D=f["default"].DomUtil.create("textarea","widget-textarea__content",C);D.id="getValueTextArea",D.setAttribute("rows","20");var E=f["default"].DomUtil.create("div","",s);f["default"].DomUtil.create("span","",E).innerHTML=i.Lang.i18n("text_label_distanceAttenuation");var F=f["default"].DomUtil.create("input","",E);F.value="3";var G=f["default"].DomUtil.create("div","",s);f["default"].DomUtil.create("span","",G).innerHTML=i.Lang.i18n("text_label_gridSize");var H=f["default"].DomUtil.create("input","",G);H.value="30";var I=f["default"].DomUtil.create("div","widget-clientcomputation__buffer hidden",r),J=f["default"].DomUtil.create("div","widget-clientcomputation__buffer--radius",I);f["default"].DomUtil.create("span","",J).innerHTML=i.Lang.i18n("text_label_bufferRadius");var K=f["default"].DomUtil.create("div","",J),L=f["default"].DomUtil.create("input","buffer-radius-input",K);L.id="bufferRadiusInput",L.value="10",L.setAttribute("placeholder",i.Lang.i18n("text_label_defaultkilometers"));var M=f["default"].DomUtil.create("div","widget-clientcomputation__buffer--unit",K);M.id="bufferUnit";var N={optionsArr:[i.Lang.i18n("text_option_kilometer")],labelName:i.Lang.i18n("text_label_unit")},O=new i.Select(N).getElement(),P=O.children[1].children[0];P.id="bufferUnitSelectName",O.children[1].children[2].children[0].children[0].id="bufferUnitSelect",O.children[0].style.display="none",M.appendChild(O);var Q=f["default"].DomUtil.create("div","",J),R=f["default"].DomUtil.create("div","widget-clientcomputation__buffer--issaveattrs",Q);R.id="saveAttrsContainer";var S=f["default"].DomUtil.create("div","checkbox checkbox-fault",R);S.id="saveAttrsCheckbox";var T=f["default"].DomUtil.create("div","lable",R);T.id="saveAttrsLabel",T.innerHTML=i.Lang.i18n("text_retainOriginal");var U=f["default"].DomUtil.create("div","widget-clientcomputation__buffer--isunion",Q);U.id="isUnionContainer";var V=f["default"].DomUtil.create("div","checkbox checkbox-fault",U);V.id="isUnionCheckbox";var W=f["default"].DomUtil.create("div","lable",U);W.innerHTML=i.Lang.i18n("text_mergeBuffer"),W.id="isUnionLabel";var X=f["default"].DomUtil.create("div","widget-analysis__container__resultLayersName",k);f["default"].DomUtil.create("span","",X).innerHTML=i.Lang.i18n("text_label_resultLayerName");var Y=f["default"].DomUtil.create("input","",X);Y.id="resultLayersName";var Z=f["default"].DomUtil.create("div","widget-analysis__container__analysisbtn",k),$=f["default"].DomUtil.create("div","widget-analysis__analysisbtn",Z),_=f["default"].DomUtil.create("button","widget-analysis__analysisbtn--analysis",$);
_.innerHTML=i.Lang.i18n("btn_analyze");var aa=f["default"].DomUtil.create("div","widget-analysis__analysisbtn--analysing-container hidden",$),ba=f["default"].DomUtil.create("div","widget-analysis__analysisbtn--analysising",aa),ca=f["default"].DomUtil.create("div","widget-analysis__svg-container",ba);ca.id="analyse_background",ca.innerHTML='<svg class="widget-analysis__svg-rotate" width="16px" height="16px" version="1.1" xmlns="http://www.w3.org/2000/svg">\n            <path id="ring" fill="#FFF" transform="translate(8,8)" d="M 0 0 v -8 A 8 8 0 1 1 -8.00 0 z"></path>\n            <circle cx="8" cy="8" r="6" fill="#38ADF5"></circle>\n            <rect class="svg-top" x="8" y="0" rx="2" ry="2" width="2" height="2" style="fill: rgb(255, 255, 255); stroke-width: 0;"></rect>\n            <rect class="svg-left" x="0" y="8" rx="2" ry="2" width="2" height="2" style="fill: rgb(255, 255, 255); stroke-width: 0;"></rect>\n        </svg>',f["default"].DomUtil.create("span","",ba).innerHTML=i.Lang.i18n("btn_analyzing");var da=f["default"].DomUtil.create("button","widget-analysis__analysisbtn--cancel",aa);da.innerHTML=i.Lang.i18n("btn_cancelAnalysis");var ea=f["default"].DomUtil.create("button","widget-analysis__analysisbtn--analysis widget-analysis__analysisbtn--deletelayers",$);ea.innerHTML=i.Lang.i18n("btn_emptyTheAnalysisLayer");for(var fa=function(b){j.children[b].onclick=function(){g.innerHTML=j.children[b].outerHTML,g.children[0].id="dropDownTop";var c=document.getElementById("layersSelect"),e=document.getElementById("layerSelectName"),f=j.children[b].getAttribute("data-value"),h={};switch(f){case"buffer":s.classList.add("hidden"),I.classList.remove("hidden"),d.style.height="422px",Y.value=i.Lang.i18n("text_label_buffer")+e.title,h=a.fillData.point;break;case"isolines":s.classList.remove("hidden"),I.classList.add("hidden"),d.style.height="712px",Y.value=i.Lang.i18n("text_label_isolines")+e.title,h=a.fillData.point}if(a.currentFillData!==h){if(c.innerHTML="","{}"==JSON.stringify(h))return Y.value="",e.title="",void(e.innerHTML="");var k=[];for(var l in h)k.push(l);e.title=k[0],e.innerHTML=k[0],a._createOptions(c,k),a.layerSelectObj.optionClickEvent(c,e,a.layersSelectOnchange),"buffer"===f?Y.value=i.Lang.i18n("text_label_buffer")+k[0]:"isolines"===f&&(Y.value=i.Lang.i18n("text_label_isolines")+k[0]),a.currentData=h[e.title],a.currentFillData=h}}},ga=0;ga<j.children.length;ga++)fa(ga);this.fieldsSelectOnchange=function(a){if(this.currentData){var b=this.currentData,c=a.title;D.value=b.fieldsValue[c].toString().replace(/,/g,",\r\n"),D.setAttribute("data-value",b.fieldsValue[c])}}.bind(this),this.layersSelectOnchange=function(a){if(this.currentData){var b=a.title,c=this.currentFillData[b];this.currentData=c,y.innerHTML="",this._createOptions(y,c.fields);var d=document.getElementById("fieldsSelectName"),e=c.fields[0];d.title=e,d.innerHTML=e;var f=e;this.fieldsSelectObj.optionClickEvent(y,d,this.fieldsSelectOnchange),D.value=c.fieldsValue[f].toString().replace(/,/g,",\r\n"),D.setAttribute("data-value",c.fieldsValue[f]);var g=document.getElementById("dropDownTop").getAttribute("data-value");switch(g){case"buffer":Y.value=i.Lang.i18n("text_label_buffer")+b;break;case"isolines":Y.value=i.Lang.i18n("text_label_isolines")+b}}}.bind(this);var ha=!0;T.classList.add("selected"),S.classList.add("checkbox-active"),R.onclick=function(){ha?(S.classList.add("checkbox-fault"),S.classList.remove("checkbox-active"),T.classList.remove("selected"),ha=!1):(S.classList.add("checkbox-active"),S.classList.remove("checkbox-fault"),T.classList.add("selected"),ha=!0,ia&&(V.classList.add("checkbox-fault"),V.classList.remove("checkbox-active"),ia=!1))};var ia=!1;return U.onclick=function(){ia?(V.classList.add("checkbox-fault"),V.classList.remove("checkbox-active"),W.classList.remove("selected"),ia=!1):(V.classList.add("checkbox-active"),V.classList.remove("checkbox-fault"),W.classList.add("selected"),ia=!0,ha&&(S.classList.add("checkbox-fault"),S.classList.remove("checkbox-active"),ha=!1))},this.messageBox=new i.MessageBox,_.onclick=function(){aa.style.display="block",_.style.display="none";var b=void 0;switch(document.getElementById("dropDownTop").getAttribute("data-value")){case"isolines":b=function(){var a=document.getElementById("dropDownTop").getAttribute("data-value"),b=document.getElementById("resultLayersName").value,c=q.title,d=x.title,e=D.value.replace(/[\r\n]/g,"").split(",").toString(),f=F.value,g=H.value;return{analysisMethod:a,analysisLayers:c,analysisFields:d,analysisFieldsValue:e,analysisBreaks:f,analysisCellSize:g,resultLayersName:b}}();break;case"buffer":b=function(){var a=document.getElementById("dropDownTop"),b=document.getElementById("resultLayersName").value,c=q.title,d=a.getAttribute("data-value"),e=L.value,f=P.title;return{analysisMethod:d,analysisLayers:c,radius:e,unit:f,resultLayersName:b,isSaveStatus:ha,isUnion:ia}}()}a.viewModel.analysis(b,a.map),a.viewModel.on("layerloaded",function(b){aa.style.display="none",_.style.display="block",a._event.fire("analysissucceeded",{layer:b.layer,name:b.name})}),a.viewModel.on("analysisfailed",function(){aa.style.display="none",_.style.display="block",a.messageBox.showView(i.Lang.i18n("msg_resultIsEmpty"),"failure"),a._event.fire("analysisfailed")})},da.onclick=function(){aa.style.display="none",_.style.display="block",a.viewModel.cancelAnalysis()},ea.onclick=function(){a.viewModel.on("layersremoved",function(b){a._event.fire("layersremoved",{layers:b.layers})}),a.viewModel.clearLayers()},this._preventMapEvent(b,this.map),b},_createOptions:function(a,b){for(var c in b){var d=document.createElement("div"),e=b[c];d.className="widget-selecttool__option",d.title=e,d.innerHTML=e,d.setAttribute("data-value",e),a.appendChild(d)}}}),k=b.clientComputationView=function(a){return new j(a)};f["default"].supermap.widgets.clientComputation=k},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.dataFlowViewModel=b.DataFlowViewModel=void 0;var d,e=c(2),f=(d=e)&&d.__esModule?d:{"default":d};c(3);var g=c(159),h=c(25),i=b.DataFlowViewModel=f["default"].Evented.extend({options:{_defaultLayerOptions:{style:null,onEachFeature:function(a,b){var c="属性信息如下：<br>";for(var d in a.properties)c+=d+": "+a.properties[d]+"<br>";b.bindPopup(c)}}},initialize:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return a?(this.map=a,f["default"].Util.extend(this.options._defaultLayerOptions,b),this.options._defaultLayerOptions.pointToLayer=this.options._defaultLayerOptions.style,this.popupsStatus=!0,this.dataFlowStatus=!1,this.dataFlowUrl="",this.currentFeatures=[],this.dataFlowLayer=null,void 0):new Error("Cannot find map, fileModel.map cannot be null.")},subscribe:function(a){var b=this;if(this.dataFlowUrl===a){if(this.dataFlowStatus)return void this.fire("dataflowservicesubscribed")}else this.dataFlowUrl=a;this.dataFlowStatus=!0,this.dataFlowLayer&&(this.dataFlowLayer.remove(),this.dataFlowLayer=null);var c=new g.DataFlowLayer(a,this.options._defaultLayerOptions);c.on("subscribesucceeded",function(a){b.fire("subscribesucceeded",{result:a})}),c.on("subscribefailed",function(a){b.fire("subscribefailed",{result:a})}),c.on("dataupdated",function(a){b.fire("dataupdated",{result:a});var c=a.layer.getBounds(),d=h.CommontypesConversion.toSuperMapBounds(b.map.getBounds()),e=h.CommontypesConversion.toSuperMapBounds(c);d.intersectsBounds(e)||(e.left===e.right&&e.top===e.bottom?b.map.setView(c.getCenter()):b.map.flyToBounds(c)),b.popupsStatus&&b.openPopups()}),c.addTo(this.map),this.dataFlowLayer=c},cancelSubscribe:function(){this.dataFlowLayer&&(this.dataFlowStatus=!1,this.dataFlowLayer.dataService.unSubscribe(),this.dataFlowLayer.remove(),this.dataFlowLayer=null)},openPopups:function(){if(this.popupsStatus=!0,this.dataFlowLayer)for(var a=this.dataFlowLayer.getLayers(),b=0;b<a.length;b++)for(var c=0;c<a[b].getLayers().length;c++)a[b].getLayers()[c].openPopup()},closePopups:function(){if(this.popupsStatus=!1,this.dataFlowLayer)for(var a=this.dataFlowLayer.getLayers(),b=0;b<a.length;b++)for(var c=0;c<a[b].getLayers().length;c++)a[b].getLayers()[c].closePopup()}}),j=b.dataFlowViewModel=function(a){return new i(a)};f["default"].supermap.widgets.dataFlowViewModel=j},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.dataFlowView=b.DataFlowView=void 0;var d,e=c(2),f=(d=e)&&d.__esModule?d:{"default":d},g=c(42),h=c(5),i=c(332),j=b.DataFlowView=g.WidgetsViewBase.extend({initialize:function(a){g.WidgetsViewBase.prototype.initialize.apply(this,[a])},onAdd:function(a){var b={};return this.options.style&&(b.style=this.options.style),this.options.onEachFeature&&(b.style=this.options.onEachFeature),this.viewModel=new i.DataFlowViewModel(a,b),g.WidgetsViewBase.prototype.onAdd.apply(this,[a])},_initView:function(){var a=this,b=new h.CommonContainer({title:h.Lang.i18n("title_dataFlowService")}),c=b.getElement(),d=b.getContentElement();d.style.padding="10px 18px";var e=document.createElement("div");e.setAttribute("class","widget-dataflow__container");var f=document.createElement("div");f.setAttribute("class","widget-input-default");var g=document.createElement("input");g.setAttribute("class","widget-input-default"),g.type="text",g.placeholder=h.Lang.i18n("text_input_value_inputDataFlowUrl"),g.title=h.Lang.i18n("text_input_value_inputDataFlowUrl"),f.appendChild(g);var i=document.createElement("span");i.setAttribute("class","supermapol-icons-close"),i.hidden=!0,i.onclick=function(a){g.value="",a.target.hidden=!0},g.oninput=function(){i.hidden=!1},f.appendChild(i),e.appendChild(f),d.appendChild(e);var j=document.createElement("div");j.setAttribute("class","widget-dataflow__container");var k=document.createElement("div");k.setAttribute("class","widget-checkbox-container");var l=document.createElement("div");l.setAttribute("class","widget-checkbox-default widget-checkbox-selected-img"),l.checked=!0,k.appendChild(l);var m=document.createElement("div");m.setAttribute("class","widget-label widget-label-selected"),m.innerHTML=h.Lang.i18n("text_displayFeaturesInfo"),k.appendChild(m),l.onclick=function(b){b.target.checked=!b.target.checked,b.target.checked?(m.setAttribute("class","widget-label widget-label-selected"),b.target.setAttribute("class","widget-checkbox-default widget-checkbox-selected-img"),a.viewModel.openPopups()):(m.setAttribute("class","widget-label"),b.target.setAttribute("class","widget-checkbox-default widget-checkbox-default-img"),a.viewModel.closePopups())},j.appendChild(k),d.appendChild(j);var n=document.createElement("div");n.setAttribute("class","widget-dataflow__container widget-init-center");var o=document.createElement("button");o.setAttribute("class","widget-button-default"),o.innerHTML=h.Lang.i18n("text_subscribe"),o.onclick=function(){var b=g.value;""!==b?a.viewModel.subscribe(b):a.messageBox.showView(h.Lang.i18n("msg_inputDataFlowUrlFirst"))},n.appendChild(o);var p=document.createElement("button");return p.setAttribute("class","widget-button-default"),p.innerHTML=h.Lang.i18n("text_cancelSubscribe"),p.onclick=function(){a.viewModel.cancelSubscribe()},n.appendChild(p),d.appendChild(n),this.messageBox=new h.MessageBox,this.viewModel.on("dataflowservicesubscribed",function(){a.messageBox.showView("已订阅该数据流服务。")}),this.viewModel.on("subscribesucceeded",function(){a.messageBox.showView("数据流服务订阅成功。")}),this.viewModel.on("dataupdated",function(b){a.messageBox.closeView(),a._event.fire("dataupdated",b)}),this._preventMapEvent(c,this.map),c}}),k=b.dataFlowView=function(a){return new j(a)};f["default"].supermap.widgets.dataFlow=k},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.config={HOT:{HOT:["北京市","上海市","广州市","深圳市","南京市","杭州市","天津市","重庆市","成都市","青岛市","苏州市","无锡市","常州市","温州市","武汉市","长沙市","南昌市","三亚市","合肥市","石家庄市"]},AB:{A:["阿拉善盟","鞍山市","安庆市","安阳市","阿坝藏族羌族自治州","安顺市","阿里地区","安康市","阿克苏地区","阿勒泰地区","阿拉尔市"],B:["北京市","保定市","包头市","巴彦淖尔市","本溪市","白山市","白城市","蚌埠市","亳州市","滨州市","北海市","百色市","白沙黎族自治县","保亭黎族苗族自治县","巴中市","毕节地区","保山市","宝鸡市","白银市","博尔塔拉蒙古自治州","巴音郭楞蒙古自治州","北区"]},CD:{C:["重庆市","成都市","常州市","长沙市","承德市","沧州市","长治市","赤峰市","朝阳市","长春市","滁州市","巢湖市","池州市","常德市","郴州市","潮州市","崇左市","澄迈县","昌江黎族自治县","楚雄彝族自治州","昌都地区","昌吉回族自治州"],D:["大同市","大连市","丹东市","大庆市","大兴安岭地区","东营市","德州市","东莞市","儋州市","东方市","定安县","德阳市","达州市","大理白族自治州","德宏傣族景颇族自治州","迪庆藏族自治州","定西市","东区","大埔区","大堂区"]},EFG:{E:["鄂尔多斯市","鄂州市","恩施土家族苗族自治州"],F:["抚顺市","阜新市","阜阳市","福州市","抚州市","佛山市","防城港市"],G:["广州市","赣州市","桂林市","贵港市","广元市","广安市","贵阳市","固原市","高雄市","高雄县","甘南藏族自治州","甘孜藏族自治州"]},H:{H:["杭州市","合肥市","邯郸市","衡水市","呼和浩特市","呼伦贝尔市","葫芦岛市","哈尔滨市","鹤岗市","黑河市","淮安市","湖州市","淮南市","淮北市","黄山市","菏泽市","鹤壁市","黄石市","黄冈市","衡阳市","怀化市","惠州市","河源市","贺州市","河池市","海口市","红河哈尼族彝族自治州","汉中市","海东地区","海北藏族自治州","黄南藏族自治州","海南藏族自治州","果洛藏族自治州","海西蒙古族藏族自治州","哈密地区","和田地区","花莲县","黄大仙区","花地玛堂区"]},J:{J:["晋城市","晋中市","锦州市","吉林市","鸡西市","佳木斯市","嘉兴市","金华市","景德镇市","九江市","吉安市","济南市","济宁市","焦作市","济源市","荆门市","荆州市","江门市","湛江市","揭阳市","嘉峪关市","金昌市","酒泉市","基隆市","嘉义市","嘉义县","九龙城区","嘉模堂区"]},KL:{K:["开封市","昆明市","克拉玛依市","克孜勒苏柯尔克孜自治州","喀什地区"],L:["廊坊市","临汾市","吕梁市","辽阳市","辽源市","连云港市","丽水市","六安市","龙岩市","莱芜市","临沂市","聊城市","洛阳市","漯河市","娄底市","柳州市","来宾市","临高县","乐东黎族自治县","陵水黎族自治县","泸州市","乐山市","凉山彝族自治州","六盘水市","丽江市","临沧市","拉萨市","林芝地区","兰州市","陇南市","临夏回族自治州"]},MNP:{M:["牡丹江市","马鞍山市","茂名市","梅州市","绵阳市","眉山市","苗栗县"],N:["南京市","南昌市","南通市","宁波市","南平市","宁德市","南阳市","南宁市","南沙群岛","内江市","南充市","怒江傈傈族自治州","那曲地区","南投县"],P:["盘锦市","莆田市","萍乡市","平顶山市","濮阳市","攀枝花市","平凉市","屏东县","澎湖县"]},QR:{Q:["青岛市","秦皇岛市","齐齐哈尔市","黔西南布依族苗族自治州","七台河市","衢州市","泉州市","潜江市","清远市","钦州市","琼海市","曲靖市","庆阳市","荃湾区","黔东南苗族侗族自治州","黔南布依族苗族自治州","琼中黎族苗族自治县"],R:["日照市","日喀则地区"]},S:{S:["上海市","深圳市","苏州市","石家庄市","三亚市","朔州市","沈阳市","四平市","松原市","双鸭山市","绥化市","宿迁市","绍兴市","宿州市","三明市","上饶市","三门峡市","商丘市","十堰市","随州市","邵阳市","韶关市","汕头市","汕尾市","三亚市","遂宁市","思茅市","山南地区","商洛市","石嘴山市","石河子市","深水埗区","沙田区","神农架林区","圣安多尼堂区","圣方济各堂区"]},T:{T:["天津市","唐山市","太原市","通辽市","铁岭市","通化市","泰州市","台州市","铜陵市","泰安市","天门市","屯昌县","铜仁地区","铜川市","天水市","吐鲁番地区","塔城地区","图木舒克市","台北市","台中市","台南市","台北县","桃园县","台中县","台南县","台东县","屯门区"]},W:{W:["无锡市","温州市","武汉市","乌海市","乌兰察布市","芜湖市","潍坊市","威海市","梧州市","五指山市","文昌市","万宁市","文山壮族苗族自治州","渭南市","武威市","吴忠市","乌鲁木齐市","五家渠市","湾仔区","望德堂区"]},X:{X:["邢台市","忻州市","兴安盟","徐州市","宣城市","厦门市","新余市","新乡市","许昌市","信阳市","襄樊市","孝感市","咸宁市","仙桃市","湘潭市","西安市","咸阳市","西宁市","新竹市","新竹县","西贡区","锡林郭勒盟","西沙群岛","湘西土家族苗族自治州","西双版纳傣族自治州"]},Y:{Y:["阳泉市","运城市","营口市","延边朝鲜族自治州","伊春市","盐城市","扬州市","鹰潭市","宜春市","烟台市","宜昌市","岳阳市","益阳市","永州市","阳江市","云浮市","玉林市","宜宾市","雅安市","玉溪市","延安市","榆林市","玉树藏族自治州","银川市","伊犁哈萨克自治州","宜兰县","云林县","油尖旺区","元朗区"]},Z:{Z:["郑州市","张家口市","镇江市","舟山市","漳州市","淄博市","枣庄市","周口市","驻马店市","株洲市","张家界市","珠海市","肇庆市","中山市","自贡市","资阳市","遵义市","昭通市","张掖市","中卫市","彰化县","中西区","中沙群岛的岛礁及其海域"]}}},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.searchView=b.SearchView=void 0;var d,e=c(2),f=(d=e)&&d.__esModule?d:{"default":d},g=c(42),h=c(334),i=c(5),j=c(142),k=b.SearchView=g.WidgetsViewBase.extend({options:{cityConfig:h.config,cityGeoCodingConfig:{addressUrl:"http://www.supermapol.com/iserver/services/localsearch/rest/searchdatas/China/poiinfos",key:"fvV2osxwuZWlY0wJb8FEb2i5"},isGeoCoding:!0,pageSize:10,pageNum:1,perPageDataNum:8},initialize:function(a){g.WidgetsViewBase.prototype.initialize.apply(this,[a]),this.currentSearchLayerName="",this.isSearchLayer=!1,this.perPageDataNum=this.options.perPageDataNum},onAdd:function(a){return this.viewModel=new j.SearchViewModel(a,this.options),g.WidgetsViewBase.prototype.onAdd.apply(this,[a])},addSearchLayer:function(a){this.viewModel.addSearchLayers(a)},_initView:function(){var a=this,b=this,c=document.createElement("div");c.setAttribute("class","widget-search-container");var d=document.createElement("div");d.setAttribute("class","widget-search");var e=document.createElement("div");e.setAttribute("class","widget-search__settings");var f=document.createElement("div");f.setAttribute("class","widget-search__settings__name"),e.appendChild(f);var g=document.createElement("span");g.setAttribute("class","supermapol-icons-solid-down-triangle"),e.appendChild(g);var h=null;if(this.options.isGeoCoding){var j=new i.CityTabsPage({config:this.options.cityConfig});h=j.getElement(),j.content.onclick=function(b){"SPAN"===b.target.nodeName&&b.target.innerText&&(a.viewModel.panToCity(b.target.innerHTML),a.messageBox.closeView(),f.removeChild(f.firstChild),f.insertBefore(document.createTextNode(b.target.innerHTML),f.firstChild),a.isSearchLayer=!1)},f.appendChild(document.createTextNode(j.content.getElementsByTagName("span")[0].innerText))}var k=function(){var a=document.createElement("div");a.setAttribute("class","widget-search__layers");var c=document.createElement("div");c.setAttribute("class","widget-search-layers-content"),a.appendChild(c);var d=document.createElement("div");d.setAttribute("class","widget-search__layers__header");var e=document.createElement("div");e.setAttribute("class","load-btn"),d.appendChild(e);var g=document.createElement("span");g.setAttribute("class","supermapol-icons-poi-load"),e.appendChild(g);var h=document.createElement("span");h.appendChild(document.createTextNode("加载搜索条件")),e.appendChild(h);var i=document.createElement("div");i.setAttribute("class","save-btn"),d.appendChild(i);var j=document.createElement("span");j.setAttribute("class","supermapol-icons-poi-save"),i.appendChild(j);var k=document.createElement("span");k.appendChild(document.createTextNode("保存搜索条件")),i.appendChild(k);var l=document.createElement("div");return l.setAttribute("class","widget-search__layers__body"),l.onclick=function(a){b.clearSearchResult();var c=null;if("widget-search__layers__itme__singleselect"===a.target.classList[0])c=a.target;else{if("widget-single-default-img"!==a.target.classList[0]&&"single-label"!==a.target.classList[0])return;c=a.target.parentNode}document.getElementsByClassName("widget-single-checked-img").length>0&&document.getElementsByClassName("widget-single-checked-img")[0].setAttribute("class","widget-single-default-img"),c.firstChild.setAttribute("class","widget-single-checked-img"),b.currentSearchLayerName=c.lastChild.innerText,b.isSearchLayer=!0,f.removeChild(f.firstChild),f.insertBefore(document.createTextNode(b.currentSearchLayerName),f.firstChild),b.viewModel.panToLayer(b.currentSearchLayerName),b.messageBox.closeView()},c.appendChild(l),a}(),l=[];h&&l.push({title:"搜索城市",content:h}),l.push({title:"搜索图层",content:k});var m=new i.NavTabsPage({tabs:l}),n=m.getElement();m.closeView(),d.appendChild(n),e.onclick=function(){n.hidden?m.showView():m.closeView()},d.appendChild(e),f.innerText||f.appendChild(document.createTextNode("选择查询图层"));var o=document.createElement("div");o.setAttribute("class","widget-search__input");var p=document.createElement("input");p.type="text",p.placeholder="搜索城市地点或图层要素",o.appendChild(p),this.poiInput=p;var q=document.createElement("span");q.setAttribute("class","supermapol-icons-close"),q.hidden=!0,o.appendChild(q),d.appendChild(o);var r=document.createElement("div");r.setAttribute("class","widget-search-icon supermapol-icons-search"),r.onclick=function(){s.closeView(),a.clearSearchResult(),a.messageBox.closeView(),m.closeView();var b=a.poiInput.value.trim();""!==b?a.isSearchLayer?a.viewModel.search(b,a.currentSearchLayerName):a.viewModel.search(b):a.messageBox.showView("搜索关键字不能为空，请输入搜索条件。")},p.onkeypress=function(a){if(13==a.which){var b=document.createEvent("HTMLEvents");b.initEvent("click",!1,!0),r.dispatchEvent(b)}},d.appendChild(r);var s=new i.PaginationContainer;this._resultDomObj=s;var t=function(){var a=s.getElement();return a.style.position="absolute",a.style.top="44px",a.style.right="0",s.closeView(),s.content.onclick=function(a){var c=null;if("widget-search-result-info"===a.target.parentNode.className)c=a.target.parentNode.parentNode;else if("widget-search__resultitme"===a.target.parentNode.className)c=a.target.parentNode;else{if("widget-search__resultitme"!==a.target.className)return;c=a.target}document.getElementsByClassName("widget-search__resultitme-selected").length>0&&document.getElementsByClassName("widget-search__resultitme-selected")[0].classList.remove("widget-search__resultitme-selected"),c.firstChild.classList.add("widget-search__resultitme-selected");var d=c.children[1].firstChild.innerText;b._linkageFeature(d)},a}();return d.appendChild(t),q.onclick=function(b){a.clearSearchResult(),p.value="",b.target.hidden=!0,s.closeView()},p.oninput=function(){q.hidden=!1},this.messageBox=new i.MessageBox,this._addViewModelListener(),c.appendChild(d),this._preventMapEvent(c,this.map),c},_createSearchLayerItem:function(a){var b=document.createElement("div");b.setAttribute("class","widget-search__layers__itme");var c=document.createElement("div");c.setAttribute("class","widget-search__layers__itme__singleselect");var d=document.createElement("div");d.setAttribute("class","widget-single-default-img"),c.appendChild(d);var e=document.createElement("span");e.setAttribute("class","single-label"),e.innerHTML=a,c.appendChild(e),b.appendChild(c),document.getElementsByClassName("widget-search__layers__body")[0].appendChild(b)},_createResultItem:function(a,b){var c=document.createElement("div");c.setAttribute("class","widget-search__resultitme");var d=document.createElement("div");"Point"===a||"MultiPoint"===a?d.setAttribute("class","supermapol-icons-marker-layer widget-search-result-icon"):"LineString"===a||"MultiLineString "===a?d.setAttribute("class","supermapol-icons-line-layer widget-search-result-icon"):"Polygon"===a||"MultiPolygon"===a?d.setAttribute("class","supermapol-icons-polygon-layer widget-search-result-icon"):d.setAttribute("class","supermapol-icons-point-layer widget-search-result-icon"),c.appendChild(d);var e=document.createElement("div");e.setAttribute("class","widget-search-result-info");var f=document.createElement("div");e.appendChild(f);var g=document.createElement("div");return b.name?(f.innerHTML=b.name,g.innerHTML=b.address,e.appendChild(g)):f.innerHTML=b.filterAttributeName+": "+b.filterAttributeValue,c.appendChild(e),document.createElement("div").setAttribute("class","widget-checkbox widget-checkbox-default-img"),c},_addViewModelListener:function(){var a=this;this.viewModel.on("searchlayerschanged",function(b){for(var c=0;c<b.length;c++)a._createSearchLayerItem(b[c])}),this.viewModel.on("newlayeradded",function(b){a._createSearchLayerItem(b.layerName)}),this.viewModel.on("searchlayersucceeded",function(b){var c=b.result;a.clearSearchResult(),a.searchResultLayer=f["default"].featureGroup(c,{pointToLayer:a.options.style,style:a.options.style}).bindPopup(function(a){return a.feature.properties?new i.AttributesPopContainer({attributes:a.feature.properties}).getElement():void 0}).addTo(a.map),a.searchResultLayer.eachLayer(function(b){a.options.onEachFeature?a.options.onEachFeature(b.toGeoJSON(),b):a._featureOnclickEvent.bind(a)(b.toGeoJSON(),b)}),a.searchLayersData=c,a._prepareResultData(c),a._event.fire("searchlayersucceeded",{result:a.searchResultLayer.toGeoJSON()})}),this.viewModel.on("geocodesucceeded",function(b){var c=b.result;a.clearSearchResult(),a.searchResultLayer=f["default"].geoJSON(c,{pointToLayer:a.options.style,style:a.options.style,onEachFeature:a.options.onEachFeature||a._featureOnclickEvent.bind(a)}).bindPopup(function(a){return a.feature.properties?new i.AttributesPopContainer({attributes:a.feature.properties}).getElement():void 0}).addTo(a.map),a.searchLayersData=c,a._prepareResultData(c),a._event.fire("geocodesucceeded",{result:c})}),this.viewModel.on("searchfailed",function(b){var c="";c="searchGeocodeField"===b.searchType?"未匹配到地址匹配服务数据！":"cityGeocodeField"===b.searchType?"未配置当前城市的地址匹配服务。":"未查找到相关矢量要素！",a.messageBox.showView(c),a._event.fire("searchfailed",{message:c})})},_prepareResultData:function(a){this.currentResult=a;var b=Math.ceil(a.length/this.perPageDataNum);this._resultDomObj.setPageLink(b),this._createResultListByPageNum(1,a),this._resultDomObj.showView(),this._resultDomObj.setLinkageEvent(function(a){c._createResultListByPageNum(a,c.currentResult)});var c=this},_createResultListByPageNum:function(a,b){var c=0,d=void 0;1===a&&b.length<this.perPageDataNum?d=b.length-1:a*this.perPageDataNum>b.length?(c=this.perPageDataNum*(a-1),d=b.length-1):(c=this.perPageDataNum*(a-1),d=a*this.perPageDataNum-1);for(var e=document.createElement("div"),f=c;d>=f;f++){var g=void 0,h="Point";b[f].filterAttribute?(h=b[f].feature.geometry.type,g=b[f].filterAttribute):g=b[f].properties,e.appendChild(this._createResultItem(h,g))}this._resultDomObj.setContent(e),this._resultDomObj.showView(),e.firstChild.getElementsByClassName("widget-search-result-icon")[0].classList.add("widget-search__resultitme-selected");var i=e.firstChild.getElementsByClassName("widget-search-result-info")[0].firstChild.innerText;!this._selectMarkerFeature&&this._linkageFeature(i)},_flyToBounds:function(a){var b=a.getSouthWest(),c=a.getNorthEast();b.lat===c.lat&&b.lng===c.lng?this.map.flyTo(b):this.map.fitBounds(a)},_linkageFeature:function(a){var b=this,c="";c=this.isSearchLayer?a.split(":")[1].trim():a,this._selectFeature&&this._selectFeature.addTo(this.map),this.searchResultLayer.eachLayer(function(a){(!c||a.filterAttribute&&a.filterAttribute.filterAttributeValue===c||a.feature.properties&&a.feature.properties.name===c)&&(a.remove(),b._setSelectedLayerStyle(a))})},clearSearchResult:function(){this.searchResultLayer&&(this.map.closePopup(),!this.isSearchLayer&&this.map.removeLayer(this.searchResultLayer),this._selectMarkerFeature&&this.map.removeLayer(this._selectMarkerFeature),this._selectFeaturethis&&this.map.removeLayer(this._selectFeature),this._selectMarkerFeature=null,this._selectFeature=null,this.searchResultLayer=null,this.currentResult=null)},_featureOnclickEvent:function(a,b){var c=this;b.on("click",function(){var d=document.getElementsByClassName("widget-pagination__link")[0];c._resultDomObj._changePageEvent({target:d.children[0].children[0]}),c._selectFeature&&c._selectFeature.addTo(c.map),b.remove();for(var e=void 0,f=void 0,g=0;g<c.searchLayersData.length;g++){var h=c.searchLayersData[g];if(h.properties&&h.properties.name===a.properties.name||h.filterAttribute&&h.filterAttribute.filterAttributeName+": "+h.filterAttribute.filterAttributeValue==b.filterAttribute.filterAttributeName+": "+b.filterAttribute.filterAttributeValue){f=g%c.perPageDataNum,e=parseInt(g/c.perPageDataNum)+1;break}}if(e>1)for(var i=1;e>i;i++){var j;j=document.getElementsByClassName("widget-pagination__link")[0],c._resultDomObj._changePageEvent({target:j.children[j.children.length-2].children[0]})}var k=document.getElementsByClassName("widget-search-result-info"),l=k[f].children[0];if(l.innerHTML===a.properties.name||l.innerHTML===b.filterAttribute.filterAttributeName+": "+b.filterAttribute.filterAttributeValue){var m=k[f].parentNode;document.getElementsByClassName("widget-search__resultitme-selected").length>0&&document.getElementsByClassName("widget-search__resultitme-selected")[0].classList.remove("widget-search__resultitme-selected"),m.firstChild.classList.add("widget-search__resultitme-selected"),c._setSelectedLayerStyle(b)}},this)},_setSelectedLayerStyle:function(a){this._selectMarkerFeature&&this._selectMarkerFeature.remove(),this._selectMarkerFeature=null,this._selectFeature=a,this._selectMarkerFeature=f["default"].geoJSON(a.toGeoJSON(),{pointToLayer:function(a,b){return f["default"].marker(b,{icon:f["default"].divIcon({className:"widget-select-marker-icon",iconAnchor:[15,0]})})},style:{fillColor:"red",weight:1,opacity:1,color:"red",fillOpacity:.2}}).addTo(this.map),this._selectMarkerFeature.bindPopup(function(){return new i.AttributesPopContainer({attributes:a.feature.properties}).getElement()},{closeOnClick:!1}).openPopup().addTo(this.map),this._flyToBounds(this.searchResultLayer.getBounds());var b=void 0;a.getLatLng?b=a.getLatLng():a.getCenter&&(b=a.getCenter()),this.map.setView(b)}}),l=b.searchView=function(a){return new k(a)};f["default"].supermap.widgets.search=l},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.openFileView=b.OpenFileView=void 0;var d,e=c(2),f=(d=e)&&d.__esModule?d:{"default":d},g=c(42),h=c(143),i=c(5),j=b.OpenFileView=g.WidgetsViewBase.extend({options:{layer:null},initialize:function(a){g.WidgetsViewBase.prototype.initialize.apply(this,[a]),this.viewModel=new h.OpenFileViewModel},setViewStyle:function(a,b){this.rootContainer.style[a]=b},_initView:function(){var a=this,b=f["default"].DomUtil.create("div","widget-openfile");return b.id="openFile",this.fileSelect=f["default"].DomUtil.create("div","",b),this.label=f["default"].DomUtil.create("label","widget-openfile__span--select",this.fileSelect),this.label.htmlFor="input_file",f["default"].DomUtil.create("div","supermapol-icons-upload",this.label),f["default"].DomUtil.create("span","widget-openfile__span",this.label).appendChild(document.createTextNode(i.Lang.i18n("text_chooseFile"))),this.fileInput=f["default"].DomUtil.create("input","widget-openfile__input",this.fileSelect),this.fileInput.id="input_file",this.fileInput.type="file",this.fileInput.accept=".json,.geojson,.csv,.xls,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel",this.fileInput.onchange=function(b){a.messageBox.closeView(),a.viewModel.readFile(b)},this.messageBox=new i.MessageBox,this.viewModel.on("filesizeexceed",function(b){a.messageBox.showView(b.message,b.messageType)}),this.viewModel.on("errorfileformat",function(b){a.messageBox.showView(b.message,b.messageType)}),this.viewModel.on("openfilefailed",function(b){a.messageBox.showView(b.message,b.messageType),a._event.fire("openfilefailed",b)}),this.viewModel.on("readdatafail",function(b){a.messageBox.showView(b.message,b.messageType)}),this.viewModel.on("openfilesucceeded",function(b){a._event.fire("openfilesucceeded",b)}),this._preventMapEvent(b,this.map),b}}),k=b.openFileView=function(a){return new j(a)};f["default"].supermap.widgets.openFile=k},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.dataServiceQueryViewModel=b.DataServiceQueryViewModel=b.dataServiceQueryView=b.DataServiceQueryView=b.distributedAnalysisViewModel=b.DistributedAnalysisViewModel=b.distributedAnalysisView=b.DistributedAnalysisView=b.geoJSONLayerWithName=b.GeoJSONLayerWithName=b.GeoJsonLayerDataModel=b.GeoJsonLayersDataModel=b.clientComputationLayer=b.ClientComputationLayer=b.ClientComputationViewModel=b.clientComputationView=b.ClientComputationView=b.dataFlowView=b.DataFlowView=b.SearchViewModel=b.searchViewModel=b.searchView=b.SearchView=b.openFileViewModel=b.OpenFileViewModel=b.openFileView=b.OpenFileView=void 0;var d=c(336),e=c(143),f=c(335),g=c(142),h=c(333),i=c(331),j=c(141),k=c(330),l=c(93),m=c(140),n=c(329),o=c(139),p=c(327),q=c(138);b.OpenFileView=d.OpenFileView,b.openFileView=d.openFileView,b.OpenFileViewModel=e.OpenFileViewModel,b.openFileViewModel=e.openFileViewModel,b.SearchView=f.SearchView,b.searchView=f.searchView,b.searchViewModel=g.searchViewModel,b.SearchViewModel=g.SearchViewModel,b.DataFlowView=h.DataFlowView,b.dataFlowView=h.dataFlowView,b.ClientComputationView=i.ClientComputationView,b.clientComputationView=i.clientComputationView,b.ClientComputationViewModel=j.ClientComputationViewModel,b.ClientComputationLayer=k.ClientComputationLayer,b.clientComputationLayer=k.clientComputationLayer,b.GeoJsonLayersDataModel=l.GeoJsonLayersDataModel,b.GeoJsonLayerDataModel=l.GeoJsonLayerDataModel,b.GeoJSONLayerWithName=m.GeoJSONLayerWithName,b.geoJSONLayerWithName=m.geoJSONLayerWithName,b.DistributedAnalysisView=n.DistributedAnalysisView,b.distributedAnalysisView=n.distributedAnalysisView,b.DistributedAnalysisViewModel=o.DistributedAnalysisViewModel,b.distributedAnalysisViewModel=o.distributedAnalysisViewModel,b.DataServiceQueryView=p.DataServiceQueryView,b.dataServiceQueryView=p.dataServiceQueryView,b.DataServiceQueryViewModel=q.DataServiceQueryViewModel,b.dataServiceQueryViewModel=q.dataServiceQueryViewModel},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{
value:!0}),b.trafficTransferAnalystService=b.TrafficTransferAnalystService=void 0;var d,e=c(2),f=(d=e)&&d.__esModule?d:{"default":d};c(3);var g=c(8),h=c(5),i=b.TrafficTransferAnalystService=g.ServiceBase.extend({initialize:function(a,b){g.ServiceBase.prototype.initialize.call(this,a,b)},queryStop:function(a,b){var c=this;new h.StopQueryService(c.url,{proxy:c.options.proxy,withCredentials:c.options.withCredentials,serverType:c.options.serverType,eventListeners:{scope:c,processCompleted:b,processFailed:b}}).processAsync(a)},analysisTransferPath:function(a,b){var c=this;new h.TransferPathService(c.url,{proxy:c.options.proxy,withCredentials:c.options.withCredentials,serverType:c.options.serverType,eventListeners:{scope:c,processCompleted:b,processFailed:b}}).processAsync(c._processParams(a))},analysisTransferSolution:function(a,b){var c=this;new h.TransferSolutionService(c.url,{proxy:c.options.proxy,withCredentials:c.options.withCredentials,serverType:c.options.serverType,eventListeners:{scope:c,processCompleted:b,processFailed:b}}).processAsync(c._processParams(a))},_processParams:function(a){return a?(a.points&&f["default"].Util.isArray(a.points)&&a.points.map(function(b,c){return a.points[c]=b instanceof f["default"].LatLng?{x:b.lng,y:b.lat}:b,a.points[c]}),a):{}}}),j=b.trafficTransferAnalystService=function(a,b){return new i(a,b)};f["default"].supermap.trafficTransferAnalystService=j},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.themeService=b.ThemeService=void 0;var d,e=c(2),f=(d=e)&&d.__esModule?d:{"default":d},g=c(8);c(3);var h=c(5),i=b.ThemeService=g.ServiceBase.extend({initialize:function(a,b){g.ServiceBase.prototype.initialize.call(this,a,b)},getThemeInfo:function(a,b){var c=this;new h.ThemeService(c.url,{proxy:c.options.proxy,withCredentials:c.options.withCredentials,serverType:c.options.serverType,eventListeners:{scope:c,processCompleted:b,processFailed:b}}).processAsync(a)}}),j=b.themeService=function(a,b){return new i(a,b)};f["default"].supermap.themeService=j},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.spatialAnalystService=b.SpatialAnalystService=void 0;var d,e=c(2),f=(d=e)&&d.__esModule?d:{"default":d};c(3);var g=c(8),h=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}(c(31)),i=c(25),j=c(5),k=b.SpatialAnalystService=g.ServiceBase.extend({initialize:function(a,b){g.ServiceBase.prototype.initialize.call(this,a,b)},getAreaSolarRadiationResult:function(a,b,c){var d=this;new j.AreaSolarRadiationService(d.url,{proxy:d.options.proxy,withCredentials:d.options.withCredentials,serverType:d.options.serverType,eventListeners:{scope:d,processCompleted:b,processFailed:b},format:d._processFormat(c)}).processAsync(a)},bufferAnalysis:function(a,b,c){var d=this;new j.BufferAnalystService(d.url,{proxy:d.options.proxy,withCredentials:d.options.withCredentials,serverType:d.options.serverType,eventListeners:{scope:d,processCompleted:b,processFailed:b},format:d._processFormat(c)}).processAsync(d._processParams(a))},densityAnalysis:function(a,b,c){var d=this;new j.DensityAnalystService(d.url,{proxy:d.options.proxy,withCredentials:d.options.withCredentials,serverType:d.options.serverType,eventListeners:{scope:d,processCompleted:b,processFailed:b},format:d._processFormat(c)}).processAsync(d._processParams(a))},generateSpatialData:function(a,b,c){var d=this;new j.GenerateSpatialDataService(d.url,{proxy:d.options.proxy,withCredentials:d.options.withCredentials,serverType:d.options.serverType,eventListeners:{scope:d,processCompleted:b,processFailed:b},format:d._processFormat(c)}).processAsync(a)},geoRelationAnalysis:function(a,b,c){var d=this;new j.GeoRelationAnalystService(d.url,{proxy:d.options.proxy,withCredentials:d.options.withCredentials,serverType:d.options.serverType,eventListeners:{scope:d,processCompleted:b,processFailed:b},format:d._processFormat(c)}).processAsync(a)},interpolationAnalysis:function(a,b,c){var d=this;new j.InterpolationAnalystService(d.url,{proxy:d.options.proxy,withCredentials:d.options.withCredentials,serverType:d.options.serverType,eventListeners:{scope:d,processCompleted:b,processFailed:b},format:d._processFormat(c)}).processAsync(d._processParams(a))},mathExpressionAnalysis:function(a,b,c){var d=this;new j.MathExpressionAnalysisService(d.url,{proxy:d.options.proxy,withCredentials:d.options.withCredentials,serverType:d.options.serverType,eventListeners:{scope:d,processCompleted:b,processFailed:b},format:d._processFormat(c)}).processAsync(d._processParams(a))},overlayAnalysis:function(a,b,c){var d=this;new j.OverlayAnalystService(d.url,{proxy:d.options.proxy,withCredentials:d.options.withCredentials,serverType:d.options.serverType,eventListeners:{scope:d,processCompleted:b,processFailed:b},format:d._processFormat(c)}).processAsync(d._processParams(a))},routeCalculateMeasure:function(a,b,c){var d=this;new j.RouteCalculateMeasureService(d.url,{proxy:d.options.proxy,withCredentials:d.options.withCredentials,serverType:d.options.serverType,eventListeners:{scope:d,processCompleted:b,processFailed:b},format:d._processFormat(c)}).processAsync(d._processParams(a))},routeLocate:function(a,b,c){var d=this;new j.RouteLocatorService(d.url,{proxy:d.options.proxy,withCredentials:d.options.withCredentials,serverType:d.options.serverType,eventListeners:{scope:d,processCompleted:b,processFailed:b},format:d._processFormat(c)}).processAsync(d._processParams(a))},surfaceAnalysis:function(a,b,c){var d=this;new j.SurfaceAnalystService(d.url,{proxy:d.options.proxy,withCredentials:d.options.withCredentials,serverType:d.options.serverType,eventListeners:{scope:d,processCompleted:b,processFailed:b},format:d._processFormat(c)}).processAsync(d._processParams(a))},terrainCurvatureCalculate:function(a,b,c){var d=this;new j.TerrainCurvatureCalculationService(d.url,{proxy:d.options.proxy,withCredentials:d.options.withCredentials,serverType:d.options.serverType,eventListeners:{scope:d,processCompleted:b,processFailed:b},format:d._processFormat(c)}).processAsync(a)},thiessenAnalysis:function(a,b,c){var d=this;new j.ThiessenAnalystService(d.url,{proxy:d.options.proxy,withCredentials:d.options.withCredentials,serverType:d.options.serverType,eventListeners:{scope:d,processCompleted:b,processFailed:b},format:d._processFormat(c)}).processAsync(d._processParams(a))},geometrybatchAnalysis:function(a,b,c){for(var d=this,e=new j.GeometryBatchAnalystService(d.url,{serverType:d.options.serverType,eventListeners:{scope:d,processCompleted:b,processFailed:b},format:d._processFormat(c)}),f=[],g=0;g<a.length;g++){var h=a[g];f.push({analystName:h.analystName,param:d._processParams(h.param)})}e.processAsync(f)},_processParams:function(a){if(!a)return{};if(a.bounds&&(a.bounds=i.CommontypesConversion.toSuperMapBounds(a.bounds)),a.inputPoints)for(var b=0;b<a.inputPoints.length;b++){var c=a.inputPoints[b];f["default"].Util.isArray(c)&&(a.inputPoints[b]={x:c[0],y:c[1],tag:c[2]})}if(a.points)for(var d=0;d<a.points.length;d++){var e=a.points[d];f["default"].Util.isArray(e)?a.points[d]={x:e[0],y:e[1]}:e instanceof f["default"].LatLng?a.points[d]={x:e.lng,y:e.lat}:a.points[d]={x:e.x,y:e.y}}if(a.point&&(f["default"].Util.isArray(a.point)?a.point={x:a.point[0],y:a.point[1]}:a.point instanceof f["default"].LatLng?a.point={x:a.point.lng,y:a.point.lat}:a.point={x:a.point.x,y:a.point.y}),a.extractRegion&&(a.extractRegion=h.toSuperMapGeometry(a.extractRegion)),a.extractParameter&&a.extractParameter.clipRegion&&(a.extractParameter.clipRegion=h.toSuperMapGeometry(a.extractParameter.clipRegion)),a.sourceGeometry){var g=null;a.sourceGeometrySRID&&(g=a.sourceGeometrySRID),a.sourceGeometry=h.toSuperMapGeometry(a.sourceGeometry),g&&(a.sourceGeometry.SRID=g),delete a.sourceGeometry.sourceGeometrySRID}if(a.operateGeometry&&(a.operateGeometry=h.toSuperMapGeometry(a.operateGeometry)),a.sourceGeometries){for(var j=[],k=0;k<a.sourceGeometries.length;k++)j.push(h.toSuperMapGeometry(a.sourceGeometries[k]));a.sourceGeometries=j}if(a.operateGeometries){for(var l=[],m=0;m<a.operateGeometries.length;m++)l.push(h.toSuperMapGeometry(a.operateGeometries[m]));a.operateGeometries=l}if(a.sourceRoute&&a.sourceRoute instanceof f["default"].Polyline){var n={type:"LINEM"};n.parts=[a.sourceRoute.getLatLngs().length],n.points=[];for(var o=0;o<a.sourceRoute.getLatLngs().length;o++){var p=a.sourceRoute.getLatLngs()[o];n.points=n.points.concat({x:p.lng,y:p.lat,measure:p.alt})}a.sourceRoute=n}return a.operateRegions&&f["default"].Util.isArray(a.operateRegions)&&a.operateRegions.map(function(b,c){return a.operateRegions[c]=h.toSuperMapGeometry(b),a.operateRegions[c]}),a},_processFormat:function(a){return a||j.DataFormat.GEOJSON}}),l=b.spatialAnalystService=function(a,b){return new k(a,b)};f["default"].supermap.spatialAnalystService=l},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.queryService=b.QueryService=void 0;var d,e=c(2),f=(d=e)&&d.__esModule?d:{"default":d};c(3);var g=c(8),h=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}(c(31)),i=c(25),j=c(5),k=b.QueryService=g.ServiceBase.extend({initialize:function(a,b){g.ServiceBase.prototype.initialize.call(this,a,b)},queryByBounds:function(a,b,c){var d=this;new j.QueryByBoundsService(d.url,{proxy:d.options.proxy,withCredentials:d.options.withCredentials,serverType:d.options.serverType,eventListeners:{scope:d,processCompleted:b,processFailed:b},format:d._processFormat(c)}).processAsync(d._processParams(a))},queryByDistance:function(a,b,c){var d=this;new j.QueryByDistanceService(d.url,{proxy:d.options.proxy,withCredentials:d.options.withCredentials,serverType:d.options.serverType,eventListeners:{scope:d,processCompleted:b,processFailed:b},format:d._processFormat(c)}).processAsync(d._processParams(a))},queryBySQL:function(a,b,c){var d=this;new j.QueryBySQLService(d.url,{proxy:d.options.proxy,withCredentials:d.options.withCredentials,serverType:d.options.serverType,eventListeners:{scope:d,processCompleted:b,processFailed:b},format:d._processFormat(c)}).processAsync(d._processParams(a))},queryByGeometry:function(a,b,c){var d=this;new j.QueryByGeometryService(d.url,{proxy:d.options.proxy,withCredentials:d.options.withCredentials,serverType:d.options.serverType,eventListeners:{scope:d,processCompleted:b,processFailed:b},format:d._processFormat(c)}).processAsync(d._processParams(a))},_processParams:function(a){return a?(a.returnContent=null==a.returnContent||a.returnContent,a.queryParams&&!f["default"].Util.isArray(a.queryParams)&&(a.queryParams=[a.queryParams]),a.bounds&&(a.bounds=i.CommontypesConversion.toSuperMapBounds(a.bounds)),a.geometry&&(a.geometry instanceof f["default"].Point?a.geometry=new j.GeometryPoint(a.geometry.x,a.geometry.y):a.geometry=h.toSuperMapGeometry(a.geometry)),a):{}},_processFormat:function(a){return a||j.DataFormat.GEOJSON}}),l=b.queryService=function(a,b){return new k(a,b)};f["default"].supermap.queryService=l},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.networkAnalystService=b.NetworkAnalystService=void 0;var d,e=c(2),f=(d=e)&&d.__esModule?d:{"default":d};c(3);var g=c(8),h=c(5),i=b.NetworkAnalystService=g.ServiceBase.extend({initialize:function(a,b){g.ServiceBase.prototype.initialize.call(this,a,b)},burstPipelineAnalyst:function(a,b){var c=this;new h.BurstPipelineAnalystService(c.url,{proxy:c.options.proxy,withCredentials:c.options.withCredentials,serverType:c.options.serverType,eventListeners:{scope:c,processCompleted:b,processFailed:b}}).processAsync(c._processParams(a))},computeWeightMatrix:function(a,b){var c=this;new h.ComputeWeightMatrixService(c.url,{proxy:c.options.proxy,withCredentials:c.options.withCredentials,serverType:c.options.serverType,eventListeners:{scope:c,processCompleted:b,processFailed:b}}).processAsync(c._processParams(a))},findClosestFacilities:function(a,b,c){var d=this;new h.FindClosestFacilitiesService(d.url,{proxy:d.options.proxy,withCredentials:d.options.withCredentials,serverType:d.options.serverType,eventListeners:{scope:d,processCompleted:b,processFailed:b},format:d._processFormat(c)}).processAsync(d._processParams(a))},streamFacilityAnalyst:function(a,b,c){var d=this;new h.FacilityAnalystStreamService(d.url,{proxy:d.options.proxy,withCredentials:d.options.withCredentials,serverType:d.options.serverType,eventListeners:{scope:d,processCompleted:b,processFailed:b},format:d._processFormat(c)}).processAsync(d._processParams(a))},findLocation:function(a,b,c){var d=this;new h.FindLocationService(d.url,{proxy:d.options.proxy,withCredentials:d.options.withCredentials,serverType:d.options.serverType,eventListeners:{scope:d,processCompleted:b,processFailed:b},format:d._processFormat(c)}).processAsync(d._processParams(a))},findPath:function(a,b,c){var d=this;new h.FindPathService(d.url,{proxy:d.options.proxy,withCredentials:d.options.withCredentials,serverType:d.options.serverType,eventListeners:{scope:d,processCompleted:b,processFailed:b},format:d._processFormat(c)}).processAsync(d._processParams(a))},findTSPPaths:function(a,b,c){var d=this;new h.FindTSPPathsService(d.url,{proxy:d.options.proxy,withCredentials:d.options.withCredentials,serverType:d.options.serverType,eventListeners:{scope:d,processCompleted:b,processFailed:b},format:d._processFormat(c)}).processAsync(d._processParams(a))},findMTSPPaths:function(a,b,c){var d=this;new h.FindMTSPPathsService(d.url,{proxy:d.options.proxy,withCredentials:d.options.withCredentials,serverType:d.options.serverType,eventListeners:{scope:d,processCompleted:b,processFailed:b},format:d._processFormat(c)}).processAsync(d._processParams(a))},findServiceAreas:function(a,b,c){var d=this;new h.FindServiceAreasService(d.url,{proxy:d.options.proxy,withCredentials:d.options.withCredentials,serverType:d.options.serverType,eventListeners:{scope:d,processCompleted:b,processFailed:b},format:d._processFormat(c)}).processAsync(d._processParams(a))},updateEdgeWeight:function(a,b){var c=this;new h.UpdateEdgeWeightService(c.url,{proxy:c.options.proxy,withCredentials:c.options.withCredentials,serverType:c.options.serverType,eventListeners:{scope:c,processCompleted:b,processFailed:b}}).processAsync(a)},updateTurnNodeWeight:function(a,b){var c=this;new h.UpdateTurnNodeWeightService(c.url,{proxy:c.options.proxy,withCredentials:c.options.withCredentials,serverType:c.options.serverType,eventListeners:{scope:c,processCompleted:b,processFailed:b}}).processAsync(a)},_processParams:function(a){if(!a)return{};if(a.centers&&f["default"].Util.isArray(a.centers)&&a.centers.map(function(b,c){return a.centers[c]=b instanceof f["default"].LatLng?{x:b.lng,y:b.lat}:b,a.centers[c]}),a.nodes&&f["default"].Util.isArray(a.nodes)&&a.nodes.map(function(b,c){return a.nodes[c]=b instanceof f["default"].LatLng?{x:b.lng,y:b.lat}:b,a.nodes[c]}),a.event&&a.event instanceof f["default"].LatLng&&(a.event={x:a.event.lng,y:a.event.lat}),a.facilities&&f["default"].Util.isArray(a.facilities)&&a.facilities.map(function(b,c){return a.facilities[c]=b instanceof f["default"].LatLng?{x:b.lng,y:b.lat}:b,a.facilities[c]}),a.parameter&&a.parameter.barrierPoints){var b=a.parameter.barrierPoints;f["default"].Util.isArray(b)?b.map(function(b,c){return a.parameter.barrierPoints[c]=b instanceof f["default"].LatLng?{x:b.lng,y:b.lat}:b,a.parameter.barrierPoints[c]}):a.parameter.barrierPoints=[b instanceof f["default"].LatLng?{x:b.lng,y:b.lat}:b]}return a},_processFormat:function(a){return a||h.DataFormat.GEOJSON}}),j=b.networkAnalystService=function(a,b){return new i(a,b)};f["default"].supermap.networkAnalystService=j},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.networkAnalyst3DService=b.NetworkAnalyst3DService=void 0;var d,e=c(2),f=(d=e)&&d.__esModule?d:{"default":d},g=c(8);c(3);var h=c(5),i=b.NetworkAnalyst3DService=g.ServiceBase.extend({initialize:function(a,b){g.ServiceBase.prototype.initialize.call(this,a,b)},sinksFacilityAnalyst:function(a,b){var c=this;new h.FacilityAnalystSinks3DService(c.url,{proxy:c.options.proxy,withCredentials:c.options.withCredentials,serverType:c.options.serverType,eventListeners:{scope:c,processCompleted:b,processFailed:b}}).processAsync(a)},sourcesFacilityAnalyst:function(a,b){var c=this;new h.FacilityAnalystSources3DService(c.url,{proxy:c.options.proxy,withCredentials:c.options.withCredentials,serverType:c.options.serverType,eventListeners:{scope:c,processCompleted:b,processFailed:b}}).processAsync(a)},traceUpFacilityAnalyst:function(a,b){var c=this;new h.FacilityAnalystTraceup3DService(c.url,{proxy:c.options.proxy,withCredentials:c.options.withCredentials,serverType:c.options.serverType,eventListeners:{scope:c,processCompleted:b,processFailed:b}}).processAsync(a)},traceDownFacilityAnalyst:function(a,b){var c=this;new h.FacilityAnalystTracedown3DService(c.url,{proxy:c.options.proxy,withCredentials:c.options.withCredentials,serverType:c.options.serverType,eventListeners:{scope:c,processCompleted:b,processFailed:b}}).processAsync(a)},upstreamFacilityAnalyst:function(a,b){var c=this;new h.FacilityAnalystUpstream3DService(c.url,{proxy:c.options.proxy,withCredentials:c.options.withCredentials,serverType:c.options.serverType,eventListeners:{scope:c,processCompleted:b,processFailed:b}}).processAsync(a)}}),j=b.networkAnalyst3DService=function(a,b){return new i(a,b)};f["default"].supermap.networkAnalyst3DService=j},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.measureService=b.MeasureService=void 0;var d,e=c(2),f=(d=e)&&d.__esModule?d:{"default":d},g=c(8);c(3);var h=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}(c(31)),i=c(5),j=b.MeasureService=g.ServiceBase.extend({initialize:function(a,b){g.ServiceBase.prototype.initialize.call(this,a,b)},measureDistance:function(a,b){return this.measure(i.MeasureMode.DISTANCE,a,b),this},measureArea:function(a,b){return this.measure(i.MeasureMode.AREA,a,b),this},measure:function(a,b,c){if(b instanceof i.MeasureParameters){var d=this;b.geometry&&(b.geometry=h.toSuperMapGeometry(b.geometry)),new i.MeasureService(d.url,{proxy:d.options.proxy,withCredentials:d.options.withCredentials,serverType:d.options.serverType,measureMode:a,eventListeners:{scope:d,processCompleted:c,processFailed:c}}).processAsync(b)}}}),k=b.measureService=function(a,b){return new j(a,b)};f["default"].supermap.measureService=k},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.layerInfoService=b.LayerInfoService=void 0;var d,e=c(2),f=(d=e)&&d.__esModule?d:{"default":d},g=c(8);c(3);var h=c(5),i=b.LayerInfoService=g.ServiceBase.extend({initialize:function(a,b){g.ServiceBase.prototype.initialize.call(this,a,b)},getLayersInfo:function(a){new h.GetLayersInfoService(this.url,{proxy:this.options.proxy,withCredentials:this.options.withCredentials,serverType:this.options.serverType,eventListeners:{processCompleted:a,processFailed:a}}).processAsync()},setLayerInfo:function(a,b){if(a instanceof h.SetLayerInfoParameters){var c=a.resourceID,d=a.tempLayerName,e=a.layerInfo;if(c&&d){var f=this.url.concat();f+="/tempLayersSet/"+c+"/"+d,new h.SetLayerInfoService(f,{proxy:this.options.proxy,withCredentials:this.options.withCredentials,serverType:this.options.serverType,eventListeners:{processCompleted:b,processFailed:b}}).processAsync(e)}}},setLayersInfo:function(a,b){if(a instanceof h.SetLayersInfoParameters){var c=a.resourceID,d=!!a.isTempLayers&&a.isTempLayers,e=a.layersInfo;d&&!c||!e||new h.SetLayersInfoService(this.url,{proxy:this.options.proxy,withCredentials:this.options.withCredentials,serverType:this.options.serverType,eventListeners:{processCompleted:b,processFailed:b},resourceID:c,isTempLayers:d}).processAsync(e)}},setLayerStatus:function(a,b){a instanceof h.SetLayerStatusParameters&&new h.SetLayerStatusService(this.url,{proxy:this.options.proxy,withCredentials:this.options.withCredentials,serverType:this.options.serverType,eventListeners:{processCompleted:b,processFailed:b}}).processAsync(a)}}),j=b.layerInfoService=function(a,b){return new i(a,b)};f["default"].supermap.layerInfoService=j},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.gridCellInfosService=b.GridCellInfosService=void 0;var d,e=c(2),f=(d=e)&&d.__esModule?d:{"default":d},g=c(8);c(3);var h=c(5),i=b.GridCellInfosService=g.ServiceBase.extend({initialize:function(a,b){g.ServiceBase.prototype.initialize.call(this,a,b)},getGridCellInfos:function(a,b){if(a instanceof h.GetGridCellInfosParameters){var c=this;new h.GetGridCellInfosService(c.url,{proxy:c.options.proxy,withCredentials:c.options.withCredentials,serverType:c.options.serverType,eventListeners:{scope:c,processCompleted:b,processFailed:b}}).processAsync(a)}}}),j=b.gridCellInfosService=function(a,b){return new i(a,b)};f["default"].supermap.gridCellInfosService=j},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.fieldService=b.FieldService=void 0;var d,e=c(2),f=(d=e)&&d.__esModule?d:{"default":d};c(3);var g=c(8),h=c(5),i=b.FieldService=g.ServiceBase.extend({initialize:function(a,b){g.ServiceBase.prototype.initialize.call(this,a,b)},getFields:function(a,b){var c=this;new h.GetFieldsService(c.url,{proxy:c.options.proxy,withCredentials:c.options.withCredentials,serverType:c.options.serverType,eventListeners:{scope:c,processCompleted:b,processFailed:b},datasource:a.datasource,dataset:a.dataset}).processAsync()},getFieldStatisticsInfo:function(a,b){if(a instanceof h.FieldStatisticsParameters){var c=a.fieldName,d=a.statisticMode;for(var e in d&&!f["default"].Util.isArray(d)&&(d=[d]),this.currentStatisticResult={fieldName:c},this._statisticsCallback=b,d)this.currentStatisticResult[d[e]]=null,this._fieldStatisticRequest(a.datasource,a.dataset,c,d[e])}},_fieldStatisticRequest:function(a,b,c,d){new h.FieldStatisticService(this.url,{eventListeners:{scope:this,processCompleted:this._processCompleted,processFailed:this._statisticsCallback},datasource:a,dataset:b,field:c,statisticMode:d}).processAsync()},_processCompleted:function(a){var b=this,c=!0,d=a.result;for(var e in this.currentStatisticResult&&null==b.currentStatisticResult[d.mode]&&(this.currentStatisticResult[d.mode]=d.result),b.currentStatisticResult)if(null==b.currentStatisticResult[e]){c=!1;break}c&&b._statisticsCallback({result:b.currentStatisticResult})}}),j=b.fieldService=function(a,b){return new i(a,b)};f["default"].supermap.fieldService=j},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.chartService=b.ChartService=void 0;var d,e=c(2),f=(d=e)&&d.__esModule?d:{"default":d};c(3);var g=c(5),h=c(8),i=c(25),j=b.ChartService=h.ServiceBase.extend({initialize:function(a,b){h.ServiceBase.prototype.initialize.call(this,a,b)},queryChart:function(a,b,c){var d=this,e=d._processParams(a),f=d._processFormat(c);new g.ChartQueryService(d.url,{proxy:d.options.proxy,withCredentials:d.options.withCredentials,serverType:d.options.serverType,eventListeners:{scope:d,processCompleted:b,processFailed:b},format:f}).processAsync(e)},getChartFeatureInfo:function(a){var b=this,c=b.url.concat();c+="/chartFeatureInfoSpecs",new g.ChartFeatureInfoSpecsService(c,{proxy:b.options.proxy,withCredentials:b.options.withCredentials,serverType:b.options.serverType,eventListeners:{scope:b,processCompleted:a,processFailed:a}}).processAsync()},_processParams:function(a){return a?(a.returnContent=null==a.returnContent||a.returnContent,a.chartQueryFilterParameters&&!f["default"].Util.isArray(a.chartQueryFilterParameters)&&(a.chartQueryFilterParameters=[a.chartQueryFilterParameters]),a.bounds&&(a.bounds=i.CommontypesConversion.toSuperMapBounds(a.bounds)),void 0):{}},_processFormat:function(a){return a||g.DataFormat.GEOJSON}}),k=b.chartService=function(a,b){return new j(a,b)};f["default"].supermap.chartService=k},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.addressMatchService=b.AddressMatchService=void 0;var d,e=c(2),f=(d=e)&&d.__esModule?d:{"default":d},g=c(8);c(3);var h=c(5),i=b.AddressMatchService=g.ServiceBase.extend({initialize:function(a,b){g.ServiceBase.prototype.initialize.call(this,a,b)},code:function(a,b){var c=this;new h.AddressMatchService(c.url,{proxy:c.options.proxy,withCredentials:c.options.withCredentials,serverType:c.options.serverType,eventListeners:{scope:c,processCompleted:b,processFailed:b}}).code(c.url+"/geocoding",a)},decode:function(a,b){var c=this;new h.AddressMatchService(c.url,{proxy:c.options.proxy,withCredentials:c.options.withCredentials,serverType:c.options.serverType,eventListeners:{scope:c,processCompleted:b,processFailed:b}}).decode(c.url+"/geodecoding",a)}}),j=b.addressMatchService=function(a,b){return new i(a,b)};f["default"].supermap.addressMatchService=j},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.trafficTransferAnalystService=b.TrafficTransferAnalystService=b.themeService=b.ThemeService=b.spatialAnalystService=b.SpatialAnalystService=b.ServiceBase=b.queryService=b.QueryService=b.processingService=b.ProcessingService=b.networkAnalystService=b.NetworkAnalystService=b.networkAnalyst3DService=b.NetworkAnalyst3DService=b.measureService=b.MeasureService=b.mapService=b.MapService=b.layerInfoService=b.LayerInfoService=b.gridCellInfosService=b.GridCellInfosService=b.fieldService=b.FieldService=b.featureService=b.FeatureService=b.dataFlowService=b.DataFlowService=b.chartService=b.ChartService=b.addressMatchService=b.AddressMatchService=void 0;var d=c(349),e=c(348),f=c(158),g=c(161),h=c(347),i=c(346),j=c(345),k=c(172),l=c(344),m=c(343),n=c(342),o=c(144),p=c(341),q=c(8),r=c(340),s=c(339),t=c(338);b.AddressMatchService=d.AddressMatchService,b.addressMatchService=d.addressMatchService,b.ChartService=e.ChartService,b.chartService=e.chartService,b.DataFlowService=f.DataFlowService,b.dataFlowService=f.dataFlowService,b.FeatureService=g.FeatureService,b.featureService=g.featureService,b.FieldService=h.FieldService,b.fieldService=h.fieldService,b.GridCellInfosService=i.GridCellInfosService,b.gridCellInfosService=i.gridCellInfosService,b.LayerInfoService=j.LayerInfoService,b.layerInfoService=j.layerInfoService,b.MapService=k.MapService,b.mapService=k.mapService,b.MeasureService=l.MeasureService,b.measureService=l.measureService,b.NetworkAnalyst3DService=m.NetworkAnalyst3DService,b.networkAnalyst3DService=m.networkAnalyst3DService,b.NetworkAnalystService=n.NetworkAnalystService,b.networkAnalystService=n.networkAnalystService,b.ProcessingService=o.ProcessingService,b.processingService=o.processingService,b.QueryService=p.QueryService,b.queryService=p.queryService,b.ServiceBase=q.ServiceBase,b.SpatialAnalystService=r.SpatialAnalystService,b.spatialAnalystService=r.spatialAnalystService,b.ThemeService=s.ThemeService,b.themeService=s.themeService,b.TrafficTransferAnalystService=t.TrafficTransferAnalystService,b.trafficTransferAnalystService=t.trafficTransferAnalystService},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.VectorTilePBF=b.VectorTileJSON=b.VectorTile=b.VectorGrid=b.VectorFeatureType=b.TextSymbolizer=b.PolyBase=b.Symbolizer=b.SVGRenderer=b.RegionSymbolizer=b.PointSymbolizer=b.LineSymbolizer=b.CanvasRenderer=void 0;var d=c(97),e=c(150),f=c(151),g=c(149),h=c(98),i=c(50),j=c(95),k=c(96),l=c(51),m=c(153),n=c(152),o=c(145),p=c(148);b.CanvasRenderer=d.CanvasRenderer,b.LineSymbolizer=e.LineSymbolizer,b.PointSymbolizer=f.PointSymbolizer,b.RegionSymbolizer=g.RegionSymbolizer,b.SVGRenderer=h.SVGRenderer,b.Symbolizer=i.Symbolizer,b.PolyBase=j.PolyBase,b.TextSymbolizer=k.TextSymbolizer,b.VectorFeatureType=l.VectorFeatureType,b.VectorGrid=m.VectorGrid,b.VectorTile=n.VectorTile,b.VectorTileJSON=o.VectorTileJSON,b.VectorTilePBF=p.VectorTilePBF},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ThemeLayer=b.themeFeature=b.ThemeFeature=b.GeoFeatureThemeLayer=void 0;var d=c(67),e=c(99),f=c(100);b.GeoFeatureThemeLayer=d.GeoFeatureThemeLayer,b.ThemeFeature=e.ThemeFeature,b.themeFeature=e.themeFeature,b.ThemeLayer=f.ThemeLayer},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.MapVRenderer=void 0;var d=c(156);b.MapVRenderer=d.MapVRenderer},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.CompOpMap=b.ServerStyleMap=b.CartoStyleMap=b.DefaultStyle=b.CartoCSSToLeaflet=void 0;var d=c(101),e=c(167),f=c(166);b.CartoCSSToLeaflet=d.CartoCSSToLeaflet,b.DefaultStyle=e.DefaultStyle,b.CartoStyleMap=f.CartoStyleMap,b.ServerStyleMap=f.ServerStyleMap,b.CompOpMap=f.CompOpMap},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0}),b.heatMapFeature=b.HeatMapFeature=b.heatMapLayer=b.HeatMapLayer=void 0;var e=d(c(2)),f=c(5),g=d(c(11)),h=b.HeatMapLayer=e["default"].Layer.extend({options:{alwaysMapCRS:!1,id:f.CommonUtil.createUniqueID("heatMapLayer_"),featureWeight:null,opacity:1,colors:["blue","cyan","lime","yellow","red"],useGeoUnit:!1,radius:50,attribution:g["default"].Common.attribution},initialize:function(a,b){e["default"].Util.setOptions(this,b),this.name=a,this.features=[],this.maxWeight=null,this.minWeight=null,this.rootCanvas=null,this.canvasContext=null,this.maxWidth=null,this.maxHeight=null,this.id=this.options.id,this.featureWeight=this.options.featureWeight,this.colors=this.options.colors,this.useGeoUnit=this.options.useGeoUnit,this.opacity=this.options.opacity,this.radius=this.options.radius,this.movingOffset=[0,0]},onRemove:function(a){e["default"].DomUtil.remove(this.rootCanvas),a.off("mousemove",this.mouseMoveHandler)},onAdd:function(a){var b=this;if(b._map=a,b._createCanvasContainer(),b.rootCanvas){var c=a.getSize();b.rootCanvas.width=b.maxWidth=c.x,b.rootCanvas.height=b.maxHeight=c.y,b._updateOpacity(),b.mouseMoveHandler=function(a){var c=a.layerPoint;b.currentMousePosition=e["default"].point(c.x+b.movingOffset[0],c.y+b.movingOffset[1])},a.on("mousemove",b.mouseMoveHandler),b.update()}else a.removeLayer(b)},addFeatures:function(a){this.features=this.toiClientFeature(a),this.refresh()},refresh:function(){if(0!==this.features.length&&this._map){var a=this._map.getBounds();this.updateHeatPoints(a)}},updateHeatPoints:function(a){this.features&&this.features.length>0?this.convertFastToPixelPoints(a):this.canvasContext.clearRect(0,0,this.maxWidth,this.maxWidth)},convertFastToPixelPoints:function(a){var b,c,d,e,g,h,i,j=[],k=a.getEast()-a.getWest(),l=a.getNorth()-a.getSouth(),m=this._map.getSize();e=k/m.x>l/m.y?k/m.x:l/m.y,this.useRadius=this.useGeoUnit?parseInt(this.radius/e):this.radius;for(var n=0;n<this.features.length;n++){var o=this.features[n],p=o.geometry,q=this.getLocalXY(new f.LonLat(p.x,p.y));this.featureWeight?(q.weight=o.attributes[this.featureWeight],this.maxWeight||(g=g||q.weight,h=h||q.weight,g=Math.max(g,q.weight),h=Math.min(h,q.weight))):q.weight=1,b=Math.floor(q[0]),c=Math.floor(q[1]),d=q.weight,j.push([b,c,d])}this.maxWeight?this.draw(j,this.maxWeight):(i=g&&h?(g+h)/2:1,this.draw(j,i))},draw:function(a,b){if(!(this.maxHeight>0&&this.maxWidth>0))return!1;var c=this.canvasContext;this.canvasContext.clearRect(0,0,this.maxWidth,this.maxHeight),this.drawCircle(this.useRadius),this.createGradient();for(var d=0;d<a.length;d++){var e=a[d];this.canvasContext.globalAlpha=Math.max(e[2]/b,.05),this.canvasContext.drawImage(this.circle,e[0]-this.useRadius,e[1]-this.useRadius)}var f=c.getImageData(0,0,this.maxWidth,this.maxHeight);this.colorize(f.data,this.grad),c.putImageData(f,0,0)},colorize:function(a,b){for(var c,d=0;d<a.length;d+=4)(c=4*a[d+3])&&(a[d]=b[c],a[d+1]=b[c+1],a[d+2]=b[c+2])},drawCircle:function(a){var b=a/2,c=this.circle=document.createElement("canvas"),d=c.getContext("2d");c.height=2*a,c.width=2*a,d.shadowOffsetX=d.shadowOffsetY=2*a,d.shadowBlur=b,
d.shadowColor="#000000",d.beginPath(),d.arc(-a,-a,a/2,0,2*Math.PI,!0),d.closePath(),d.fill()},createGradient:function(){var a=this.colors,b=document.createElement("canvas"),c=b.getContext("2d"),d=c.createLinearGradient(0,0,0,256);b.height=256,b.width=1;for(var e=1,f=0,g=a.length;g>f;f++)d.addColorStop(e/g,a[f]),e++;c.fillStyle=d,c.fillRect(0,0,1,256),this.grad=c.getImageData(0,0,1,256).data},update:function(){var a=this._map.containerPointToLayerPoint([0,0]);e["default"].DomUtil.setPosition(this.rootCanvas,a);var b=this;b.refresh(),b.currentMousePosition&&(b.currentMousePosition=e["default"].point(b.currentMousePosition.x-b.movingOffset[0],b.currentMousePosition.y-b.movingOffset[1])),b.movingOffset=[0,0],b._zoom=b._map.getZoom(),b._center=b._map.getCenter()},getLocalXY:function(a){if(!this._map)return a;var b=a;e["default"].Util.isArray(a)&&(b=e["default"].point(a[0],a[1])),a instanceof e["default"].Point||(b=a instanceof f.GeometryPoint||a instanceof f.GeoText?e["default"].point(a.x,a.y):e["default"].point(a.lon,a.lat));var c=this._map.latLngToContainerPoint(this.options.alwaysMapCRS?this._map.options.crs.unproject(b):e["default"].latLng(b.y,b.x));return[c.x,c.y]},setOpacity:function(a){a!==this.options.opacity&&(a&&(this.options.opacity=a),this._updateOpacity())},removeFeatures:function(a){if(a&&0!==a.length&&this.features&&0!==this.features.length){if(a===this.features)return this.removeAllFeatures();f.CommonUtil.isArray(a)||(a=[a]);for(var b,c,d=[],e=0,g=a.length;g>e;e++)b=a[e],-1!==(c=f.CommonUtil.indexOf(this.features,b))?this.features.splice(c,1):d.push(b);var h=0==d.length;this._map.fire("featuresremoved",{features:d,succeed:h}),this.refresh()}},removeAllFeatures:function(){this.features=[],this.refresh()},_createCanvasContainer:function(){var a=this.getPane(),b="heatMapLayer leaflet-layer leaflet-zoom-"+(this._map.options.zoomAnimation&&e["default"].Browser.any3d?"animated":"hide");this.rootCanvas=e["default"].DomUtil.create("canvas",b,a);var c=e["default"].DomUtil.testProp(["transformOrigin","WebkitTransformOrigin","msTransformOrigin"]);this.rootCanvas.id=this.id,this.rootCanvas.style[c]="50% 50%",this.rootCanvas.style.position="absolute",this.rootCanvas.style.zIndex=200,f.CommonUtil.modifyDOMElement(this.rootCanvas,null,null,null,null,null,null,this.opacity),this.canvasContext=this.rootCanvas.getContext("2d")},_updateOpacity:function(){var a=this;f.CommonUtil.modifyDOMElement(a.rootCanvas,null,null,null,null,null,null,a.options.opacity),null!==a._map&&a._map.fire("changelayer",{layer:a,property:"opacity"})},getEvents:function(){var a={zoomend:this._reset,moveend:this._reset,resize:this._resize};return this._map._zoomAnimated&&(a.zoomanim=this._zoomAnim),a},toiClientFeature:function(a){e["default"].Util.isArray(a)||(a=[a]);for(var b=[],c=0,d=a.length;d>c;c++)if(a[c]instanceof j)b.push(a[c].toFeature());else if(-1!=["FeatureCollection","Feature","Geometry"].indexOf(a[c].type)){var g=new f.GeoJSON;b=b.concat(g.read(a[c]))}else{if(!a[c].geometry||!a[c].geometry.parts)throw new Error("Features's type does not match, please check.");b.push(f.ServerFeature.fromJson(a[c]).toFeature())}return b},_zoomAnim:function(a){var b=this._map.getZoomScale(a.zoom),c=this._map._getCenterOffset(a.center)._multiplyBy(-b).subtract(this._map._getMapPanePos());e["default"].DomUtil.setTransform?e["default"].DomUtil.setTransform(this.rootCanvas,c,b):this.rootCanvas.style[e["default"].DomUtil.TRANSFORM]=e["default"].DomUtil.getTranslateString(c)+" scale("+b+")"},_reset:function(){var a=this;a.update();var b=a._map.getSize(),c=this._map.containerPointToLayerPoint([0,0]);e["default"].DomUtil.setPosition(this.rootCanvas,c),parseFloat(a.rootCanvas.width)!==parseFloat(b.x)&&(a.rootCanvas.width=b.x),parseFloat(a.rootCanvas.height)!==parseFloat(b.y)&&(a.rootCanvas.height=b.y),a.refresh()},_resize:function(){var a=this._map.getSize();this.maxWidth=a.x,this.maxHeight=a.y}}),i=b.heatMapLayer=function(a,b){return new h(a,b)};e["default"].supermap.heatMapLayer=i;var j=b.HeatMapFeature=e["default"].Class.extend({initialize:function(a,b){this.geometry=a,this.attributes=b},toFeature:function(){var a=this.geometry,b=[];if(a instanceof e["default"].LatLng)b=[a.lng,a.lat];else if(a instanceof e["default"].Point)b=[a.x,a.y];else if(a instanceof e["default"].CircleMarker){var c=a.getLatLng();b=[c.lng,c.lat]}else b=a;return 2===b.length&&(a=new f.GeometryPoint(b[0],b[1])),new f.GeometryVector(a,this.attributes)}}),k=b.heatMapFeature=function(a,b){return new j(a,b)};e["default"].supermap.heatMapFeature=k},function(a,b){a.exports=function(){try{return turf}catch(a){return{}}}()},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0}),b.turfLayer=b.TurfLayer=void 0;var e=d(c(2));c(3);var f=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}(c(356)),g=d(c(11)),h=b.TurfLayer=e["default"].GeoJSON.extend({turfMap:{"Measurement.along":["line","distance","units"],"Measurement.area":["geojson"],"Measurement.bbox":["geojson"],"Measurement.bboxPolygon":["bbox"],"Measurement.bearing":["start","end","final"],"Measurement.center":["geojson","properties"],"Measurement.centerOfMass":["geojson","properties"],"Measurement.centroid":["geojson","properties"],"Measurement.destination":["origin","distance","bearing","units"],"Measurement.distance":["from","to","units"],"Measurement.envelope":["geojson"],"Measurement.length":["geojson","units"],"Measurement.midpoint":["point1","point2"],"Measurement.pointOnFeature":["geojson"],"Measurement.polygonTangents":["point","polygon"],"Measurement.rhumbBearing":["start","end","final"],"Measurement.rhumbDestination":["origin","distance","bearing","units"],"Measurement.rhumbDistance":["from","to","units"],"Measurement.square":["bbox"],"Measurement.greatCircle":["start","end","properties","npoints","offset"],"CoordinateMutation.cleanCoords":["geojson","mutate"],"CoordinateMutation.flip":["geojson","mutate"],"CoordinateMutation.rewind":["geojson","reverse","mutate"],"CoordinateMutation.round":["num","precision"],"CoordinateMutation.truncate":["geojson","precision","coordinates","mutate"],"Transformation.bboxClip":["feature","bbox"],"Transformation.bezierSpline":["line","resolution","sharpness"],"Transformation.buffer":["geojson","radius","units","steps"],"Transformation.circle":["center","radius","steps","units","properties"],"Transformation.clone":["geojson"],"Transformation.concave":["points","maxEdge","units"],"Transformation.convex":["geojson","concavity"],"Transformation.difference":["polygon1","polygon2"],"Transformation.dissolve":["featureCollection","propertyName"],"Transformation.intersect":["poly1","poly2"],"Transformation.lineOffset":["geojson","distance","units"],"Transformation.simplify":["feature","tolerance","highQuality"],"Transformation.tesselate":["poly"],"Transformation.transformRotate":["geojson","angle","pivot","mutate"],"Transformation.transformTranslate":["geojson","distance","direction","units","zTranslation","mutate"],"Transformation.transformScale":["geojson","factor","origin","mutate"],"Transformation.union":["A"],"Transformation.voronoi":["points","bbox"],"featureConversion.combine":["fc"],"featureConversion.explode":["geojson"],"featureConversion.flatten":["geojson"],"featureConversion.lineStringToPolygon":["lines","properties","autoComplete","orderCoords"],"featureConversion.polygonize":["geojson"],"featureConversion.polygonToLineString":["polygon","properties"],"Misc.kinks":["featureIn"],"Misc.lineArc":["center","radius","bearing1","bearing2","steps","units"],"Misc.lineChunk":["geojson","segmentLength","units","reverse"],"Misc.lineIntersect":["line1","line2"],"Misc.lineOverlap":["line1","line2"],"Misc.lineSegment":["geojson"],"Misc.lineSlice":["startPt","stopPt","line"],"Misc.lineSliceAlong":["line","startDist","stopDist","units"],"Misc.lineSplit":["line","splitter"],"Misc.mask":["polygon","mask"],"Misc.pointOnLine":["lines","pt","units"],"Misc.sector":["center","radius","bearing1","bearing2","steps","units"],"Misc.shortestPath":["start","end","obstacles","units","resolution"],"Misc.unkinkPolygon":["geojson"],"Helper.featureCollection":["features","bbox","id"],"Helper.feature":["geometry","properties","bbox","id"],"Helper.geometryCollection":["geometries","properties","bbox","id"],"Helper.lineString":["coordinates","properties","bbox","id"],"Helper.multiLineString":["coordinates","properties","bbox","id"],"Helper.multiPoint":["coordinates","properties","bbox","id"],"Helper.multiPolygon":["coordinates","properties","bbox","id"],"Helper.point":["coordinates","properties","bbox","id"],"Helper.polygon":["coordinates","properties","bbox","id"],"Data.sample":["featurecollection","num"],"Interpolation.interpolate":["points","cellSize","gridType","property","units","weight"],"Interpolation.isobands":["pointGrid","breaks","zProperty","commonProperties","breaksProperties"],"Interpolation.isolines":["pointGrid","breaks","zProperty","commonProperties","breaksProperties"],"Interpolation.planepoint":["point","triangle"],"Interpolation.tin":["points","z"],"Joins.pointsWithinPolygon":["points","polygons"],"Joins.tag":["points","polygons","field","outField","mask","properties"],"Grids.hexGrid":["bbox","cellSide","units","triangles"],"Grids.pointGrid":["bbox","cellSide","units","mask","properties"],"Grids.squareGrid":["bbox","cellSide","units","mask","properties"],"Grids.triangleGrid":["bbox","cellSide","units","mask","properties"],"Classification.nearestPoint":["targetPoint","points"],"Aggregation.collect":["polygons","points","inProperty","outProperty"],"Aggregation.clustersDbscan":["points","maxDistance","units","minPoints","mutate"],"Aggregation.clustersKmeans":["points","numberOfClusters","mutate"],"Meta.coordAll":["geojson"],"Meta.coordEach":["geojson","callback","excludeWrapCoord"],"Meta.coordReduce":["geojson","callback","initialValue","excludeWrapCoord"],"Meta.featureEach":["geojson","callback"],"Meta.featureReduce":["geojson","callback","initialValue"],"Meta.flattenEach":["geojson","callback"],"Meta.flattenReduce":["geojson","callback","initialValue"],"Meta.getCoord":["coord"],"Meta.getCoords":["coords"],"Meta.getGeom":["geojson"],"Meta.getGeomType":["geojson","name"],"Meta.geomEach":["geojson","callback"],"Meta.geomReduce":["geojson","callback","initialValue"],"Meta.propEach":["geojson","callback"],"Meta.propReduce":["geojson","callback","initialValue"],"Meta.segmentEach":["geojson","callback"],"Meta.segmentReduce":["geojson","callback","initialValue"],"Meta.getCluster":["geojson","filter"],"Meta.clusterEach":["geojson","property","callback"],"Meta.clusterReduce":["geojson","property","callback","initialValue"],"Assertions.collectionOf":["featureCollection","type","name"],"Assertions.containsNumber":["coordinates"],"Assertions.geojsonType":["value","type","name"],"Assertions.featureOf":["feature","type","name"],"Booleans.booleanClockwise":["line"],"Booleans.booleanContains":["feature1","feature2"],"Booleans.booleanCrosses":["feature1","feature2"],"Booleans.booleanDisjoint":["feature1","feature2"],"Booleans.booleanEqual":["feature1","feature2"],"Booleans.booleanOverlap":["feature1","feature2"],"Booleans.booleanParallel":["feature1","feature2"],"Booleans.booleanPointInPolygon":["point","polygon","ignoreBoundary"],"Booleans.booleanPointOnLine":["point","linestring","ignoreEndVertices"],"UnitConversion.bearingToAngle":["bearing"],"UnitConversion.convertArea":["area","originalUnit","finalUnit"],"UnitConversion.convertLength":["length","originalUnit","finalUnit"],"UnitConversion.degreesToradians":["degrees"],"UnitConversion.lengthToRadians":["distance","units"],"UnitConversion.lengthToDegrees":["distance","units"],"UnitConversion.radiansToLength":["radians","units"],"UnitConversion.radiansToDegrees":["radians"],"UnitConversion.toMercator":["geojson","mutate"],"UnitConversion.toWgs84":["geojson","mutate"]},options:{attribution:g["default"].Turf.attribution},initialize:function(a){a=a||{},e["default"].Util.setOptions(this,a),e["default"].stamp(this),this._layers={}},turfOptionMap:{"Measurement.along":["line","distance",{units:""}],"Measurement.bboxPolygon":["bbox",{properties:"",id:""}],"Measurement.bearing":["start","end",{"final":""}],"Measurement.center":["geojson",{properties:""}],"Measurement.destination":["origin","distance","bearing",{units:"",properties:""}],"Measurement.distance":["from","to",{units:""}],"Measurement.length":["geojson",{units:""}],"Measurement.rhumbBearing":["start","end",{"final":""}],"Measurement.rhumbDestination":["origin","distance","bearing",{units:"",properties:""}],"Measurement.rhumbDistance":["from","to",{units:""}],"Measurement.greatCircle":["start","end",{properties:"",npoints:"",offset:""}],"CoordinateMutation.cleanCoords":["geojson",{mutate:""}],"CoordinateMutation.flip":["geojson",{mutate:""}],"CoordinateMutation.rewind":["geojson",{mutate:"",reverse:""}],"CoordinateMutation.truncate":["geojson",{precision:"",coordinates:"",mutate:""}],"Transformation.bezierSpline":["line",{resolution:"",sharpness:""}],"Transformation.buffer":["geojson","radius",{units:"",steps:""}],"Transformation.circle":["center","radius",{units:"",steps:"",properties:""}],"Transformation.concave":["points",{maxEdge:"",units:""}],"Transformation.convex":["geojson",{concavity:""}],"Transformation.dissolve":["featureCollection",{propertyName:""}],"Transformation.lineOffset":["geojson","distance",{units:""}],"Transformation.simplify":["geojson",{tolerance:"",highQuality:""}],"Transformation.transformRotate":["geojson","angle",{pivot:"",mutate:""}],"Transformation.transformTranslate":["geojson","distance","direction",{units:"",zTranslation:"",mutate:""}],"Transformation.transformScale":["geojson","factor",{origin:"",mutate:""}],"Transformation.voronoi":["points",{bbox:""}],"featureConversion.lineStringToPolygon":["lines",{properties:"",autoComplete:"",orderCoords:""}],"featureConversion.polygonToLineString":["polygon",{properties:""}],"Misc.lineArc":["center","radius","bearing1","bearing2",{steps:"",units:""}],"Misc.lineChunk":["geojson","segmentLength",{units:"",reverse:""}],"Misc.lineOverlap":["line1","line2",{tolerance:""}],"Misc.lineSliceAlong":["line","startDist","stopDist",{units:""}],"Misc.pointOnLine":["lines","pt",{units:""}],"Misc.sector":["center","radius","bearing1","bearing2",{units:"",steps:"",properties:""}],"Misc.shortestPath":["start","end",{obstacles:"",units:"",resolution:""}],"Helper.feature":["geometry","properties",{bbox:"",id:""}],"Helper.geometryCollection":["geometries","properties",{bbox:"",id:""}],"Helper.lineString":["coordinates","properties",{bbox:"",id:""}],"Helper.multiLineString":["coordinates","properties",{bbox:"",id:""}],"Helper.multiPoint":["coordinates","properties",{bbox:"",id:""}],"Helper.multiPolygon":["coordinates","properties",{bbox:"",id:""}],"Helper.point":["coordinates","properties",{bbox:"",id:""}],"Helper.polygon":["coordinates","properties",{bbox:"",id:""}],"Interpolation.interpolate":["points","cellSize",{gridType:"",property:"",units:"",weight:""}],"Interpolation.isobands":["pointGrid","breaks",{zProperty:"",commonProperties:"",breaksProperties:""}],"Interpolation.isolines":["pointGrid","breaks",{zProperty:"",commonProperties:"",breaksProperties:""}],"Grids.hexGrid":["bbox","cellSide",{units:"",triangles:"",properties:"",mask:""}],"Grids.pointGrid":["bbox","cellSide",{units:"",mask:"",properties:""}],"Grids.squareGrid":["bbox","cellSide",{units:"",mask:"",properties:""}],"Grids.triangleGrid":["bbox","cellSide",{units:"",mask:"",properties:""}],"Aggregation.clustersDbscan":["points","maxDistance",{units:"",minPoints:"",mutate:""}],"Aggregation.clustersKmeans":["points",{numberOfClusters:"",mutate:""}],"Booleans.booleanPointInPolygon":["point","polygon",{ignoreBoundary:""}],"Booleans.booleanPointOnLine":["point","linestring",{ignoreEndVertices:""}],"UnitConversion.toMercator":["geojson",{mutate:""}],"UnitConversion.toWgs84":["geojson",{mutate:""}]},process:function(a,b,c,d){var e;try{e=f[a.split(".")[1]].apply(this,this.parse(a,b))}catch(c){e=f[a.split(".")[1]].apply(this,this.parseOption(a,b))}(d=null==d||d)&&this.addData([e]),c&&c(e)},parse:function(a,b){if("Transformation.union"===a)return b.A;var c=[],d=this.turfMap[a];return d&&d.map(function(a){return c.push(b[a]),b[a]}),c},parseOption:function(a,b){var c=[];return this.turfOptionMap[a].map(function(a){if(a instanceof Object){var d=a;Object.keys(d).forEach(function(a){d[a]=b[a]}),c.push(d)}else c.push(b[a]);return b}),c}}),i=b.turfLayer=function(a){return new h(a)};e["default"].supermap.turfLayer=i},function(a,b,c){"use strict";function d(a,b){this.x=a,this.y=b}a.exports=d,d.prototype={clone:function(){return new d(this.x,this.y)},add:function(a){return this.clone()._add(a)},sub:function(a){return this.clone()._sub(a)},multByPoint:function(a){return this.clone()._multByPoint(a)},divByPoint:function(a){return this.clone()._divByPoint(a)},mult:function(a){return this.clone()._mult(a)},div:function(a){return this.clone()._div(a)},rotate:function(a){return this.clone()._rotate(a)},rotateAround:function(a,b){return this.clone()._rotateAround(a,b)},matMult:function(a){return this.clone()._matMult(a)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(a){return this.x===a.x&&this.y===a.y},dist:function(a){return Math.sqrt(this.distSqr(a))},distSqr:function(a){var b=a.x-this.x,c=a.y-this.y;return b*b+c*c},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(a){return Math.atan2(this.y-a.y,this.x-a.x)},angleWith:function(a){return this.angleWithSep(a.x,a.y)},angleWithSep:function(a,b){return Math.atan2(this.x*b-this.y*a,this.x*a+this.y*b)},_matMult:function(a){var b=a[0]*this.x+a[1]*this.y,c=a[2]*this.x+a[3]*this.y;return this.x=b,this.y=c,this},_add:function(a){return this.x+=a.x,this.y+=a.y,this},_sub:function(a){return this.x-=a.x,this.y-=a.y,this},_mult:function(a){return this.x*=a,this.y*=a,this},_div:function(a){return this.x/=a,this.y/=a,this},_multByPoint:function(a){return this.x*=a.x,this.y*=a.y,this},_divByPoint:function(a){return this.x/=a.x,this.y/=a.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var a=this.y;return this.y=this.x,this.x=-a,this},_rotate:function(a){var b=Math.cos(a),c=Math.sin(a),d=b*this.x-c*this.y,e=c*this.x+b*this.y;return this.x=d,this.y=e,this},_rotateAround:function(a,b){var c=Math.cos(a),d=Math.sin(a),e=b.x+c*(this.x-b.x)-d*(this.y-b.y),f=b.y+d*(this.x-b.x)+c*(this.y-b.y);return this.x=e,this.y=f,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},d.convert=function(a){return a instanceof d?a:Array.isArray(a)?new d(a[0],a[1]):a}},function(a,b,c){"use strict";function d(a,b,c){if(3===a){var d=new e(c,c.readVarint()+c.pos);d.length&&(b[d.name]=d)}}var e=c(147);a.exports=function(a,b){this.layers=a.readFields(d,{},b)}},function(a,b,c){"use strict";a.exports.VectorTile=c(359),a.exports.VectorTileFeature=c(146),a.exports.VectorTileLayer=c(147)},function(a,b,c){"use strict";b.read=function(a,b,c,d,e){var f,g,h=8*e-d-1,i=(1<<h)-1,j=i>>1,k=-7,l=c?e-1:0,m=c?-1:1,n=a[b+l];for(l+=m,f=n&(1<<-k)-1,n>>=-k,k+=h;k>0;f=256*f+a[b+l],l+=m,k-=8);for(g=f&(1<<-k)-1,f>>=-k,k+=d;k>0;g=256*g+a[b+l],l+=m,k-=8);if(0===f)f=1-j;else{if(f===i)return g?NaN:1/0*(n?-1:1);g+=Math.pow(2,d),f-=j}return(n?-1:1)*g*Math.pow(2,f-d)},b.write=function(a,b,c,d,e,f){var g,h,i,j=8*f-e-1,k=(1<<j)-1,l=k>>1,m=23===e?Math.pow(2,-24)-Math.pow(2,-77):0,n=d?0:f-1,o=d?1:-1,p=0>b||0===b&&0>1/b?1:0;for(b=Math.abs(b),isNaN(b)||b===1/0?(h=isNaN(b)?1:0,g=k):(g=Math.floor(Math.log(b)/Math.LN2),b*(i=Math.pow(2,-g))<1&&(g--,i*=2),(b+=g+l>=1?m/i:m*Math.pow(2,1-l))*i>=2&&(g++,i/=2),g+l>=k?(h=0,g=k):g+l>=1?(h=(b*i-1)*Math.pow(2,e),g+=l):(h=b*Math.pow(2,l-1)*Math.pow(2,e),g=0));e>=8;a[c+n]=255&h,n+=o,h/=256,e-=8);for(g=g<<e|h,j+=e;j>0;a[c+n]=255&g,n+=o,g/=256,j-=8);a[c+n-o]|=128*p}},function(a,b,c){"use strict";function d(a){this.buf=ArrayBuffer.isView(a)?a:new Uint8Array(a||0),this.pos=0,this.type=0,this.length=this.buf.length}function e(a){return a.type===d.Bytes?a.readVarint()+a.pos:a.pos+1}function f(a,b,c){return c?4294967296*b+(a>>>0):4294967296*(b>>>0)+(a>>>0)}function g(a,b,c){var d=16383>=b?1:2097151>=b?2:268435455>=b?3:Math.ceil(Math.log(b)/(7*Math.LN2));c.realloc(d);for(var e=c.pos-1;e>=a;e--)c.buf[e+d]=c.buf[e]}function h(a,b){for(var c=0;c<a.length;c++)b.writeVarint(a[c])}function i(a,b){for(var c=0;c<a.length;c++)b.writeSVarint(a[c])}function j(a,b){for(var c=0;c<a.length;c++)b.writeFloat(a[c])}function k(a,b){for(var c=0;c<a.length;c++)b.writeDouble(a[c])}function l(a,b){for(var c=0;c<a.length;c++)b.writeBoolean(a[c])}function m(a,b){for(var c=0;c<a.length;c++)b.writeFixed32(a[c])}function n(a,b){for(var c=0;c<a.length;c++)b.writeSFixed32(a[c])}function o(a,b){for(var c=0;c<a.length;c++)b.writeFixed64(a[c])}function p(a,b){for(var c=0;c<a.length;c++)b.writeSFixed64(a[c])}function q(a,b){return(a[b]|a[b+1]<<8|a[b+2]<<16)+16777216*a[b+3]}function r(a,b,c){a[c]=b,a[c+1]=b>>>8,a[c+2]=b>>>16,a[c+3]=b>>>24}function s(a,b){return(a[b]|a[b+1]<<8|a[b+2]<<16)+(a[b+3]<<24)}a.exports=d;var t=c(361);d.Varint=0,d.Fixed64=1,d.Bytes=2,d.Fixed32=5,d.prototype={destroy:function(){this.buf=null},readFields:function(a,b,c){for(c=c||this.length;this.pos<c;){var d=this.readVarint(),e=d>>3,f=this.pos;this.type=7&d,a(e,b,this),this.pos===f&&this.skip(d)}return b},readMessage:function(a,b){return this.readFields(a,b,this.readVarint()+this.pos)},readFixed32:function(){var a=q(this.buf,this.pos);return this.pos+=4,a},readSFixed32:function(){var a=s(this.buf,this.pos);return this.pos+=4,a},readFixed64:function(){var a=q(this.buf,this.pos)+4294967296*q(this.buf,this.pos+4);return this.pos+=8,a},readSFixed64:function(){var a=q(this.buf,this.pos)+4294967296*s(this.buf,this.pos+4);return this.pos+=8,a},readFloat:function(){var a=t.read(this.buf,this.pos,!0,23,4);return this.pos+=4,a},readDouble:function(){var a=t.read(this.buf,this.pos,!0,52,8);return this.pos+=8,a},readVarint:function(a){var b,c,d=this.buf;return b=127&(c=d[this.pos++]),128>c?b:(b|=(127&(c=d[this.pos++]))<<7,128>c?b:(b|=(127&(c=d[this.pos++]))<<14,128>c?b:(b|=(127&(c=d[this.pos++]))<<21,128>c?b:function(a,b,c){var d,e,g=c.buf;if(e=g[c.pos++],d=(112&e)>>4,128>e)return f(a,d,b);if(e=g[c.pos++],d|=(127&e)<<3,128>e)return f(a,d,b);if(e=g[c.pos++],d|=(127&e)<<10,128>e)return f(a,d,b);if(e=g[c.pos++],d|=(127&e)<<17,128>e)return f(a,d,b);if(e=g[c.pos++],d|=(127&e)<<24,128>e)return f(a,d,b);if(e=g[c.pos++],d|=(1&e)<<31,128>e)return f(a,d,b);throw new Error("Expected varint not more than 10 bytes")}(b|=(15&(c=d[this.pos]))<<28,a,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var a=this.readVarint();return a%2==1?(a+1)/-2:a/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var a=this.readVarint()+this.pos,b=function(a,b,c){for(var d="",e=b;c>e;){var f,g,h,i=a[e],j=null,k=i>239?4:i>223?3:i>191?2:1;if(e+k>c)break;1===k?128>i&&(j=i):2===k?128==(192&(f=a[e+1]))&&(j=(31&i)<<6|63&f)<=127&&(j=null):3===k?(f=a[e+1],g=a[e+2],128==(192&f)&&128==(192&g)&&((j=(15&i)<<12|(63&f)<<6|63&g)<=2047||j>=55296&&57343>=j)&&(j=null)):4===k&&(f=a[e+1],g=a[e+2],h=a[e+3],128==(192&f)&&128==(192&g)&&128==(192&h)&&((j=(15&i)<<18|(63&f)<<12|(63&g)<<6|63&h)<=65535||j>=1114112)&&(j=null)),null===j?(j=65533,k=1):j>65535&&(j-=65536,d+=String.fromCharCode(j>>>10&1023|55296),j=56320|1023&j),d+=String.fromCharCode(j),e+=k}return d}(this.buf,this.pos,a);return this.pos=a,b},readBytes:function(){var a=this.readVarint()+this.pos,b=this.buf.subarray(this.pos,a);return this.pos=a,b},readPackedVarint:function(a,b){var c=e(this);for(a=a||[];this.pos<c;)a.push(this.readVarint(b));return a},readPackedSVarint:function(a){var b=e(this);for(a=a||[];this.pos<b;)a.push(this.readSVarint());return a},readPackedBoolean:function(a){var b=e(this);for(a=a||[];this.pos<b;)a.push(this.readBoolean());return a},readPackedFloat:function(a){var b=e(this);for(a=a||[];this.pos<b;)a.push(this.readFloat());return a},readPackedDouble:function(a){var b=e(this);for(a=a||[];this.pos<b;)a.push(this.readDouble());return a},readPackedFixed32:function(a){var b=e(this);for(a=a||[];this.pos<b;)a.push(this.readFixed32());return a},readPackedSFixed32:function(a){var b=e(this);for(a=a||[];this.pos<b;)a.push(this.readSFixed32());return a},readPackedFixed64:function(a){var b=e(this);for(a=a||[];this.pos<b;)a.push(this.readFixed64());return a},readPackedSFixed64:function(a){var b=e(this);for(a=a||[];this.pos<b;)a.push(this.readSFixed64());return a},skip:function(a){var b=7&a;if(b===d.Varint)for(;this.buf[this.pos++]>127;);else if(b===d.Bytes)this.pos=this.readVarint()+this.pos;else if(b===d.Fixed32)this.pos+=4;else{if(b!==d.Fixed64)throw new Error("Unimplemented type: "+b);this.pos+=8}},writeTag:function(a,b){this.writeVarint(a<<3|b)},realloc:function(a){for(var b=this.length||16;b<this.pos+a;)b*=2;if(b!==this.length){var c=new Uint8Array(b);c.set(this.buf),this.buf=c,this.length=b}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(a){this.realloc(4),r(this.buf,a,this.pos),this.pos+=4},writeSFixed32:function(a){this.realloc(4),r(this.buf,a,this.pos),this.pos+=4},writeFixed64:function(a){this.realloc(8),r(this.buf,-1&a,this.pos),r(this.buf,Math.floor(a*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(a){this.realloc(8),r(this.buf,-1&a,this.pos),r(this.buf,Math.floor(a*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(a){(a=+a||0)>268435455||0>a?function(a,b){var c,d;if(a>=0?(c=a%4294967296|0,d=a/4294967296|0):(d=~(-a/4294967296),4294967295^(c=~(-a%4294967296))?c=c+1|0:(c=0,d=d+1|0)),a>=0x10000000000000000||-0x10000000000000000>a)throw new Error("Given varint doesn't fit into 10 bytes");b.realloc(10),function(a,b,c){c.buf[c.pos++]=127&a|128,a>>>=7,c.buf[c.pos++]=127&a|128,a>>>=7,c.buf[c.pos++]=127&a|128,a>>>=7,c.buf[c.pos++]=127&a|128,a>>>=7,c.buf[c.pos]=127&a}(c,0,b),function(a,b){var c=(7&a)<<4;b.buf[b.pos++]|=c|((a>>>=3)?128:0),a&&(b.buf[b.pos++]=127&a|((a>>>=7)?128:0),a&&(b.buf[b.pos++]=127&a|((a>>>=7)?128:0),a&&(b.buf[b.pos++]=127&a|((a>>>=7)?128:0),a&&(b.buf[b.pos++]=127&a|((a>>>=7)?128:0),a&&(b.buf[b.pos++]=127&a)))))}(d,b)}(a,this):(this.realloc(4),this.buf[this.pos++]=127&a|(a>127?128:0),127>=a||(this.buf[this.pos++]=127&(a>>>=7)|(a>127?128:0),127>=a||(this.buf[this.pos++]=127&(a>>>=7)|(a>127?128:0),127>=a||(this.buf[this.pos++]=a>>>7&127))))},writeSVarint:function(a){this.writeVarint(0>a?2*-a-1:2*a)},writeBoolean:function(a){this.writeVarint(Boolean(a))},writeString:function(a){a=String(a),this.realloc(4*a.length),this.pos++;var b=this.pos;this.pos=function(a,b,c){for(var d,e,f=0;f<b.length;f++){if((d=b.charCodeAt(f))>55295&&57344>d){if(!e){d>56319||f+1===b.length?(a[c++]=239,a[c++]=191,a[c++]=189):e=d;continue}if(56320>d){a[c++]=239,a[c++]=191,a[c++]=189,e=d;continue}d=e-55296<<10|d-56320|65536,e=null}else e&&(a[c++]=239,a[c++]=191,a[c++]=189,e=null);128>d?a[c++]=d:(2048>d?a[c++]=d>>6|192:(65536>d?a[c++]=d>>12|224:(a[c++]=d>>18|240,a[c++]=d>>12&63|128),a[c++]=d>>6&63|128),a[c++]=63&d|128)}return c}(this.buf,a,this.pos);var c=this.pos-b;c>=128&&g(b,c,this),this.pos=b-1,this.writeVarint(c),this.pos+=c},writeFloat:function(a){this.realloc(4),t.write(this.buf,a,this.pos,!0,23,4),this.pos+=4},writeDouble:function(a){this.realloc(8),t.write(this.buf,a,this.pos,!0,52,8),this.pos+=8},writeBytes:function(a){var b=a.length;this.writeVarint(b),this.realloc(b);for(var c=0;b>c;c++)this.buf[this.pos++]=a[c]},writeRawMessage:function(a,b){this.pos++;var c=this.pos;a(b,this);var d=this.pos-c;d>=128&&g(c,d,this),this.pos=c-1,this.writeVarint(d),this.pos+=d},writeMessage:function(a,b,c){this.writeTag(a,d.Bytes),this.writeRawMessage(b,c)},writePackedVarint:function(a,b){this.writeMessage(a,h,b)},writePackedSVarint:function(a,b){this.writeMessage(a,i,b)},writePackedBoolean:function(a,b){this.writeMessage(a,l,b)},writePackedFloat:function(a,b){this.writeMessage(a,j,b)},writePackedDouble:function(a,b){this.writeMessage(a,k,b)},writePackedFixed32:function(a,b){this.writeMessage(a,m,b)},writePackedSFixed32:function(a,b){this.writeMessage(a,n,b)},writePackedFixed64:function(a,b){this.writeMessage(a,o,b)},writePackedSFixed64:function(a,b){this.writeMessage(a,p,b)},writeBytesField:function(a,b){this.writeTag(a,d.Bytes),this.writeBytes(b)},writeFixed32Field:function(a,b){this.writeTag(a,d.Fixed32),this.writeFixed32(b)},writeSFixed32Field:function(a,b){this.writeTag(a,d.Fixed32),this.writeSFixed32(b)},writeFixed64Field:function(a,b){this.writeTag(a,d.Fixed64),this.writeFixed64(b)},writeSFixed64Field:function(a,b){this.writeTag(a,d.Fixed64),this.writeSFixed64(b)},writeVarintField:function(a,b){this.writeTag(a,d.Varint),this.writeVarint(b)},writeSVarintField:function(a,b){this.writeTag(a,d.Varint),this.writeSVarint(b)},writeStringField:function(a,b){this.writeTag(a,d.Bytes),this.writeString(b)},writeFloatField:function(a,b){this.writeTag(a,d.Fixed32),this.writeFloat(b)},writeDoubleField:function(a,b){this.writeTag(a,d.Fixed64),this.writeDouble(b)},writeBooleanField:function(a,b){this.writeVarintField(a,Boolean(b))}}},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0}),b.tiledVectorLayer=b.TileVectorLayer=void 0;var e=d(c(2));c(3);var f=c(153),g=c(101),h=c(5),i=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}(c(31)),j=d(c(11)),k=b.TileVectorLayer=f.VectorGrid.extend({options:{serverType:null,crs:null,cartoCSS:null,layerNames:null,layersID:null,serverCartoCSSStyle:!0,processCharacters:!1,returnAttributes:!1,expands:null,cacheEnabled:!1,tileTemplate:null,subdomains:"abc",timeout:1e4,attribution:j["default"].Common.attribution},initialize:function(a,b){(b=b||{}).noWrap=null==b.noWrap||b.noWrap,e["default"].setOptions(this,b),f.VectorGrid.prototype.initialize.call(this,b),e["default"].stamp(this);var c=this;return!a||a.indexOf("http")<0?(a="",this):(c.url=a,a.indexOf("/")===a.length-1&&(a=a.substr(0,a.length-1),c.url=a),this.cartoCSSToLeaflet=new g.CartoCSSToLeaflet(c.url),c.initLayersInfo(),!c.options.serverCartoCSSStyle&&c.options.cartoCSS&&c.setClientCartoCSS(c.options.cartoCSS),void 0)},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._map=a,this._initLayerUrl(),!this.options.tileTemplate&&this.options.serverCartoCSSStyle||this._initGrid()},initLayersInfo:function(){var a=this,b=a.url+"/layers.json";h.FetchRequest.get(b,null,{timeout:a.options.timeout}).then(function(a){return a.json()}).then(function(b){if(a.layersInfoInitialized=!0,a.layersInfo=b,a.layersInfo){for(var c={},d=0,e=a.layersInfo.length;e>d;d++)for(var f=a.layersInfo[d].subLayers.layers,g=0,h=f.length;h>g;g++)f[g].layerIndex=h-g,c[f[g].name]=f[g];a.layersInfo=c,a.cartoCSSToLeaflet.layersInfo=c,a.options.serverCartoCSSStyle&&a.getVectorStylesFromServer()}})["catch"](function(a){console.error("error",a)})},getLayerStyleInfo:function(a){var b,c=this;if(c.layersStyles=c.layersStyles||{},b=c.layersStyles[a])return b;if(!c.layersInfo)return{};var d=c.layersInfo[a];if(!d)return null;switch(b={layerIndex:d.layerIndex,ugcLayerType:d.ugcLayerType},d.ugcLayerType){case"VECTOR":b.layerStyle=d.style?d.style:null;break;case"THEME":var e=d.theme;b.layerStyle=e?e.defaultStyle:null,e&&"LABEL"===e.type&&(b.type=e.type,b.textField=e.labelExpression);break;default:d.style&&(b.layerStyle=d.style)}return c.layersStyles[a]=b,b},getVectorStylesFromServer:function(){var a=this,b=a.url+"/tileFeature/vectorstyles.json";h.FetchRequest.get(b,null,{timeout:a.options.timeout
}).then(function(a){return a.json()}).then(function(b){return b&&b.style?(b.style&&"cartoCSS"===b.type&&a.setServerCartoCSS(b.style),a.options&&a.setClientCartoCSS(a.options.cartoCSS),a._initGrid(),void 0):null})["catch"](function(a){console.error("error",a)})},setServerCartoCSS:function(a){this.cartoCSSToLeaflet.pretreatedCartoCSS(a,!0)},setClientCartoCSS:function(a){var b=!1;this.options.processCharacters&&(b=this.options.processCharacters),this.cartoCSSToLeaflet.pretreatedCartoCSS(a,b)},getVectorTileLayerStyle:function(a,b){if(!b)return null;var c=this,d=b.layerName,e=c.getLayerStyleInfo(d);if(e&&e.textField){var f=e.textField;if(f&&f.indexOf(".")){var g=f.split(".");f=g&&g.length>0&&g[g.length-1]}b.properties.textField=f}c.vectorTileLayerStyles=c.vectorTileLayerStyles||{};var h=c.vectorTileLayerStyles[d];if(h)return b=this._mergeFeatureTextField(b,h),h;var i=this.getScaleFromCoords(a),j=this.cartoCSSToLeaflet.pickShader(d)||[];for(var k in h=[],j)for(var l=j[k],m=0;m<l.length;m++){var n=this.cartoCSSToLeaflet.getValidStyleFromCarto(a.z,i,l[m],b);n&&h.push(n)}return"TEXT"!==(b=this._mergeFeatureTextField(b,h)).type&&0!==h.length||(h=this.cartoCSSToLeaflet.getValidStyleFromLayerInfo(b,e),"TEXT"===b.type&&(h.textName="["+b.properties.textField+"]")),c.vectorTileLayerStyles[d]=h,h},getScale:function(a){var b=a||this._map.getZoom();return this.scales[b]},getScaleFromCoords:function(a){var b,c=this;return c.scales&&c.scales[a.z]?c.scales[a.z]:(c.scales=c.scales||{},b=c.getDefaultScale(a),c.scales[a.z]=b,b)},getDefaultScale:function(a){var b=this._crs;if(b.scales)return b.scales[a.z];var c=this._tileCoordsToBounds(a),d=b.project(c.getNorthEast()),e=b.project(c.getSouthWest()),f=this.options.tileSize,g=Math.max(Math.abs(d.x-e.x)/f,Math.abs(d.y-e.y)/f),j=h.Unit.METER;if(b.code){var k=b.code.split(":");if(k&&k.length>1){var l=parseInt(k[1]);j=l&&l>=4e3&&5e3>=l?h.Unit.DEGREE:h.Unit.METER}}return i.resolutionToScale(g,96,j)},_mergeFeatureTextField:function(a,b){if(!this.options.serverCartoCSSStyle||!b||"TEXT"!==a.type)return a;var c=b;e["default"].Util.isArray(b)||(c=[b]);for(var d=0;d<c.length;d++){var f=c[d].textName;f&&a.properties&&(a.properties.textField=f.substring(1,f.length-1))}return a},_getTileUrl:function(a){return this.options.tileTemplate?this._getTileTemplateUrl(a):this._getDefaultTileUrl(a)},_getTileTemplateUrl:function(a){var b=this,c=b.options.tileTemplate,d={s:b._getSubdomain(a),x:a.x,y:a.y,z:a.z};if(b._map&&!b._map.options.crs.infinite){var f=b._globalTileRange.max.y-a.y;b.options.tms&&(d.y=f),d["-y"]=f}return e["default"].Util.template(c,e["default"].extend(d,b.options))},_initGrid:function(){f.VectorGrid.prototype.onAdd.call(this,this._map)},_getSubdomain:e["default"].TileLayer.prototype._getSubdomain,_getDefaultTileUrl:function(a){var b=a.x,c=a.y,d=this._tileUrl+"&x="+b+"&y="+c;return d+="&scale="+this.getScaleFromCoords(a)},_initLayerUrl:function(){var a=this.options;if(this.url){var b=a.format.toString().toLowerCase();this._tileUrl=this.url+"/tileFeature."+b+"?",this._tileUrl+=encodeURI(this._createURLParam(a))}},_createURLParam:function(a){var b=[],c=this._getCredential();if(c&&b.push(c),a.layersID&&b.push("layersID="+a.layersID),a.layerNames){e["default"].Util.isArray(a.layerNames)||(a.layerNames=[a.layerNames]);var d="["+a.layerNames.join(",")+"]";b.push("layerNames="+d)}var f=this._crs;if(f.options&&f.options.origin)b.push("origin="+JSON.stringify({x:f.options.origin[0],y:f.options.origin[1]}));else if(f.projection&&f.projection.bounds){var g=f.projection.bounds,h=e["default"].point(g.min.x,g.max.y);b.push("origin="+JSON.stringify({x:h.x,y:h.y}))}a.expands&&b.push("expands="+a.expands),b.push("returnAttributes="+a.returnAttributes),b.push("cacheEnabled="+a.cacheEnabled);var i=this.options.tileSize;return b.push("width="+i),b.push("height="+i),b.join("&")},_getCredential:function(a){var b,c;switch(this.options.serverType){case h.ServerType.IPORTAL:(b=(c=h.SecurityManager.getToken(a))?new h.Credential(c,"token"):null)||(b=(c=h.SecurityManager.getKey(a))?new h.Credential(c,"key"):null);break;case h.ServerType.ONLINE:b=(c=h.SecurityManager.getKey(a))?new h.Credential(c,"key"):null;break;default:b=(c=h.SecurityManager.getToken(a))?new h.Credential(c,"token"):null}return b?b.getUrlParameters():null}}),l=b.tiledVectorLayer=function(a,b){return new k(a,b)};e["default"].supermap.tiledVectorLayer=l},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.rankSymbolThemeLayer=b.RankSymbolThemeLayer=void 0;var d,e=c(2),f=(d=e)&&d.__esModule?d:{"default":d};c(3);var g=c(5),h=c(154),i=b.RankSymbolThemeLayer=h.GraphThemeLayer.extend({initialize:function(a,b,c){h.GraphThemeLayer.prototype.initialize.apply(this,arguments),this.symbolType=b,this.symbolSetting={}},setSymbolType:function(a){this.symbolType=a,this.redraw()},createThematicFeature:function(a){var b,c=this;return g.FeatureTheme[c.symbolType]&&c.themeField&&c.symbolSetting&&(b=new g.FeatureTheme[c.symbolType](a,c,[c.themeField],c.symbolSetting)),!!b&&(b.assembleShapes(),b)}}),j=b.rankSymbolThemeLayer=function(a,b,c){return new i(a,b,c)};f["default"].supermap.rankSymbolThemeLayer=j},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.GraphicWebGLRenderer=void 0;var d,e=c(2),f=(d=e)&&d.__esModule?d:{"default":d},g=f["default"].Util.falseFn,h=function(){for(var a=document.createElement("div"),b=["transform","WebkitTransform","MozTransform","OTransform","msTransform"],c=0;c<b.length;c++){var d=b[c];if(void 0!==a.style[d])return d}return b[0]}();b.GraphicWebGLRenderer=f["default"].Class.extend({initialize:function(a,b){this.layer=a;var c=b||{};f["default"].Util.setOptions(this,c),this.options.radius=this._pixelToMeter(this.options.radius),this._initContainer()},getRenderer:function(){return this},update:function(a){a&&a.length>-1&&(this._data=a),this._renderLayer.setChangeFlags({dataChanged:!0,propsChanged:!0,viewportChanged:!0,updateTriggersChanged:!0}),this._refreshData();var b=this._getLayerState();b.data=this._data||[],this._layerDefaultStyleCache=null,this._renderLayer.setNeedsRedraw(!0),this._renderLayer.setState(b)},drawGraphics:function(a){this._clearBuffer();var b=this.layer._map.getSize();this._container.width!==b.x&&(this._container.width=b.x),this._container.height!==b.y&&(this._container.height=b.y);var c=this.layer._map.getPanes().mapPane._leaflet_pos;this._container.style[h]="translate("+-Math.round(c.x)+"px,"+-Math.round(c.y)+"px)",this._data=a||[],this._renderLayer||this._createInnerRender(),this._draw()},_initContainer:function(){this._container=this._createCanvas(this.options.width,this.options.height),this._layerContainer=this.options.container,this._wrapper=f["default"].DomUtil.create("div","deck-wrapper",this._layerContainer),this._wrapper.appendChild(this._container)},_createCanvas:function(a,b){var c=f["default"].DomUtil.create("canvas","graphicLayer  leaflet-layer leaflet-zoom-hide");return c.oncontextmenu=f["default"].Util.falseFn,c.width=a,c.height=b,c.style.width=a+"px",c.style.height=b+"px",c},_pixelToMeter:function(a){var b=this.layer._map.getBounds();return a*((b.getEast()-b.getWest())/this.layer._map.getSize().x*(6378137*Math.PI/180))},_createInnerRender:function(){var a=this,b=this._getLayerState(),c=b.color,d=b.radius,e=b.opacity,f=b.highlightColor,g=b.radiusScale,h=b.radiusMinPixels,i=b.radiusMaxPixels,j=b.strokeWidth,k=b.outline,l={id:"scatter-plot",data:a._data,pickable:Boolean(this.options.onClick)||Boolean(this.options.onHover),autoHighlight:!0,color:c,opacity:e,radius:d,radiusScale:g,highlightColor:f,radiusMinPixels:h,radiusMaxPixels:i,strokeWidth:j,outline:k,getPosition:function(a){if(!a)return[0,0,0];var b=a.getLatLng();return b&&[b.lng,b.lat,0]},getColor:function(b){var c=a._getLayerDefaultStyle(),d=b&&b.options;return d&&d.color||c.color},getRadius:function(b){var c=a._getLayerDefaultStyle(),d=b&&b.getStyle();return d&&d.radius||c.radius},updateTriggers:{getColor:[c],getRadius:[d]}},m=this;this.options.onClick&&(l.onClick=function(){m._container.style.cursor="pointer",m.options.onClick.apply(m,arguments)}),this.options.onHover&&(l.onHover=function(){m._container.style.cursor="pointer",m.options.onHover.apply(m,arguments)}),a._renderLayer=new window.DeckGL.ScatterplotLayer(l)},_getLayerDefaultStyle:function(){if(this._layerDefaultStyleCache)return this._layerDefaultStyleCache;var a=this.layer.options,b=a.color,c=a.opacity,d=a.radius,e=a.radiusScale,f=a.radiusMinPixels,g=a.radiusMaxPixels,h=a.strokeWidth,i=a.outline;return d=this._pixelToMeter(d),this._layerDefaultStyleCache={color:b,opacity:c,radius:d,radiusScale:e,radiusMinPixels:f,radiusMaxPixels:g,strokeWidth:h,outline:i},this._layerDefaultStyleCache},_getLayerState:function(){var a=this.layer.getState();return a.zoom=a.zoom-1,a},_draw:function(){var a=this._getLayerState();this._refreshData(),a.data=this._data||[];var b={};for(var c in a)b[c]=a[c];this._layerDefaultStyleCache=null,this._renderLayer.setNeedsRedraw(!0),b.layers=[this._renderLayer],b.canvas=this._container,b.onBeforeRender=this._onBeforeRender.bind(this),b.onAfterRender=this._onAfterRender.bind(this),this.deckGL?this.deckGL.setProps(b):this.deckGL=new window.DeckGL.experimental.DeckGLJS(b)},_clearBuffer:function(){if(this.deckGL){var a=this.deckGL.layerManager;a&&a.context.gl.clear(a.context.gl.COLOR_BUFFER_BIT)}return this},_refreshData:function(){var a=this._data||[],b=f["default"].Util.isArray(a)?[].concat(a):[a];this._renderLayer.props.data||(this._renderLayer.props.data=[]),this._renderLayer.props.data.length=0;for(var c=0;c<b.length;c++)this._renderLayer.props.data.push(b[c]);this._data=this._renderLayer.props.data},_handleClick:g,_onBeforeRender:g,_onAfterRender:g,_removePath:function(){return this._wrapper.parentElement.removeChild(this._wrapper),this._container=null,this._wrapper=null,this},_initPath:g,_addPath:g})},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.GraphicCanvasRenderer=void 0;var d,e=c(2),f=(d=e)&&d.__esModule?d:{"default":d},g=f["default"].Util.falseFn;b.GraphicCanvasRenderer=f["default"].Class.extend({initialize:function(a,b){this.layer=a,b=b||{},f["default"].Util.setOptions(this,b)},getRenderer:function(){return this.options.renderer},update:function(){this.getRenderer()._clear(),this.getRenderer()._draw()},_handleClick:function(a){var b=this.layer,c=b._map;if(b.options.onClick){this.layer._renderer._ctx.canvas.style.cursor="pointer";for(var d=b._getGraphicsInBounds(),e=0;e<d.length;e++){var g=void 0,h=void 0,i=c.latLngToLayerPoint(d[e].getLatLng()),j=d[e].getStyle();if(!j&&this.defaultStyle&&(j=this.defaultStyle),j.img){var k=j.anchor||[j.img.width/2,j.img.height/2];g=f["default"].point(i.x-k[0],i.y-k[1]),h=f["default"].point(g.x+j.img.width,g.y+j.img.height)}else g=f["default"].point(i.x-j.width/2,i.y-j.height/2),h=f["default"].point(i.x+j.width/2,i.y+j.height/2);if(f["default"].bounds(g,h).contains(c.latLngToLayerPoint(a.latlng)))return b.options.onClick.call(b,d[e],a)}}},_clearBuffer:g}),f["default"].Canvas.include({drawGraphics:function(a,b){var c=this;c._drawing&&a.forEach(function(a){var d=a.getStyle();!d&&b&&(d=b),d.img?c._drawImage.call(c,c._ctx,d,a.getLatLng()):c._drawCanvas.call(c,c._ctx,d,a.getLatLng())})},_drawCanvas:function(a,b,c){var d=b,e=this._map.latLngToLayerPoint(c),f=e.x-d.width/2,g=e.y-d.height/2,h=d.width,i=d.height;a.drawImage(d,f,g,h,i)},_drawImage:function(a,b,c){var d,e;if(b.size){var g=b.size;d=g[0],e=g[1]}else d=b.img.width,e=b.img.height;var h=this._coordinateToPoint(c),i=f["default"].point(h),j=f["default"].point(b.anchor||[d/2,e/2]);h=[i.x-j.x,i.y-j.y],a.drawImage(b.img,h[0],h[1],d,e)},_coordinateToPoint:function(a){if(!this._map)return a;var b=a;f["default"].Util.isArray(a)?b=f["default"].latLng(a[0],a[1]):a instanceof f["default"].LatLng&&(b=f["default"].latLng(a.lat,a.lng));var c=this._map.latLngToLayerPoint(b);return[c.x,c.y]}})},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.imageStyle=b.ImageStyle=void 0;var d,e=c(2),f=(d=e)&&d.__esModule?d:{"default":d};c(3);var g=b.ImageStyle=f["default"].Class.extend({options:{img:null,origin:[0,0],anchor:null,size:null},initialize:function(a){a=a||{},f["default"].Util.setOptions(this,a),this._canvas=document.createElement("canvas"),this._canvas.width=2*(this.options.radius+this.options.weight),this._canvas.height=2*(this.options.radius+this.options.weight),this._ctx=this._canvas.getContext("2d")},getStyle:function(){return this.options}}),h=b.imageStyle=function(a){return new g(a)};f["default"].supermap.imageStyle=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.circleStyle=b.CircleStyle=void 0;var d,e=c(2),f=(d=e)&&d.__esModule?d:{"default":d};c(3);var g=b.CircleStyle=f["default"].Class.extend({options:{stroke:!0,color:"#3388ff",weight:1,opacity:1,lineCap:"round",lineJoin:"round",fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",radius:3},initialize:function(a){a=a||{},f["default"].Util.setOptions(this,a),this._canvas=document.createElement("canvas"),this._canvas.width=2*(this.options.radius+this.options.weight),this._canvas.height=2*(this.options.radius+this.options.weight),this._ctx=this._canvas.getContext("2d"),this._initStyle()},getCanvas:function(){return this._canvas},getStyle:function(){return this._canvas},_initStyle:function(){this._ctx.beginPath(),this._ctx.arc(this._canvas.width/2,this._canvas.height/2,this.options.radius,0,2*Math.PI),this._fillStroke()},_fillStroke:function(){var a=this.options;a.fill&&(this._ctx.globalAlpha=a.fillOpacity,this._ctx.fillStyle=a.fillColor||a.color,this._ctx.fill(a.fillRule||"evenodd")),a.stroke&&0!==a.weight&&(this._ctx.globalAlpha=a.opacity,this._ctx.lineWidth=a.weight,this._ctx.strokeStyle=a.color,this._ctx.lineCap=a.lineCap,this._ctx.lineJoin=a.lineJoin,this._ctx.stroke())}}),h=b.circleStyle=function(a){return new g(a)};f["default"].supermap.circleStyle=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.cloverStyle=b.CloverStyle=void 0;var d,e=c(2),f=(d=e)&&d.__esModule?d:{"default":d};c(3);var g=b.CloverStyle=f["default"].Class.extend({options:{radius:10,angele:60,spaceAngle:0,count:3,fill:!1,stroke:!0,color:"#3388ff",weight:1,lineCap:"round",lineJoin:"round",fillColor:"#66ccff",fillOpacity:.2,fillRule:"evenodd",opacity:1,strokeWidth:1},initialize:function(a){a=a||{},f["default"].Util.setOptions(this,a),this._canvas=document.createElement("canvas"),this._canvas.width=2*(this.options.radius+this.options.weight),this._canvas.height=2*(this.options.radius+this.options.weight),this._ctx=this._canvas.getContext("2d");var b=void 0===this.options.strokeWidth?1:this.options.strokeWidth;this.options.width=2*(this.options.radius+b)+1,this._initStyle()},getStyle:function(){return this._canvas},drawSector:function(a,b,c,d,e,f){e=e/180*Math.PI,f=f/180*Math.PI,a.moveTo(b,c),a.lineTo(b+d*Math.cos(e),c+d*Math.sin(e)),a.arc(b,c,d,e,f),a.lineTo(b,c)},_initStyle:function(){var a=0,b=this.options,c=b.angle;if(b.spaceAngle=360/b.count-b.angle,!(b.spaceAngle<0)){this._ctx.beginPath(),this.anchor=[b.width/2,b.width/2];for(var d=0;d<b.count;d++)this.drawSector(this._ctx,this.anchor[0],this.anchor[1],b.radius,a,c),c=(a=c+b.spaceAngle)+b.angle;this._fillStroke()}},_fillStroke:function(){var a=this.options;a.fill&&(this._ctx.globalAlpha=a.fillOpacity,this._ctx.fillStyle=a.fillColor||a.color,this._ctx.fill(a.fillRule||"evenodd")),a.stroke&&0!==a.weight&&(this._ctx.globalAlpha=a.opacity,this._ctx.lineWidth=a.weight,this._ctx.strokeStyle=a.color,this._ctx.lineCap=a.lineCap,this._ctx.lineJoin=a.lineJoin,this._ctx.stroke())}}),h=b.cloverStyle=function(a){return new g(a)};f["default"].supermap.cloverStyle=h},function(a,b,c){"use strict";function d(a){var b=document.createElement("canvas");return b&&b.getContext(a)}Object.defineProperty(b,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();b.Detector=function(){function a(){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a)}return e(a,null,[{key:"supportWebGL",value:function(){return d("webgl")}},{key:"supportWebGL2",value:function(){return d("webgl2")}},{key:"supportCanvas",value:function(){return d("2d")}}]),a}()},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.graphicLayer=b.GraphicLayer=void 0;var d,e=c(2),f=(d=e)&&d.__esModule?d:{"default":d};c(3);var g=c(370),h=c(5),i=c(155),j=["canvas","webgl"],k={color:[0,0,0,255],opacity:.8,radius:10,radiusScale:1,radiusMinPixels:0,radiusMaxPixels:Number.MAX_SAFE_INTEGER,strokeWidth:1,outline:!1},l=b.GraphicLayer=f["default"].Path.extend({initialize:function(a,b){this.graphics=[].concat(a);var c=b||{};f["default"].Util.setOptions(this,c),this.options.render=this.options.render||j[0],g.Detector.supportWebGL2()||(this.options.render=j[0])},getEvents:function(){return{click:this._handleClick.bind(this),resize:this._resize.bind(this),moveend:this._moveEnd.bind(this)}},onAdd:function(a){this._map=a,this.defaultStyle=this._getDefaultStyle(this.options),this._renderer=this._createRenderer(),this._container=this._renderer._container,f["default"].Path.prototype.onAdd.call(this)},onRemove:function(){this._renderer._removePath(this)},setGraphics:function(a){this.graphics=this.graphics||[],this.graphics.length=0;var b=f["default"].Util.isArray(a)?[].concat(a):[a];this.graphics=[].concat(b),this.update()},addGraphics:function(a){this.graphics=this.graphics||[];var b=f["default"].Util.isArray(a)?[].concat(a):[a];this.graphics=this.graphics.concat(b),this.update()},getGraphicBy:function(a,b){var c=null;for(var d in this.graphics)if(this.graphics[d][a]===b){c=this.graphics[d];break}return c},getGraphicById:function(a){return this.getGraphicBy("id",a)},getGraphicsByAttribute:function(a,b){var c,d=[];for(var e in this.graphics)(c=this.graphics[e])&&c.attributes&&c.attributes[a]===b&&d.push(c);return d},removeGraphics:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!a||0===a.length||a===this.graphics)return this.graphics.length=0,void this.update();h.CommonUtil.isArray(a)||(a=[a]);for(var b=a.length-1;b>=0;b--){var c=a[b],d=h.CommonUtil.indexOf(this.graphics,c);-1!==d&&this.graphics.splice(d,1)}this.update()},setStyle:function(a){var b=this.options,c={color:b.color,radius:b.radius,opacity:b.opacity,highlightColor:b.highlightColor,radiusScale:b.radiusScale,radiusMinPixels:b.radiusMinPixels,radiusMaxPixels:b.radiusMaxPixels,strokeWidth:b.strokeWidth,outline:b.outline};this.options=f["default"].Util.extend(this.options,c,a),this.defaultStyle=this._getDefaultStyle(this.options),this.update()},update:function(){this._layerRenderer.update(this.graphics)},clear:function(){this.removeGraphics()},getRenderer:function(){return this._renderer},getState:function(){var a=this._map,b=a.getSize().x,c=a.getSize().y,d=a.getCenter(),e={longitude:d.lng,latitude:d.lat,zoom:a.getZoom(),maxZoom:a.getMaxZoom(),pitch:0,bearing:0},f={};for(var g in e)f[g]=e[g];f.width=b,f.height=c;var h=this.options;return f.color=h.color,f.radius=h.radius,f.opacity=h.opacity,f.highlightColor=h.highlightColor,f.radiusScale=h.radiusScale,f.radiusMinPixels=h.radiusMinPixels,f.radiusMaxPixels=h.radiusMaxPixels,f.strokeWidth=h.strokeWidth,f.outline=h.outline,f},_resize:function(){var a=this._map.getSize();this._container.width=a.x,this._container.height=a.y,this._container.style.width=a.x+"px",this._container.style.height=a.y+"px";var b=this._map.containerPointToLayerPoint([0,0]);f["default"].DomUtil.setPosition(this._container,b),this._update()},_moveEnd:function(){this._layerRenderer instanceof i.GraphicWebGLRenderer&&this._update()},_createRenderer:function(){var a=this._map,b=a.getSize().x,c=a.getSize().y,d=void 0;if(this.options.render===j[0])d=new i.GraphicCanvasRenderer(this,{width:b,height:c,renderer:a.getRenderer(this)});else{var e=f["default"].Util.setOptions({},k),g=f["default"].Util.setOptions({options:e},this.options);(g=f["default"].Util.setOptions(this,g)).container=a.getPane("overlayPane"),g.width=b,g.height=c,d=new i.GraphicWebGLRenderer(this,g)}return d.defaultStyle=this.defaultStyle,this._layerRenderer=d,this._layerRenderer.getRenderer()},_update:function(){this._map&&this._updatePath()},_updatePath:function(){var a=this._getGraphicsInBounds();this._renderer.drawGraphics(a,this.defaultStyle)},_project:function(){var a=this;a._getGraphicsInBounds().map(function(b){var c=a._map.latLngToLayerPoint(b.getLatLng()),d=a._clickTolerance(),e=[b._anchor+d,b._anchor+d];return b._pxBounds=new f["default"].Bounds(c.subtract(e),c.add(e)),b}),a._pxBounds=f["default"].bounds(f["default"].point(0,0),f["default"].point(this._container.width,this._container.height))},_getDefaultStyle:function(a){var b={};if(a.color){b.fill=!0;var c=this.toRGBA(a.color);b.color=c,b.fillColor=c}return a.opacity&&(b.opacity=a.opacity,b.fillOpacity=a.opacity),a.radius&&(b.radius=a.radius),a.strokeWidth&&(b.weight=a.strokeWidth),a.outline&&(b.stroke=a.outline),new i.CircleStyle(b).getStyle()},toRGBA:function(a){return"rgba("+a[0]+","+a[1]+","+a[2]+","+(a[3]||255)/255+")"},_getGraphicsInBounds:function(){var a=[],b=this._map.getBounds();return this.graphics.map(function(c){return b.contains(c.getLatLng())&&a.push(c),c}),a},_handleClick:function(a){this._layerRenderer._handleClick(a)},beforeAdd:f["default"].Util.falseFn,_containsPoint:f["default"].Util.falseFn}),m=b.graphicLayer=function(a,b){return new l(a,b)};f["default"].supermap.graphicLayer=m},function(a,b){a.exports=function(){try{return echarts}catch(a){return{}}}()},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){this._LeafletMap=a,this.dimensions=["lng","lat"],this._mapOffset=[0,0]}Object.defineProperty(b,"__esModule",{value:!0}),b.echartsLayer=b.EchartsLayer=void 0,b.LeafletMapCoordSys=e;var f=d(c(2));c(3);var g=d(c(372)),h=d(c(11)),i=b.EchartsLayer=f["default"].Layer.extend({includes:[],_echartsContainer:null,_map:null,_ec:null,_echartsOptions:null,options:{attribution:h["default"].ECharts.attribution,loadWhileAnimating:!1},initialize:function(a,b){f["default"].Util.setOptions(this,b),this.setOption(a)},setOption:function(a,b,c){var d=a.baseOption||a;d.LeafletMap=d.LeafletMap||{roam:!0},d.animation=!0===d.animation,this._echartsOptions=a,this._ec&&this._ec.setOption(a,b,c)},getEcharts:function(){return this._ec},_disableEchartsContainer:function(){this._echartsContainer.style.visibility="hidden"},_enableEchartsContainer:function(){this._echartsContainer.style.visibility="visible"},onAdd:function(a){this._map=a,this._initEchartsContainer(),this._ec=g["default"].init(this._echartsContainer),g["default"].leafletMap=a;var b=this;a.on("zoomstart",function(){b._disableEchartsContainer()}),!b.options.loadWhileAnimating&&a.on("movestart",function(){b._disableEchartsContainer()}),g["default"].registerAction({type:"LeafletMapLayout",event:"LeafletMapLayout",update:"updateLayout"},function(a,b){}),g["default"].registerCoordinateSystem("leaflet",e),g["default"].extendComponentModel({type:"LeafletMap",getBMap:function(){return this.__LeafletMap},defaultOption:{roam:!1}}),g["default"].extendComponentView({type:"LeafletMap",render:function(a,c,d){function e(){h||(d.dispatchAction({type:"LeafletMapLayout"}),b._enableEchartsContainer())}var h=!0,i=g["default"].leafletMap,j=d.getZr().painter.getViewportRoot(),k=i.options.zoomAnimation&&f["default"].Browser.any3d;j.className=" leaflet-layer leaflet-zoom-"+(k?"animated":"hide")+" echarts-layer";var l=f["default"].DomUtil.testProp(["transformOrigin","WebkitTransformOrigin","msTransformOrigin"]);j.style[l]="50% 50%";var m=a.coordinateSystem,n=d.getZr().painter.getLayers(),o=function(){if(!h){var c,e=b._map.containerPointToLayerPoint([0,0]),f=[e.x||0,e.y||0];if(j.style.left=f[0]+"px",j.style.top=f[1]+"px",!b.options.loadWhileAnimating){for(var g in n)n.hasOwnProperty(g)&&n[g]&&(c=n[g].ctx)&&c.clearRect&&c.clearRect(0,0,c.canvas.width,c.canvas.height);b._enableEchartsContainer()}m.setMapOffset(f),a.__mapOffset=f,d.dispatchAction({type:"LeafletMapLayout"})}};b._oldMoveHandler&&i.off(b.options.loadWhileAnimating?"move":"moveend",b._oldMoveHandler),b._oldZoomEndHandler&&i.off("zoomend",b._oldZoomEndHandler),i.on(b.options.loadWhileAnimating?"move":"moveend",o),i.on("zoomend",e),b._oldMoveHandler=o,b._oldZoomEndHandler=e,h=!1}}),this._ec.setOption(this._echartsOptions)},onRemove:function(){this._ec.clear(),this._ec.dispose(),delete this._ec,f["default"].DomUtil.remove(this._echartsContainer),this._oldZoomEndHandler&&(this._map.off("zoomend",this._oldZoomEndHandler),this._oldZoomEndHandler=null),this._oldMoveHandler&&(this._map.off(this.options.loadWhileAnimating?"move":"moveend",this._oldMoveHandler),this._oldMoveHandler=null),this._resizeHandler&&(this._map.off("resize",this._resizeHandler),this._resizeHandler=null),delete this._map},_initEchartsContainer:function(){function a(a){var b=a.newSize;d._echartsContainer.style.width=b.x+"px",d._echartsContainer.style.height=b.y+"px",d._ec.resize()}var b=this._map.getSize(),c=document.createElement("div");c.style.position="absolute",c.style.height=b.y+"px",c.style.width=b.x+"px",c.style.zIndex=10,this._echartsContainer=c,this._map.getPanes().overlayPane.appendChild(this._echartsContainer);var d=this;this._map.on("resize",a),this._resizeHandler=a}});e.prototype.dimensions=["lng","lat"],e.prototype.setMapOffset=function(a){this._mapOffset=a},e.prototype.getBMap=function(){return this._LeafletMap},e.prototype.prepareCustoms=function(){var a=g["default"].util,b=this.getViewRect();return{coordSys:{type:"leaflet",x:b.x,y:b.y,width:b.width,height:b.height},api:{coord:a.bind(this.dataToPoint,this),size:a.bind(function(b,c){return c=c||[0,0],a.map([0,1],function(a){var d=c[a],e=b[a]/2,f=[],g=[];return f[a]=d-e,g[a]=d+e,f[1-a]=g[1-a]=c[1-a],Math.abs(this.dataToPoint(f)[a]-this.dataToPoint(g)[a])},this)},this)}}},e.prototype.dataToPoint=function(a){null===a[1]&&(a[1]=f["default"].CRS.EPSG3857.projection.MAX_LATITUDE);var b=this._LeafletMap.latLngToLayerPoint([a[1],a[0]]),c=this._mapOffset;return[b.x-c[0],b.y-c[1]]},e.prototype.fixLat=function(a){return a>=90?89.99999999999999:-90>=a?-89.99999999999999:a},e.prototype.pointToData=function(a){var b=this._mapOffset,c=this._LeafletMap.layerPointToLatLng([a[0]+b[0],a[1]+b[1]]);return[c.lng,c.lat]},e.prototype.getViewRect=function(){var a=this._LeafletMap.getSize();return new g["default"].graphic.BoundingRect(0,0,a.x,a.y)},e.prototype.getRoamTransform=function(){return g["default"].matrix.create()},e.dimensions=e.prototype.dimensions,e.create=function(a){var b=void 0;a.eachComponent("LeafletMap",function(a){b||(b=new e(g["default"].leafletMap)),a.coordinateSystem=b,a.coordinateSystem.setMapOffset(a.__mapOffset||[0,0])}),a.eachSeries(function(a){a.get("coordinateSystem")&&"leaflet"!==a.get("coordinateSystem")||(b||(b=new e(g["default"].leafletMap)),a.coordinateSystem=b,a.animation=!0===a.animation)})};var j=b.echartsLayer=function(a,b){return new i(a,b)};f["default"].supermap.echartsLayer=j},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.NormalRenderer=void 0;var d,e=c(2),f=(d=e)&&d.__esModule?d:{"default":d};c(3),b.NormalRenderer=f["default"].GeoJSON.extend({initialize:function(a,b){(b=b||{}).style&&!b.pointToLayer&&(b.pointToLayer=function(a,c){return f["default"].circleMarker(c,b.style())}),f["default"].Util.setOptions(this,b),this._layers={},f["default"].stamp(this),this.url=a,this.idCache={}},onMessageSuccessed:function(a){var b=a.featureResult,c=a.featureResult.properties[this.options.idField],d=null;void 0!==c&&this.idCache[c]?(d=this.getLayer(this.idCache[c]),this._updateLayerData(d,b)):((d=f["default"].GeoJSON.geometryToLayer(b,this.options)).feature=f["default"].GeoJSON.asFeature(b),this.addLayer(d),void 0!==c&&(this.idCache[c]=this.getLayerId(d))),this.options.onEachFeature&&this.options.onEachFeature(b,d)},_updateLayerData:function(a,b){b.properties&&(a.feature.properties=b.properties);var c=[];switch(b.geometry.type){case"Point":c=f["default"].GeoJSON.coordsToLatLng(b.geometry.coordinates),a.setLatLng(c);break;case"LineString":c=f["default"].GeoJSON.coordsToLatLngs(b.geometry.coordinates,0),a.setLatLngs(c);break;case"MultiLineString":case"Polygon":c=f["default"].GeoJSON.coordsToLatLngs(b.geometry.coordinates,1),a.setLatLngs(c);break;case"MultiPolygon":c=f["default"].GeoJSON.coordsToLatLngs(b.geometry.coordinates,2),a.setLatLngs(c)}}})},function(a,b){a.exports=function(){try{return mapv}catch(a){return{}}}()},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.MapvRenderer=void 0;var d,e=c(2),f=(d=e)&&d.__esModule?d:{"default":d};c(3);var g=c(157);b.MapvRenderer=g.MapVLayer.extend({initialize:function(a,b){b=b||{},f["default"].Util.setOptions(this,b),this.data=[],this.mapVOptions={draw:"simple"},g.MapVLayer.prototype.initialize.call(this,new window.mapv.DataSet([]),this.mapVOptions,b),this.idCache={},this.url=a,this._last=new Date,this._imageCache={}},onMessageSuccessed:function(a){var b=this,c=a.featureResult.properties.id,d=a.featureResult.geometry,e={geometry:a.featureResult.geometry};if("Point"===d.type&&this.options.pointToLayer){var g=this.options.pointToLayer(a.featureResult,f["default"].latLng(d.coordinates[1],d.coordinates[0]));if(g instanceof f["default"].Marker){this.mapVOptions.draw="icon";var h=g.options.icon,i=h._getIconUrl("icon")+"_"+(h.options.iconSize?h.options.iconSize[0]:null)+"_"+(h.options.iconSize?h.options.iconSize[1]:null),j=this._imageCache[i];j||(j=h.createIcon(),this._imageCache[i]=j,j.onload=function(){b.update({data:b.data,options:b.mapVOptions})}),e.icon=j,(h.options.iconSize||j.style.height)&&(this.mapVOptions.offset={x:0,y:-(h.options.iconSize[1]||j.style.height)/2}),this.options.deg&&(e.deg=this.options.deg,"function"==typeof e.deg&&this.idCache[c]&&this.data[this.idCache[c]]&&(e.deg=e.deg(a.featureResult,f["default"].latLng(d.coordinates[1],d.coordinates[0]),this.data[this.idCache[c]])))}if(g instanceof f["default"].CircleMarker){this.mapVOptions.draw="simple";var k=this._toMapvStyle(g);for(var l in k)k.hasOwnProperty(l)&&(e[l]=k[l])}}else if(this.options.style){var m=this._toMapvStyle(this.options.style(a.featureResult));for(var n in m)m.hasOwnProperty(n)&&(e[n]=m[n])}void 0==this.idCache[c]?(this.data.push(e),this.idCache[c]=this.data.length-1):this.data[this.idCache[c]]=e,new Date-this._last>200&&(this._last=new Date,this.update({data:this.data,options:this.mapVOptions}))},_toMapvStyle:function(a){var b={draw:"simple"};return b.strokeStyle=a.color,b.lineWidth=a.width,b.globalAlpha=a.fillOpacity||a.opacity,b.lineCap=a.lineCap,b.lineJoin=a.lineJoin,b.fillStyle=a.fillColor,b.size=a.radius,b}})},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.VectorTilePBF=b.VectorTileJSON=b.VectorTile=b.VectorGrid=b.VectorFeatureType=b.TextSymbolizer=b.PolyBase=b.Symbolizer=b.SVGRenderer=b.RegionSymbolizer=b.PointSymbolizer=b.LineSymbolizer=b.CanvasRenderer=b.ThemeLayer=b.themeFeature=b.ThemeFeature=b.GeoFeatureThemeLayer=b.MapVRenderer=b.graphic=b.Graphic=b.circleStyle=b.CircleStyle=b.cloverStyle=b.CloverStyle=b.imageStyle=b.ImageStyle=b.CompOpMap=b.ServerStyleMap=b.CartoStyleMap=b.DefaultStyle=b.CartoCSSToLeaflet=b.VectorTileFormat=b.heatMapFeature=b.HeatMapFeature=b.heatMapLayer=b.HeatMapLayer=b.uniqueThemeLayer=b.UniqueThemeLayer=b.unicodeMarker=b.UnicodeMarker=b.turfLayer=b.TurfLayer=b.tiledVectorLayer=b.TileVectorLayer=b.rankSymbolThemeLayer=b.RankSymbolThemeLayer=b.rangeThemeLayer=b.RangeThemeLayer=b.mapVLayer=b.MapVLayer=b.labelThemeLayer=b.LabelThemeLayer=b.graphThemeLayer=b.GraphThemeLayer=b.graphicLayer=b.GraphicLayer=b.LeafletMapCoordSys=b.echartsLayer=b.EchartsLayer=b.dataFlowLayer=b.DataFlowLayer=void 0;
var d=c(159),e=c(373),f=c(371),g=c(154),h=c(162),i=c(157),j=c(163),k=c(364),l=c(363),m=c(357),n=c(160),o=c(164),p=c(355),q=c(94),r=c(354),s=c(155),t=c(353),u=c(352),v=c(351);b.DataFlowLayer=d.DataFlowLayer,b.dataFlowLayer=d.dataFlowLayer,b.EchartsLayer=e.EchartsLayer,b.echartsLayer=e.echartsLayer,b.LeafletMapCoordSys=e.LeafletMapCoordSys,b.GraphicLayer=f.GraphicLayer,b.graphicLayer=f.graphicLayer,b.GraphThemeLayer=g.GraphThemeLayer,b.graphThemeLayer=g.graphThemeLayer,b.LabelThemeLayer=h.LabelThemeLayer,b.labelThemeLayer=h.labelThemeLayer,b.MapVLayer=i.MapVLayer,b.mapVLayer=i.mapVLayer,b.RangeThemeLayer=j.RangeThemeLayer,b.rangeThemeLayer=j.rangeThemeLayer,b.RankSymbolThemeLayer=k.RankSymbolThemeLayer,b.rankSymbolThemeLayer=k.rankSymbolThemeLayer,b.TileVectorLayer=l.TileVectorLayer,b.tiledVectorLayer=l.tiledVectorLayer,b.TurfLayer=m.TurfLayer,b.turfLayer=m.turfLayer,b.UnicodeMarker=n.UnicodeMarker,b.unicodeMarker=n.unicodeMarker,b.UniqueThemeLayer=o.UniqueThemeLayer,b.uniqueThemeLayer=o.uniqueThemeLayer,b.HeatMapLayer=p.HeatMapLayer,b.heatMapLayer=p.heatMapLayer,b.HeatMapFeature=p.HeatMapFeature,b.heatMapFeature=p.heatMapFeature,b.VectorTileFormat=q.VectorTileFormat,b.CartoCSSToLeaflet=r.CartoCSSToLeaflet,b.DefaultStyle=r.DefaultStyle,b.CartoStyleMap=r.CartoStyleMap,b.ServerStyleMap=r.ServerStyleMap,b.CompOpMap=r.CompOpMap,b.ImageStyle=s.ImageStyle,b.imageStyle=s.imageStyle,b.CloverStyle=s.CloverStyle,b.cloverStyle=s.cloverStyle,b.CircleStyle=s.CircleStyle,b.circleStyle=s.circleStyle,b.Graphic=s.Graphic,b.graphic=s.graphic,b.MapVRenderer=t.MapVRenderer,b.GeoFeatureThemeLayer=u.GeoFeatureThemeLayer,b.ThemeFeature=u.ThemeFeature,b.themeFeature=u.themeFeature,b.ThemeLayer=u.ThemeLayer,b.CanvasRenderer=v.CanvasRenderer,b.LineSymbolizer=v.LineSymbolizer,b.PointSymbolizer=v.PointSymbolizer,b.RegionSymbolizer=v.RegionSymbolizer,b.SVGRenderer=v.SVGRenderer,b.Symbolizer=v.Symbolizer,b.PolyBase=v.PolyBase,b.TextSymbolizer=v.TextSymbolizer,b.VectorFeatureType=v.VectorFeatureType,b.VectorGrid=v.VectorGrid,b.VectorTile=v.VectorTile,b.VectorTileJSON=v.VectorTileJSON,b.VectorTilePBF=v.VectorTilePBF},function(a,b,c){"use strict";function d(a){return Object.prototype.toString.call(a)}function e(a){return"[object String]"===d(a)}a.exports={getObjectType:d,isDate:function(a){return"[object Date]"===d(a)},isString:e,isDateString:function(a){return e(a)&&!isNaN(Date.parse(a))},parseDateFromString:function(a){return Date.parse(a)},isNumber:function(a){return"number"==typeof a}}},function(a,b,c){"use strict";function d(a){var b=f(a,F),c=b[0],d=b[1];G.pathway=f(c,B);for(var h=0,i=G.pathway.length;i>h;h++)G.pathway[h]=f(G.pathway[h],C),G.pathway[h][0]==A&&G.pathway[h].shift(),0===G.pathway[h].length&&G.pathway.splice(h,1);for(var j=-1,k=-1,l=0;l<d.length;){if(d[l]===D)j=l;else if(d[l]===E&&(k=l)>j&&-1!==j){var m="gr_"+(new Date).getTime();G.groups[m]=d.substring(j+1,k),d=d.replace(D+G.groups[m]+E,m),l=-1}l+=1}!function n(a,b){var c=e(b,o),d=e(b,p);if(c!==Number.MAX_VALUE||d!==Number.MAX_VALUE)if(d>c){a.and=a.and||[];var h=f(b,o);a.and.push(h[0]),n(a.and,h[1])}else{a.or=a.or||[];var h=f(b,p);a.or.push(h[0]),n(a.or,h[1])}else G.groups[b]?(b=G.groups[b],n(a,b)):(Array.isArray(a)?a.push(b):a.or=[b],function i(a){for(var b in a)if(a.hasOwnProperty(b))if(Array.isArray(a[b]))i(a[b]);else if("string"==typeof a[b])if(g(a[b],u)){var c=f(a[b],u);a[b]={ne:[c[0],c[1]]}}else if(g(a[b],v)){var c=f(a[b],v);a[b]={nreq:[c[0],c[1]]}}else if(g(a[b],t)){var c=f(a[b],t);a[b]={req:[c[0],c[1]]}}else if(g(a[b],x)){var c=f(a[b],x);a[b]={ge:[c[0],c[1]]}}else if(g(a[b],w)){var c=f(a[b],w);a[b]={gt:[c[0],c[1]]}}else if(g(a[b],z)){var c=f(a[b],z);a[b]={le:[c[0],c[1]]}}else if(g(a[b],y)){var c=f(a[b],y);a[b]={lt:[c[0],c[1]]}}else if(g(a[b],s)){var c=f(a[b],s);a[b]={eq:[c[0],c[1]]}}}(H.or?H.or:H.and))}(H,d)}function e(a,b){var c=a.indexOf(b);return-1===c?Number.MAX_VALUE:c}function f(a,b){return a.split(b).map(function(a){return a.trim()})}function g(a,b){return a.indexOf(b)>-1}function h(a,b){var c=f(b,C),d=a;for(var e in c){if(!d.hasOwnProperty(c[e]))return"";d=d[c[e]]}return d=n.isDate(d)?d.valueOf():n.isDateString(d)?n.parseDateFromString(d):d.toString()}function i(a,b){var c=!1;for(var d in a)if(c=c||(d===q?j:d===r?i:k)(a[d],b),I.trace&&J(G.step,"======((( or",a[d],c),c)return c;return c}function j(a,b){var c=!0;for(var d in a)if(c=c&&(d===q?j:d===r?i:k)(a[d],b),I.trace&&J(G.step,"======((( and",a[d],c),!c)return c;return c}function k(a,b){if(G.step+=1,a.or){var c=i(a.or,b);return I.trace&&J(G.step,"OR",a,c),c}return a.and?(c=j(a.and,b),I.trace&&J(G.step,"AND",a,c),c):"object"===(void 0===a?"undefined":m(a))?a.eq?h(b,a.eq[0])===a.eq[1]:a.ne?h(b,a.ne[0])!==a.ne[1]:a.req?g(h(b,a.req[0]),a.req[1]):a.nreq?!g(h(b,a.nreq[0]),a.nreq[1]):a.gt?h(b,a.gt[0])>a.gt[1]:a.ge?h(b,a.ge[0])>=a.ge[1]:a.lt?h(b,a.lt[0])<a.lt[1]:a.le?h(b,a.le[0])<=a.le[1]:k(a,b):void 0}function l(a,b,c){return G={pathway:[],groups:{},step:0},H={},I=c=c||{trace:!1},d(b),(e=function(a){var b=[];for(var c in a)k(H,a[c])&&b.push(a[c]);return b}(a))&&G.pathway.length>0?e.map(function(a){for(var b={},c=0,d=G.pathway.length;d>c;c++){var e=G.pathway[c].join(C);b[e]=h(a,e)}return b}):e;var e}var m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},n=c(378),o="&&",p="||",q="and",r="or",s="=",t="~",u="!"+s,v="!"+t,w=">",x=">=",y="<",z="<=",A="*",B=",",C=".",D="(",E=")",F="where",G={pathway:[],groups:{}},H={},I={},J=console.log;void 0!==a&&void 0!==a.exports&&(a.exports=l),"undefined"!=typeof window&&(window.Query=l)},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0}),b.webMap=b.WebMap=void 0;var e=d(c(2)),f=d(c(379)),g=d(c(182));c(3);var h=c(5),i=c(101),j=c(108),k=c(165),l=c(171),m=c(102),n=c(170),o=c(168),p=c(164),q=c(163),r=c(162),s=c(161),t=c(99),u=c(160),v=c(169),w=d(c(11)),x=b.WebMap=e["default"].LayerGroup.extend({options:{map:"map",server:"http://www.supermapol.com",featureLayerPopupEnable:!0,featureLayerPopup:null,credentialValue:null,credentialKey:"key",attribution:w["default"].Online.attribution},defaultFeatureLayerPopup:function(a){return a.feature.properties.attributes.title+":"+a.feature.properties.attributes.description},initialize:function(a,b){(a||b)&&(this._layers={},e["default"].setOptions(this,b),this.id=a,this.load(),this.cartoCSSToLeaflet=new i.CartoCSSToLeaflet)},load:function(){this.options.server.indexOf("http://")<0&&this.options.server.indexOf("https://")<0&&(this.options.server="http://"+this.options.server);var a=this.options.server+"/web/maps/"+this.id+".json";this.options.credentialValue&&(a+="?"+this.options.credentialKey+"="+this.options.credentialValue);var b=this;h.FetchRequest.get(a).then(function(a){return a.json()}).then(function(a){if(a){var c=a.layers;b.mapInfo=a,b.createLayersByJson(c)}})},addLayerWrapper:function(a,b,c){return b&&this.createMap(c),this.addLayer(a),a.labelLayer&&this.addLayer(a.labelLayer),this},createLayersByJson:function(a){if(e["default"].Util.isArray(a)&&0!==a.length){this.layers=[];for(var b=[],c=0;c<a.length;c++){var d=a[c];d._originIndex=c,"BASE_LAYER"===(d.layerType=d.layerType||"BASE_LAYER")?(d.isBaseLayer=!0,this.createLayer(d.type,d)):b.unshift(d)}for(;b.length>0;){var f=b.pop(),g=f.type,h=f.layerType=f.layerType||"BASE_LAYER";"OVERLAY_LAYER"!==h&&(g=h),this.createLayer(g,f)}this.fire("maploaded",{map:this._map})}},createCRS:function(a,b,c,d,f){return 0>a?new j.NonEarthCRS({bounds:f,origin:d,resolutions:c}):910112===a||910102===a?e["default"].CRS.BaiduCRS:(910111===a&&(a=3857),910101===a&&(a=4326),e["default"].Proj1.CRS("EPSG:"+a,{origin:d,resolutions:c,bounds:f}))},createMap:function(a){var b=a.crs||e["default"].CRS.EPSG3857,c=e["default"].latLngBounds(b.unproject(a.bounds.min),b.unproject(a.bounds.max));this._map=e["default"].map(this.options.map,{center:c.getCenter(),maxZoom:a.maxZoom||22,minZoom:a.minZoom||0,zoom:a.zoom||0,crs:b,renderer:e["default"].canvas()}),b instanceof j.NonEarthCRS?this._map.setZoom(a.zoom?a.zoom+2:2,{maxZoom:a.maxZoom||22}):this._map.fitBounds(c,{maxZoom:a.maxZoom||22})},getResolutionsFromScales:function(a,b,c,d){for(var f=[],g=0;g<a.length;g++)f.push(e["default"].Util.GetResolutionFromScaleDpi(a[g],b,c,d));return f},createLayer:function(a,b){var c=b.prjCoordSys,d=c&&c.epsgCode||this.mapInfo.epsgCode,f=this.mapInfo.center||b.center,g=this.mapInfo.level||b.level,h=this.mapInfo.extent||b.bounds,i=b.scales,j=b.isBaseLayer,k=b.opacity,p=e["default"].bounds([h.leftBottom.x,h.leftBottom.y],[h.rightTop.x,h.rightTop.y]),q=b.bounds?e["default"].bounds([b.bounds.leftBottom.x,b.bounds.leftBottom.y],[b.bounds.rightTop.x,b.bounds.rightTop.y]):p;f||(f=q.getCenter());var r,s=e["default"].point(q.min.x,q.max.y),t=i?this.getResolutionsFromScales(i,96,b.units):null,u=this.createCRS(d,c?c.type:"",t,s,q),v={bounds:p,center:e["default"].point(f.x,f.y),crs:u,zoom:g};switch(a){case"SUPERMAP_REST":r=o.tiledMapLayer(b.url,{transparent:!0,opacity:k});break;case"SUPERMAP_REST_VECTOR":break;case"TIANDITU_VEC":case"TIANDITU_IMG":case"TIANDITU_TER":v.crs=4326===d?e["default"].CRS.TianDiTu_WGS84:e["default"].CRS.TianDiTu_Mercator,v.minZoom=1,v.zoom=1+v.zoom,r=this.createTiandituLayer(b);break;case"BAIDU":v.crs=e["default"].CRS.BaiduCRS,v.zoom=3+v.zoom,v.minZoom=3,r=l.baiduTileLayer();break;case"BING":break;case"WMS":r=this.createWmsLayer(b);break;case"WMTS":v.resolutions=this.getResolutionsFromScales(i,90.71446714322,b.units);var w=b.identifier,x=w.substring(w.indexOf("_")+1);r=m.wmtsLayer(b.url,{layer:x,style:"default",tilematrixSet:w,format:"image/png"});break;case"CLOUD":v.crs=e["default"].CRS.EPSG3857,v.zoom=3+v.zoom,v.minZoom=3,r=n.cloudTileLayer(b.url,{opacity:k});break;case"MARKER_LAYER":r=this.createMarkersLayer(b,u);break;case"FEATURE_LAYER":"ANIMATORVECTOR"==b.identifier||(r="THEME"==b.identifier?this.createThemeLayer(b):this.createVectorLayer(b,u));break;default:throw new Error("unSupported Layer Type")}r&&b.isVisible&&this.addLayerWrapper(r,j,v)},createTiandituLayer:function(a){var b=a.type.split("_")[1].toLowerCase(),c="OVERLAY_LAYER"===a.layerType;return new v.TiandituTileLayer({layerType:b,isLabel:c})},createMarkersLayer:function(a,b){var c=this,d=a.markers||[],f=e["default"].geoJSON(e["default"].Util.toGeoJSON(d),{pointToLayer:function(a,b){var c=new e["default"].Marker(b);return c.setStyle=function(a){a&&c.setIcon(a)},c},coordsToLatLng:function(a){var c=b.unproject(e["default"].point(a[0],a[1]));return new e["default"].LatLng(c.lat,c.lng,a[2])},style:function(a){return c.cartoCSSToLeaflet.getStyleFromiPortalMarker(a.properties.icon)}});return this.options.featureLayerPopupEnable&&f.bindPopup(this.options.featureLayerPopup||this.defaultFeatureLayerPopup),f},createWmsLayer:function(a){var b=a.url,c=a.opacity,d=a.subLayers;return d&&"undefined"!==d&&"null"!==d||(d="0"),e["default"].tileLayer.wms(b,{layers:d,format:"image/png",transparent:!0,noWrap:!0,opacity:c})},createVectorLayer:function(a,b){var c=this,d=a.style,f=a.opacity,g=this,i=function(a){var c=b.unproject(e["default"].point(a[0],a[1]));return new e["default"].LatLng(c.lat,c.lng,a[2])};if(!a.url){var j=e["default"].geoJSON(e["default"].Util.toGeoJSON(a.features),{pointToLayer:function(a,b){var c=new e["default"].Marker(b);return c.setStyle=function(a){a&&c.setIcon(a)},c},coordsToLatLng:i,style:function(a){var b=g.cartoCSSToLeaflet.getStyleFromiPortalStyle(d||{},a.geometry.type,a.properties.style);return b.dashArray&&0==b.dashArray.length&&(b.dashArray=null),b},opacity:f});return this.options.featureLayerPopupEnable&&j.bindPopup(this.options.featureLayerPopup||this.defaultFeatureLayerPopup),j}for(var k=a.url,l=a.name,m=a.features,n=0;n<m.length;n++){var o=m[n];o.visible&&this.getFeaturesBySQL(k,l,o.name,"",h.DataFormat.GEOJSON,function(a){var b=e["default"].geoJSON(a.result,{pointToLayer:function(a,b){var c=new e["default"].Marker(b);return c.setStyle=function(a){a&&c.setIcon(a)},c},coordsToLatLng:i,style:function(a){return this.cartoCSSToLeaflet.getStyleFromiPortalStyle(d||{},a.geometry.type,a.properties.style)},opacity:f});c.options.featureLayerPopupEnable&&b.bindPopup(g.options.featureLayerPopup||g.defaultFeatureLayerPopup),c.addLayer(b)})}},getFeaturesBySQL:function(a,b,c,d,e,f){d=d||"SMID > 0";var g=new h.GetFeaturesBySQLParameters({queryParameter:{name:c+"@"+b,attributeFilter:d},datasetNames:[b+":"+c],fromIndex:0,toIndex:1e5});s.featureService(a).getFeaturesBySQL(g,f,e)},createThemeLayer:function(a){var b,c=this,d=a.themeSettings&&JSON.parse(a.themeSettings),e=d.type;if(a.themeSettings=d,(b="HEAT"===e?this.createHeatLayer(a,d):"UNIQUE"===e?this.createUniqueLayer(a,d):"RANGE"===e?this.createRangeLayer(a,d):this.createBaseThemeLayer(a,d))&&(this.addFeature2ThemeLayer(a,b),b.on("add",function(a){c.registerThemeEvent(a.target)})),d&&d.labelField){var f=this.createLabelLayer(a,d);f.on("add",function(a){c.registerThemeEvent(a.target)}),b.labelLayer=f}return b},createBaseThemeLayer:function(a,b){var c=a.style,d=a.opacity,f=b.vectorType,g=c.pointStyle;g.fill="LINE"!==f;var h={};h.radius=g.pointRadius,h.color=g.strokeColor,h.opacity=g.strokeOpacity,h.lineCap=g.strokeLineCap,h.weight=g.strokeWidth,h.fillColor=g.fillColor,h.fillOpacity=g.fillOpacity;var i=function(a,b){return e["default"].circleMarker(b,h)};return g.unicode&&(i=function(a,b){return new u.UnicodeMarker(b,g)}),e["default"].geoJSON({type:"GeometryCollection",geometries:[]},{pointToLayer:i,opacity:d})},createUniqueLayer:function(a,b){for(var c=a.title,d=b.field,e=[],f=b.settings,g=a.isVisible,h=a.opacity,i=b.vectorType,j=0;j<f.length;j++){var k={};k.value=f[j].value,k.style=f[j].style,e.push(k)}var l=new p.UniqueThemeLayer(c,{opacity:h,visibility:g});this.registerThemeEvent(l),l.style=a.style.pointStyle,l.style.fill="LINE"!==i,l.style.stroke=!0,l.themeField=d,l.styleGroups=e;var m=this;return l.on("click",function(a){if(a.target&&a.target.refDataID){var b=l.getFeatureById(a.target.refDataID);m.events.triggerEvent("uniquefeatureclicked",b,l)}}),l},createRangeLayer:function(a,b){var c=a.title,d=b.field,e=[],f=b.settings,g=a.isVisible,h=a.opacity,i=b.vectorType,j=a.style.pointStyle;j.fill="LINE"!==i;for(var k=0;k<f.length;k++){var l={};l.start=f[k].start,l.end=f[k].end,l.style=f[k].style,e.push(l)}var m=new q.RangeThemeLayer(c,{visibility:g,opacity:h});return this.registerThemeEvent(m),m.style=a.style.pointStyle,m.style.stroke=!0,m.themeField=d,m.styleGroups=e,m},createLabelLayer:function(a,b){var c,d=a.title,f=b.labelField,g=b.settings,i=a.isVisible;c=!g||g.length>0?{fillColor:"#ffffff"}:g[0].style;var j=e["default"].Util.extend(new h.ThemeStyle,c);j.fontWeight="bold",j.fontSize="14px",j.labelRect=!0,j.strokeColor=j.fillColor,j.fontColor=b.labelColor,b.labelFont&&(j.fontFamily=b.labelFont);var k=new r.LabelThemeLayer(d,{visibility:i,opacity:.7});return this.registerThemeEvent(k),k.style=j,k.themeField=f,k.styleGroups=[],k},createHeatLayer:function(a,b){for(var c=b.colors||["blue","cyan","lime","yellow","red"],d={},f=void 0,g=0,h=c.length,i=1;h>g;g++)d[i/h]=c[g],i++;var j=b.settings[0].radius;return"千米"!==b.heatUnit&&"km"!==b.heatUnit||(j=1e3*b.heatRadius),b.settings[0]&&b.settings[0].featureWeight&&(f=b.settings[0].featureWeight),e["default"].heatLayer([],{radius:j/2,minOpacity:a.opacity,gradient:d,blur:j/2,featureWeight:f})},addFeature2ThemeLayer:function(a,b){function c(c){if(b&&b.labelLayer instanceof r.LabelThemeLayer&&g.addFeature2LabelLayer(b.labelLayer,c,a),e["default"].HeatLayer&&b instanceof e["default"].HeatLayer){for(var d=[],f=0,i=c.length;i>f;f++){var j=c[f].geometry;d[f]=e["default"].latLng(j.y,j.x),b.options.featureWeight&&(d[f]=[d[f].lat,d[f].lng,parseFloat(c[f].attributes[b.options.featureWeight])])}b.setLatLngs(d)}else b instanceof e["default"].GeoJSON?b.addData((new h.GeoJSON).toGeoJSON(c)):b.addFeatures(c)}var d=this;if("FEATURE_LAYER"===a.layerType&&"THEME"===a.identifier){var g=this,i=!!a.datasourceName,j=a.cartoCSS;if(j)var k=this.getCartoCSS2Obj(j).needTransform,l=this.getCartoCSS2Obj(j).isAddFile;var m,n,o,p=a.url,q=a.credential,s=a.themeSettings,t=s.filter;if(l){var u=JSON.parse(a.datasourceName),v=this.getSQLFromFilter(t);if(p)this.getFeatureFromFileAdded(a,function(d){var e,h=[];if("EXCEL"===d.type||"CSV"===d.type)for(var i=0,j=(e=g.parseFeatureFromEXCEL.apply(g,[d.content.rows,d.content.colTitles,!1,u])).length;j>i;i++)f["default"]({attr:e[i].attributes},v).length>0&&h.push(e[i]);else for(var l=0,m=(e=g.parseFeatureFromJson(d.content)).length;m>l;l++)f["default"]({attr:e[l].attributes},v).length>0&&h.push(e[l]);var n=a.prjCoordSys&&a.prjCoordSys.epsgCode;k?g.changeFeatureLayerEpsgCode(n,"4326",b,h,function(a){c(a)}):c(h)},function(){});else{for(var w=[],x=a.features,y=0,z=x.length;z>y;y++){var A=x[y];if(f["default"]({attr:A.attributes},v).length>0){var B=A.geometry.points[0].x,C=A.geometry.points[0].y,D=new h.GeometryPoint(B,C),E=new h.GeometryVector(D,A.attributes,A.style);w.push(E)}}c(w)}}else if(i){var F=a.datasourceName;o=(n=(m=a.subLayers&&JSON.parse(a.subLayers)).length&&m.length>0?m[0]:m)&&n.name,this.getFeaturesBySQL(a.url,F,o,s.filter,h.DataFormat.ISERVER,function(e){var f,g,i=e.result,j=[];if(i&&i.features){for(var l=0,m=(f=i.features).length;m>l;l++)g=h.ServerFeature.fromJson(f[l]).toFeature(),j.push(g);var n=a.prjCoordSys&&a.prjCoordSys.epsgCode;k?d.changeFeatureLayerEpsgCode(n,"4326",b,j,function(a){c(a)}):c(f)}})}else{o=(n=(m=a.subLayers&&JSON.parse(a.subLayers)).length&&m.length>0?m[0]:m)&&n.name;var G=a.prjCoordSys&&a.prjCoordSys.epsgCode;this.getFeaturesBySQL(p,q,o,t,h.DataFormat.ISERVER,function(a){k?g.changeFeatureLayerEpsgCode(G,"4326",b,a,function(a){c(a)}):c(a)})}}},addFeature2LabelLayer:function(a,b,c){if(b){for(var d,e,f=c.themeSettings,g=(f="string"==typeof f?JSON.parse(c.themeSettings):c.themeSettings).labelField,h=a.style,i=[],j=c.styleString&&JSON.parse(c.styleString),k=0;k<b.length;k++){e=this.getLabelLngLat(f.vectorType,b[k]),this.setLabelOffset(f.vectorType,j,b[k],h);var l=b[k].attributes;d=new t.ThemeFeature([e.lat,e.lng,l[g]],l),i.push(d)}a.style=h,a.addFeatures(i)}},setLabelOffset:function(a,b,c,d){if("POINT"===a){var e=b.pointStyle.pointRadius||0,f=b.pointStyle.strokeWidth||0,g=parseInt(b.pointStyle.fontSize)||0;d.labelXOffset=0,d.labelYOffset=b.pointStyle.unicode?20+g:25+(e+f)}},getLabelLngLat:function(a,b){var c={};if("POINT"===a){var d=b.geometry;c.lng=d.x,c.lat=d.y}else if("LINE"===a){var e,f,g=b.geometry.components;if(g[0].x)e=g.length,f=parseInt(e/2),c.lng=g[f].x,c.lat=g[f].y;else{var h=g[0].components;e=h.length,f=parseInt(e/2),c.lng=h[f].x,c.lat=h[f].y}}else{var i=b.geometry.getCentroid();c.lng=i.x,c.lat=i.y}return c},changeFeatureLayerEpsgCode:function(a,b,c,d,e){var f,g,h=this,i=[];if(a&&b){if(d&&d.length>0){for(f=0,g=d.length;g>f;f++){var j=d[f].geometry.getVertices();i=i.concat(j)}a="EPSG:"+a,b="EPSG:"+b,h.coordsTransform(a,b,i,function(a,b){return function(a){var c=a.length;for(f=0;c>f;f++){var d=i[f],g=a[f];d.x=g.x,d.y=g.y,d.calculateBounds()}for(f=0,c=b.length;c>f;f++){var j=b[f].geometry;j.components&&h.calculateComponents(j.components),j.calculateBounds()}e&&e.call(h,b)}}(0,d))}return!0}},calculateComponents:function(a){if(a)if(a.components)this.calculateComponents(a.components);else for(var b=0,c=a.length;c>b;b++){var d=a[b];d.components&&this.calculateComponents(d.components),d.calculateBounds()}},coordsTransform:function(a,b,c,d){var e,f=this.SERVER_TYPE_MAP[a],g=this.SERVER_TYPE_MAP[b];if(a!==b&&f&&g){var h=this.SERVER_TYPE_MAP["EPSG:3857"],i=this.SERVER_TYPE_MAP["EPSG:4326"];if(f!==h&&f!==i||g!==h&&g!==i){var j=f+"_"+g;this.postTransform(j,c,d)}else this.projTransform(a,b,c,d)}else{if(c&&void 0!==c.length){e=[];for(var k=0,l=c.length;l>k;k++){var m={x:c[k].x,y:c[k].y};e.push(m)}}else e={x:c.x,y:c.y};d&&d.call(this,e)}},projTransform:function(a,b,c,d){var e;if(g["default"]){if(c&&void 0!==c.length){e=[];for(var f=0,h=c.length;h>f;f++){var i=g["default"](a,b,[c[f].x,c[f].y]);e.push({x:i[0],y:i[1]})}}else e={x:(e=g["default"](a,b,[c.x,c.y]))[0],y:e[1]};d&&(this.fire("coordconvertsuccess",{newCoor:e}),d.call(this,e))}},postTransform:function(a,b,c){var d=this,e=[];if(!a)return c.call(this,null);if(b&&void 0!==b.length)for(var f=0,g=b.length;g>f;f++)e.push({x:b[f].x,y:b[f].y});else e=[{x:b.x,y:b.y}];if(0===e.length)return c.call(this,null);var i={convertType:a,points:e},j=this.server+"/apps/viewer/coordconvert.json";i=JSON.stringify(i);var k={};!h.CommonUtil.isInTheSameDomain(j)&&this.proxy&&(k.proxy=this.proxy),h.FetchRequest.post(j,i,k).then(function(a){return a.json()}).then(function(a){var e=a;b||void 0===b.length||(e=e[0]),d.fire("coordconvertsuccess",{newCoors:e}),c.call(d,e)})["catch"](function(a){d.actived&&d.fire("coordconvertfailed",{err:a})})},getSQLFromFilter:function(a){return a?" *  where ("+(a=a.replace(/=/g,"==").replace(/and|AND/g,"&&").replace(/or|OR/g,"||").replace(/>==/g,">=").replace(/<==/g,"<="))+")":" * where (1==1||1>=0)"},getAttributesObjFromTable:function(a,b){if(0!==a.length&&0!==b.length){for(var c=[],d=0;d<a.length;d++){for(var e={},f=0;f<b.length;f++)e[b[f]]=a[d][f];c.push(e)}return c}},parseFeatureFromEXCEL:function(a,b,c,d){for(var e=this.getAttributesObjFromTable(a,b),f=[],g=0,i=e.length;i>g;g++){var j=e[g][d.lon],l=e[g][d.lat];if(j&&l){j=parseFloat(j),l=parseFloat(l);var m,n=new h.GeometryPoint(j,l);m=c?new k.Graphic(n,e[g],null):new h.GeometryVector(n,e[g],null),f.push(m)}}return f},parseFeatureFromJson:function(a){var b=new h.GeoJSON,c=b.read(a);if(null==c){var d=JSON.parse(a.replace(/'/,'"'));(d.isAnalyseResult||"MapEditor"===d.type||"DataInsights"===d.type||"ISERVER"===d.type)&&(d=d.data.recordsets[0].features),c=(b=new h.GeoJSON).read(d)}for(var e=0,f=c.length;f>e;e++)c[e].attributes=c[e].attributes.properties||c[e].attributes;return c},getFeatureFromFileAdded:function(a,b,c,d){var e=d?a.url+"?currentPage=1&&pageSize=9999999":a.url;h.FetchRequest.get(e).then(function(a){return a.json()}).then(function(a){b&&b(a)})["catch"](function(a){return c&&c(a)})},getCartoCSS2Obj:function(a){var b,c=!1;return a.indexOf("}")>-1?(c=(a=JSON.parse(a)).needTransform,b=a.isAddFile):"needTransform"===a?(c=!0,b=!1):b="true"===a,{isAddFile:b,needTransform:c}},registerThemeEvent:function(a){var b=this;a.on("click",function(c){if(a.map){b.selectedFeature&&(b.fire("featureunselected",{feature:b.selectedFeature}),b.selectedFeature=null);var d=void 0;c.target&&c.target.refDataID&&(d=a.getFeatureById(c.target.refDataID)),d&&(b.selectedFeature=d,b.fire("featureselected",{feature:d}))}}),a.on("mousemove",function(c){if(a.map&&c.target&&c.target.refDataID){var d=void 0;c.target&&c.target.refDataID&&(d=a.getFeatureById(c.target.refDataID)),d&&b.fire("featuremousemove",{feature:d})}})},SERVER_TYPE_MAP:{"EPSG:4326":"WGS84","EPSG:3857":"MERCATOR","EPSG:900913":"MERCATOR","EPSG:102113":"MERCATOR","EPSG:910101":"GCJ02","EPSG:910111":"GCJ02MERCATOR","EPSG:910102":"BD","EPSG:910112":"BDMERCATOR"}}),y=b.webMap=function(a,b){return new x(a,b)};e["default"].supermap.webmap=y},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0}),b.imageMapLayer=b.ImageMapLayer=void 0;var e=c(2),f=d(e);c(3);var g=c(5),h=d(c(11)),i=b.ImageMapLayer=e.Layer.extend({options:{layersID:null,redirect:!1,transparent:!0,cacheEnabled:!0,clipRegionEnabled:!1,clipRegion:null,prjCoordSys:null,overlapDisplayed:!1,overlapDisplayedOptions:null,opacity:1,alt:"",pane:"tilePane",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:"",serverType:g.ServerType.ISERVER,attribution:h["default"].Common.attribution,updateInterval:150,tileProxy:null,format:"png"},initialize:function(a,b){this._url=a,e.Util.setOptions(this,b)},onAdd:function(a){this.update=e.Util.throttle(this.update,this.options.updateInterval,this),a.on("moveend",this.update,this),this._currentImage&&this._currentImage._bounds.equals(this._map.getBounds())?a.addLayer(this._currentImage):this._currentImage&&(this._map.removeLayer(this._currentImage),this._currentImage=null),this.update()},onRemove:function(a){this._currentImage&&this._map.removeLayer(this._currentImage),this._map.off("moveend",this.update,this)},bringToFront:function(){return this.options.position="front",this._currentImage&&this._currentImage.bringToFront(),this},bringToBack:function(){return this.options.position="back",this._currentImage&&this._currentImage.bringToBack(),this},getOpacity:function(){return this.options.opacity},setOpacity:function(a){return this.options.opacity=a,this._currentImage&&this._currentImage.setOpacity(a),this},getImageUrl:function(a){var b=e.Util.getParamString(a)+this._initLayerUrl();return b=this._url+"/image."+this.options.format+b,b=this._appendCredential(b),this.options.tileProxy&&(b=this.options.tileProxy+encodeURIComponent(b)),b},_getImageParams:function(){var a=this._calculateImageSize();return{viewBounds:this._compriseBounds(this._calculateBounds()),width:a.x,height:a.y}},_initLayerUrl:function(){var a="&";return a+=encodeURI(this._initAllRequestParams().join("&"))},_initAllRequestParams:function(){var a=this.options||{},b=[],c=!0===a.redirect&&a.redirect;b.push("redirect="+c);var d=!0===a.transparent&&a.transparent;b.push("transparent="+d);var e=!1!==a.cacheEnabled||a.cacheEnabled;return b.push("cacheEnabled="+e),a.prjCoordSys&&b.push("prjCoordSys="+JSON.stringify(a.prjCoordSys)),a.layersID&&b.push("layersID="+a.layersID),a.clipRegionEnabled&&a.clipRegion instanceof f["default"].Path&&(a.clipRegion=f["default"].Util.toSuperMapGeometry(a.clipRegion.toGeoJSON()),a.clipRegion=g.CommonUtil.toJSON(g.ServerGeometry.fromGeometry(a.clipRegion)),b.push("clipRegionEnabled="+a.clipRegionEnabled),b.push("clipRegion="+JSON.stringify(a.clipRegion))),!1===a.overlapDisplayed?(b.push("overlapDisplayed=false"),a.overlapDisplayedOptions&&b.push("overlapDisplayedOptions="+this.overlapDisplayedOptions.toString())):b.push("overlapDisplayed=true"),b},_requestImage:function(a,b){var c=this.getImageUrl(a);this._loadImage(c,b)},_loadImage:function(a,b){if(this._map){var c=new e.ImageOverlay(a,b,{opacity:0,alt:this.options.alt,zIndex:this.options.zIndex,className:this.options.className,errorOverlayUrl:this.options.error,crossOrigin:this.options.crossOrigin,pane:this.options.pane||this.getPane(),interactive:this.options.interactive}).addTo(this._map),d=function f(a){c.off("error",f,this);var d=this._map;if(d){var e=a.target,g=this._currentImage;e._bounds&&e._bounds.equals(b)&&e._bounds.equals(d.getBounds())?(this._currentImage=e,"front"===this.options.position&&this.bringToFront(),"back"===this.options.position&&this.bringToBack(),this._currentImage._map&&this._currentImage.setOpacity(this.options.opacity),g&&d.removeLayer(g),g&&g._map&&g._map.removeLayer(g)):d.removeLayer(e),this.fire("load",{bounds:b})}};c.once("load",d,this),c.once("error",function(){this._map.removeLayer(c),this.fire("error"),c.off("load",d,this)},this),this.fire("loading",{bounds:b})}},update:function(){if(this._map){var a=this._map.getZoom(),b=this._map.getBounds();if(a>this._map.options.maxZoom||a<this._map.options.zoom)this._currentImage&&(this._currentImage._map.removeLayer(this._currentImage),this._currentImage=null);else{var c=this._getImageParams();c?this._requestImage(c,b):this._currentImage&&(this._currentImage._map.removeLayer(this._currentImage),this._currentImage=null)}}},_calculateBounds:function(){var a=this._map.getPixelBounds(),b=this._map.unproject(a.getBottomLeft()),c=this._map.unproject(a.getTopRight()),d=this._map.options.crs.project(c),e=this._map.options.crs.project(b);return f["default"].bounds(d,e)},_compriseBounds:function(a){var b={leftBottom:{x:a.getBottomLeft().x,y:a.getTopRight().y},rightTop:{x:a.getTopRight().x,y:a.getBottomLeft().y}};return JSON.stringify(b)},_calculateImageSize:function(){var a=this._map,b=a.getPixelBounds(),c=a.getSize(),d=a.unproject(b.getBottomLeft()),e=a.unproject(b.getTopRight()),f=a.latLngToLayerPoint(e).y,g=a.latLngToLayerPoint(d).y;return(f>0||g<c.y)&&(c.y=g-f),c},_appendCredential:function(a){var b,c,d=a;switch(this.options.serverType){case g.ServerType.IPORTAL:(b=(c=g.SecurityManager.getToken(this._url))?new g.Credential(c,"token"):null)||(b=(c=g.SecurityManager.getKey(this._url))?new g.Credential(c,"key"):null);break;case g.ServerType.ONLINE:b=(c=g.SecurityManager.getKey(this._url))?new g.Credential(c,"key"):null;break;default:b=(c=g.SecurityManager.getToken(this._url))?new g.Credential(c,"token"):null}return b&&(d+="&"+b.getUrlParameters()),d}}),j=b.imageMapLayer=function(a,b){return new i(a,b)};f["default"].supermap.imageMapLayer=j},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.webMap=b.WebMap=b.wmtsLayer=b.WMTSLayer=b.tiledMapLayer=b.TiledMapLayer=b.tiandituTileLayer=b.TiandituTileLayer=b.imageMapLayer=b.ImageMapLayer=b.cloudTileLayer=b.CloudTileLayer=b.baiduTileLayer=b.BaiduTileLayer=void 0;var d=c(171),e=c(170),f=c(381),g=c(169),h=c(168),i=c(102),j=c(380);b.BaiduTileLayer=d.BaiduTileLayer,b.baiduTileLayer=d.baiduTileLayer,b.CloudTileLayer=e.CloudTileLayer,b.cloudTileLayer=e.cloudTileLayer,b.ImageMapLayer=f.ImageMapLayer,b.imageMapLayer=f.imageMapLayer,b.TiandituTileLayer=g.TiandituTileLayer,b.tiandituTileLayer=g.tiandituTileLayer,b.TiledMapLayer=h.TiledMapLayer,b.tiledMapLayer=h.tiledMapLayer,b.WMTSLayer=i.WMTSLayer,b.wmtsLayer=i.wmtsLayer,b.WebMap=j.WebMap,b.webMap=j.webMap},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.transform=void 0;var d,e=c(2),f=(d=e)&&d.__esModule?d:{"default":d},g=c(5),h=b.transform=function(a){function b(a){var b=a.geometry;if(!g.CommonUtil.isArray(b.coordinates))throw"Geometry must have coordinates array: "+b;if(!i[b.type.toLowerCase()])throw"Unsupported geometry type: "+b.type;try{b.coordinates=i[b.type.toLowerCase()].apply(this,[b.coordinates])}catch(a){throw a}return a.geometry=b,a}var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f["default"].CRS.EPSG4326,d=arguments[2],e=null,h=null;if(-1===["FeatureCollection","Feature","Geometry"].indexOf(a.type))if(a.toGeoJSON)a=a.toGeoJSON();else if(a instanceof f["default"].LatLngBounds)a=f["default"].rectangle(a).toGeoJSON();else{if(!(a instanceof f["default"].Bounds))throw new Error("This tool only supports data conversion in geojson format or Vector Layers of Leaflet.");a=f["default"].rectangle([[a.getTopLeft().x,a.getTopLeft().y],[a.getBottomRight().x,a.getBottomRight().y]]).toGeoJSON()}var i={point:function(a){return h(a)},multipoint:function(a){return i.linestring.apply(this,[a])},linestring:function(a){for(var b=[],c=null,d=0,e=a.length;e>d;++d){try{c=i.point.apply(this,[a[d]])}catch(a){throw a}b.push(c)}return b},multilinestring:function(a){return i.polygon.apply(this,[a])},polygon:function(a){for(var b=[],c=void 0,d=0,e=a.length;e>d;++d){try{c=i.linestring.apply(this,[a[d]])}catch(a){throw a}b.push(c)}return b},multipolygon:function(a){for(var b=[],c=null,d=0,e=a.length;e>d;++d){try{c=i.polygon.apply(this,[a[d]])}catch(a){throw a}b.push(c)}return b}};return function(a,c){if(e=a,h=c,"Feature"===a.type)e=b(a);else if("FeatureCollection"===a.type){for(var d=[],f=0;f<a.features.length;++f)try{d.push(b(a.features[f]))}catch(a){d=null}e.features=d}return e}(a,function(a){var b=c.unproject({x:a[0],y:a[1]}),e=d.project(b);return[e.x,e.y]})};f["default"].Util.transform=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.transform=b.NormalizeScale=b.GetResolutionFromScaleDpi=b.scaleToResolution=b.resolutionToScale=b.getMeterPerMapUnit=b.toSuperMapGeometry=b.toGeoJSON=b.crs=b.CRS=b.nonEarthCRS=b.NonEarthCRS=b.nonProjection=b.NonProjection=b.TianDiTu_MercatorCRS=b.TianDiTu_WGS84CRS=b.BaiduCRS=b.CommontypesConversion=void 0;var d=c(25),e=c(173),f=c(108),g=c(183),h=c(31),i=c(383);b.CommontypesConversion=d.CommontypesConversion,b.BaiduCRS=e.BaiduCRS,b.TianDiTu_WGS84CRS=e.TianDiTu_WGS84CRS,
b.TianDiTu_MercatorCRS=e.TianDiTu_MercatorCRS,b.NonProjection=f.NonProjection,b.nonProjection=f.nonProjection,b.NonEarthCRS=f.NonEarthCRS,b.nonEarthCRS=f.nonEarthCRS,b.CRS=g.CRS,b.crs=g.crs,b.toGeoJSON=h.toGeoJSON,b.toSuperMapGeometry=h.toSuperMapGeometry,b.getMeterPerMapUnit=h.getMeterPerMapUnit,b.resolutionToScale=h.resolutionToScale,b.scaleToResolution=h.scaleToResolution,b.GetResolutionFromScaleDpi=h.GetResolutionFromScaleDpi,b.NormalizeScale=h.NormalizeScale,b.transform=i.transform},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.logo=b.Logo=void 0;var d,e=c(2),f=(d=e)&&d.__esModule?d:{"default":d};c(3);var g=c(319),h=b.Logo=f["default"].Control.extend({options:{position:"bottomright",imageUrl:null,link:null,width:null,height:null,alt:"SuperMap iClient"},onAdd:function(){var a=f["default"].DomUtil.create("div","iclient-leaflet-logo");a.style.display="none",a.style.marginTop=0,a.style.marginBottom=0,a.style.marginLeft=0,a.style.marginRight=0;var b=g.LogoBase64;this.options.imageUrl&&(b=this.options.imageUrl);var c=this.options.alt,d="94px",e="29px",h="width:"+d+";height:"+e+";";this.options.imageUrl&&(h="width:"+(d=this.options.width)+";height:"+(e=this.options.height)+";",d&&e||(h=""));var i=this.options.link||"http://iclient.supermap.io";return a.innerHTML="<a href='"+i+"' target='_blank' style='border: none;display: block;'><img src="+b+" alt='"+c+"' style='border: none;"+h+"margin-right:5px;margin-bottom:2px;white-space: nowrap'></a>",a}});f["default"].Map.mergeOptions({logoControl:!0}),f["default"].Map.addInitHook(function(){!this._logoAdded&&this.options.logoControl&&(!0===this.options.logoControl?this.logoControl=new h:this.options.logoControl instanceof f["default"].Control&&(this.logoControl=this.options.logoControl),this.logoControl&&(this.addControl(this.logoControl),this._logoAdded=!0))});var i=b.logo=function(a){return new h(a)};f["default"].supermap.control.logo=i},function(a,b,c){"use strict";var d=c(7),e=Math.PI/2,f=c(53),g=c(57),h=c(56),i=c(55),j=c(54),k=c(105),l=c(43),m=c(104);b.init=function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},b.forward=function(a){var b,c,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F=a.x,G=a.y,H=Math.sin(a.y),I=Math.cos(a.y),J=d(F-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=1e-10?(a.x=this.x0+this.a*(e-G)*Math.sin(J),a.y=this.y0-this.a*(e-G)*Math.cos(J),a):Math.abs(this.sin_p12+1)<=1e-10?(a.x=this.x0+this.a*(e+G)*Math.sin(J),a.y=this.y0+this.a*(e+G)*Math.cos(J),a):(A=this.sin_p12*H+this.cos_p12*I*Math.cos(J),z=(y=Math.acos(A))/Math.sin(y),a.x=this.x0+this.a*z*I*Math.sin(J),a.y=this.y0+this.a*z*(this.cos_p12*H-this.sin_p12*I*Math.cos(J)),a):(b=g(this.es),c=h(this.es),l=i(this.es),m=j(this.es),Math.abs(this.sin_p12-1)<=1e-10?(n=this.a*f(b,c,l,m,e),o=this.a*f(b,c,l,m,G),a.x=this.x0+(n-o)*Math.sin(J),a.y=this.y0-(n-o)*Math.cos(J),a):Math.abs(this.sin_p12+1)<=1e-10?(n=this.a*f(b,c,l,m,e),o=this.a*f(b,c,l,m,G),a.x=this.x0+(n+o)*Math.sin(J),a.y=this.y0+(n+o)*Math.cos(J),a):(p=H/I,q=k(this.a,this.e,this.sin_p12),r=k(this.a,this.e,H),s=Math.atan((1-this.es)*p+this.es*q*this.sin_p12/(r*I)),B=0===(t=Math.atan2(Math.sin(J),this.cos_p12*Math.tan(s)-this.sin_p12*Math.cos(J)))?Math.asin(this.cos_p12*Math.sin(s)-this.sin_p12*Math.cos(s)):Math.abs(Math.abs(t)-Math.PI)<=1e-10?-Math.asin(this.cos_p12*Math.sin(s)-this.sin_p12*Math.cos(s)):Math.asin(Math.sin(J)*Math.cos(s)/Math.sin(t)),u=this.e*this.sin_p12/Math.sqrt(1-this.es),y=q*B*(1-(C=B*B)*(x=(v=this.e*this.cos_p12*Math.cos(t)/Math.sqrt(1-this.es))*v)*(1-x)/6+(D=C*B)/8*(w=u*v)*(1-2*x)+(E=D*B)/120*(x*(4-7*x)-3*u*u*(1-7*x))-E*B/48*w),a.x=this.x0+y*Math.sin(t),a.y=this.y0+y*Math.cos(t),a))},b.inverse=function(a){var b,c,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G;if(a.x-=this.x0,a.y-=this.y0,this.sphere){if((b=Math.sqrt(a.x*a.x+a.y*a.y))>2*e*this.a)return;return c=b/this.a,n=Math.sin(c),o=Math.cos(c),p=this.long0,Math.abs(b)<=1e-10?q=this.lat0:(q=l(o*this.sin_p12+a.y*n*this.cos_p12/b),r=Math.abs(this.lat0)-e,p=d(Math.abs(r)<=1e-10?this.lat0>=0?this.long0+Math.atan2(a.x,-a.y):this.long0-Math.atan2(-a.x,a.y):this.long0+Math.atan2(a.x*n,b*this.cos_p12*o-a.y*this.sin_p12*n))),a.x=p,a.y=q,a}return s=g(this.es),t=h(this.es),u=i(this.es),v=j(this.es),Math.abs(this.sin_p12-1)<=1e-10?(w=this.a*f(s,t,u,v,e),b=Math.sqrt(a.x*a.x+a.y*a.y),q=m((w-b)/this.a,s,t,u,v),p=d(this.long0+Math.atan2(a.x,-1*a.y)),a.x=p,a.y=q,a):Math.abs(this.sin_p12+1)<=1e-10?(w=this.a*f(s,t,u,v,e),b=Math.sqrt(a.x*a.x+a.y*a.y),q=m((b-w)/this.a,s,t,u,v),p=d(this.long0+Math.atan2(a.x,a.y)),a.x=p,a.y=q,a):(b=Math.sqrt(a.x*a.x+a.y*a.y),z=Math.atan2(a.x,a.y),x=k(this.a,this.e,this.sin_p12),A=Math.cos(z),C=-(B=this.e*this.cos_p12*A)*B/(1-this.es),D=3*this.es*(1-C)*this.sin_p12*this.cos_p12*A/(1-this.es),G=1-C*(F=(E=b/x)-C*(1+C)*Math.pow(E,3)/6-D*(1+3*C)*Math.pow(E,4)/24)*F/2-E*F*F*F/6,y=Math.asin(this.sin_p12*Math.cos(F)+this.cos_p12*Math.sin(F)*A),p=d(this.long0+Math.asin(Math.sin(z)*Math.sin(F)/Math.cos(y))),q=Math.atan((1-this.es*G*this.sin_p12/Math.sin(y))*Math.tan(y)/(1-this.es)),a.x=p,a.y=q,a)},b.names=["Azimuthal_Equidistant","aeqd"]},function(a,b,c){"use strict";var d=c(7),e=Math.PI/2,f=c(43);b.init=function(){this.R=this.a},b.forward=function(a){var b,c,g=a.x,h=a.y,i=d(g-this.long0);Math.abs(h)<=1e-10&&(b=this.x0+this.R*i,c=this.y0);var j=f(2*Math.abs(h/Math.PI));(Math.abs(i)<=1e-10||Math.abs(Math.abs(h)-e)<=1e-10)&&(b=this.x0,c=h>=0?this.y0+Math.PI*this.R*Math.tan(.5*j):this.y0+Math.PI*this.R*-Math.tan(.5*j));var k=.5*Math.abs(Math.PI/i-i/Math.PI),l=k*k,m=Math.sin(j),n=Math.cos(j),o=n/(m+n-1),p=o*o,q=o*(2/m-1),r=q*q,s=Math.PI*this.R*(k*(o-r)+Math.sqrt(l*(o-r)*(o-r)-(r+l)*(p-r)))/(r+l);0>i&&(s=-s),b=this.x0+s;var t=l+o;return s=Math.PI*this.R*(q*t-k*Math.sqrt((r+l)*(l+1)-t*t))/(r+l),c=h>=0?this.y0+s:this.y0-s,a.x=b,a.y=c,a},b.inverse=function(a){var b,c,e,f,g,h,i,j,k,l,m,n;return a.x-=this.x0,a.y-=this.y0,m=Math.PI*this.R,g=(e=a.x/m)*e+(f=a.y/m)*f,m=3*(f*f/(j=-2*(h=-Math.abs(f)*(1+g))+1+2*f*f+g*g)+(2*(i=h-2*f*f+e*e)*i*i/j/j/j-9*h*i/j/j)/27)/(k=(h-i*i/3/j)/j)/(l=2*Math.sqrt(-k/3)),Math.abs(m)>1&&(m=m>=0?1:-1),n=Math.acos(m)/3,c=a.y>=0?(-l*Math.cos(n+Math.PI/3)-i/3/j)*Math.PI:-(-l*Math.cos(n+Math.PI/3)-i/3/j)*Math.PI,b=Math.abs(e)<1e-10?this.long0:d(this.long0+Math.PI*(g-1+Math.sqrt(1+2*(e*e-f*f)+g*g))/2/e),a.x=b,a.y=c,a},b.names=["Van_der_Grinten_I","VanDerGrinten","vandg"]},function(a,b,c){"use strict";var d=c(57),e=c(56),f=c(55),g=c(54),h=c(44),i=c(53),j=c(7),k=c(52),l=c(104);b.init=function(){Math.abs(this.lat1+this.lat2)<1e-10||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=d(this.es),this.e1=e(this.es),this.e2=f(this.es),this.e3=g(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=h(this.e,this.sinphi,this.cosphi),this.ml1=i(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<1e-10?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=h(this.e,this.sinphi,this.cosphi),this.ml2=i(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=i(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},b.forward=function(a){var b,c=a.x,d=a.y;if(this.sphere)b=this.a*(this.g-d);else{var e=i(this.e0,this.e1,this.e2,this.e3,d);b=this.a*(this.g-e)}var f=this.ns*j(c-this.long0),g=this.x0+b*Math.sin(f),h=this.y0+this.rh-b*Math.cos(f);return a.x=g,a.y=h,a},b.inverse=function(a){var b,c,d,e;a.x-=this.x0,a.y=this.rh-a.y+this.y0,this.ns>=0?(c=Math.sqrt(a.x*a.x+a.y*a.y),b=1):(c=-Math.sqrt(a.x*a.x+a.y*a.y),b=-1);var f=0;if(0!==c&&(f=Math.atan2(b*a.x,b*a.y)),this.sphere)return e=j(this.long0+f/this.ns),d=k(this.g-c/this.a),a.x=e,a.y=d,a;var g=this.g-c/this.a;return d=l(g,this.e0,this.e1,this.e2,this.e3),e=j(this.long0+f/this.ns),a.x=e,a.y=d,a},b.names=["Equidistant_Conic","eqdc"]},function(a,b,c){"use strict";var d=c(7);b.init=function(){},b.forward=function(a){for(var b=a.x,c=a.y,e=d(b-this.long0),f=c,g=Math.PI*Math.sin(c),h=0;;h++){var i=-(f+Math.sin(f)-g)/(1+Math.cos(f));if(f+=i,Math.abs(i)<1e-10)break}f/=2,Math.PI/2-Math.abs(c)<1e-10&&(e=0);var j=.900316316158*this.a*e*Math.cos(f)+this.x0,k=1.4142135623731*this.a*Math.sin(f)+this.y0;return a.x=j,a.y=k,a},b.inverse=function(a){var b,c;a.x-=this.x0,a.y-=this.y0,c=a.y/(1.4142135623731*this.a),Math.abs(c)>.999999999999&&(c=.999999999999),b=Math.asin(c);var e=d(this.long0+a.x/(.900316316158*this.a*Math.cos(b)));e<-Math.PI&&(e=-Math.PI),e>Math.PI&&(e=Math.PI),c=(2*b+Math.sin(2*b))/Math.PI,Math.abs(c)>1&&(c=1);var f=Math.asin(c);return a.x=e,a.y=f,a},b.names=["Mollweide","moll"]},function(a,b,c){"use strict";var d=c(174);a.exports=function(a,b,c){for(var e=1/(1-b),f=a,g=20;g;--g){var h=Math.sin(f),i=1-b*h*h;if(f-=i=(d(f,h,Math.cos(f),c)-a)*(i*Math.sqrt(i))*e,Math.abs(i)<1e-10)return f}return f}},function(a,b,c){"use strict";var d=.01068115234375;a.exports=function(a){var b=[];b[0]=1-a*(.25+a*(.046875+a*(.01953125+a*d))),b[1]=a*(.75-a*(.046875+a*(.01953125+a*d)));var c=a*a;return b[2]=c*(.46875-a*(.013020833333333334+.007120768229166667*a)),c*=a,b[3]=c*(.3645833333333333-.005696614583333333*a),b[4]=c*a*.3076171875,b}},function(a,b,c){"use strict";var d=c(7),e=c(52),f=c(391),g=c(174),h=c(390),i=Math.PI/2,j=c(43);b.init=function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=f(this.es)},b.forward=function(a){var b,c,e=a.x,f=a.y;if(e=d(e-this.long0),this.sphere){if(this.m)for(var h=this.n*Math.sin(f),i=20;i;--i){var j=(this.m*f+Math.sin(f)-h)/(this.m+Math.cos(f));if(f-=j,Math.abs(j)<1e-10)break}else f=1!==this.n?Math.asin(this.n*Math.sin(f)):f;b=this.a*this.C_x*e*(this.m+Math.cos(f)),c=this.a*this.C_y*f}else{var k=Math.sin(f),l=Math.cos(f);c=this.a*g(f,k,l,this.en),b=this.a*e*l/Math.sqrt(1-this.es*k*k)}return a.x=b,a.y=c,a},b.inverse=function(a){var b,c,f,g;return a.x-=this.x0,f=a.x/this.a,a.y-=this.y0,b=a.y/this.a,this.sphere?(b/=this.C_y,f/=this.C_x*(this.m+Math.cos(b)),this.m?b=j((this.m*b+Math.sin(b))/this.n):1!==this.n&&(b=j(Math.sin(b)/this.n)),f=d(f+this.long0),b=e(b)):(b=h(a.y/this.a,this.es,this.en),(g=Math.abs(b))<i?(g=Math.sin(b),c=this.long0+a.x*Math.sqrt(1-this.es*g*g)/(this.a*Math.cos(b)),f=d(c)):i>g-1e-10&&(f=this.long0)),a.x=f,a.y=b,a},b.names=["Sinusoidal","sinu"]},function(a,b,c){"use strict";var d=c(7);b.init=function(){},b.forward=function(a){var b=a.x,c=a.y,e=d(b-this.long0),f=this.x0+this.a*e,g=this.y0+this.a*Math.log(Math.tan(Math.PI/4+c/2.5))*1.25;return a.x=f,a.y=g,a},b.inverse=function(a){a.x-=this.x0,a.y-=this.y0;var b=d(this.long0+a.x/this.a),c=2.5*(Math.atan(Math.exp(.8*a.y/this.a))-Math.PI/4);return a.x=b,a.y=c,a},b.names=["Miller_Cylindrical","mill"]},function(a,b,c){"use strict";b.iterations=1,b.init=function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},b.forward=function(a){var b,c=a.x,d=(a.y-this.lat0)/484813681109536e-20*1e-5,e=c-this.long0,f=1,g=0;for(b=1;10>=b;b++)f*=d,g+=this.A[b]*f;var h,i=g,j=e,k=1,l=0,m=0,n=0;for(b=1;6>=b;b++)h=l*i+k*j,k=k*i-l*j,l=h,m=m+this.B_re[b]*k-this.B_im[b]*l,n=n+this.B_im[b]*k+this.B_re[b]*l;return a.x=n*this.a+this.x0,a.y=m*this.a+this.y0,a},b.inverse=function(a){var b,c,d=a.x,e=a.y,f=d-this.x0,g=(e-this.y0)/this.a,h=f/this.a,i=1,j=0,k=0,l=0;for(b=1;6>=b;b++)c=j*g+i*h,i=i*g-j*h,j=c,k=k+this.C_re[b]*i-this.C_im[b]*j,l=l+this.C_im[b]*i+this.C_re[b]*j;for(var m=0;m<this.iterations;m++){var n,o=k,p=l,q=g,r=h;for(b=2;6>=b;b++)n=p*k+o*l,o=o*k-p*l,p=n,q+=(b-1)*(this.B_re[b]*o-this.B_im[b]*p),r+=(b-1)*(this.B_im[b]*o+this.B_re[b]*p);o=1,p=0;var s=this.B_re[1],t=this.B_im[1];for(b=2;6>=b;b++)n=p*k+o*l,o=o*k-p*l,p=n,s+=b*(this.B_re[b]*o-this.B_im[b]*p),t+=b*(this.B_im[b]*o+this.B_re[b]*p);var u=s*s+t*t;k=(q*s+r*t)/u,l=(r*s-q*t)/u}var v=k,w=l,x=1,y=0;for(b=1;9>=b;b++)x*=v,y+=this.D[b]*x;var z=this.lat0+484813681109536e-20*y*1e5,A=this.long0+w;return a.x=A,a.y=z,a},b.names=["New_Zealand_Map_Grid","nzmg"]},function(a,b,c){"use strict";var d=c(57),e=c(56),f=c(55),g=c(54),h=c(7),i=c(52),j=c(53),k=c(105);b.init=function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=d(this.es),this.e1=e(this.es),this.e2=f(this.es),this.e3=g(this.es),this.ml0=this.a*j(this.e0,this.e1,this.e2,this.e3,this.lat0)},b.forward=function(a){var b,c,d,e=a.x,f=a.y,g=h(e-this.long0);if(d=g*Math.sin(f),this.sphere)Math.abs(f)<=1e-10?(b=this.a*g,c=-1*this.a*this.lat0):(b=this.a*Math.sin(d)/Math.tan(f),c=this.a*(i(f-this.lat0)+(1-Math.cos(d))/Math.tan(f)));else if(Math.abs(f)<=1e-10)b=this.a*g,c=-1*this.ml0;else{var l=k(this.a,this.e,Math.sin(f))/Math.tan(f);b=l*Math.sin(d),c=this.a*j(this.e0,this.e1,this.e2,this.e3,f)-this.ml0+l*(1-Math.cos(d))}return a.x=b+this.x0,a.y=c+this.y0,a},b.inverse=function(a){var b,c,d,e,f,g,i,k,l;if(d=a.x-this.x0,e=a.y-this.y0,this.sphere)if(Math.abs(e+this.a*this.lat0)<=1e-10)b=h(d/this.a+this.long0),c=0;else{var m;for(g=this.lat0+e/this.a,i=d*d/this.a/this.a+g*g,k=g,f=20;f;--f)if(k+=l=-1*(g*(k*(m=Math.tan(k))+1)-k-.5*(k*k+i)*m)/((k-g)/m-1),Math.abs(l)<=1e-10){c=k;break}b=h(this.long0+Math.asin(d*Math.tan(k)/this.a)/Math.sin(c))}else if(Math.abs(e+this.ml0)<=1e-10)c=0,b=h(this.long0+d/this.a);else{var n,o,p,q,r;for(g=(this.ml0+e)/this.a,i=d*d/this.a/this.a+g*g,k=g,f=20;f;--f)if(r=this.e*Math.sin(k),n=Math.sqrt(1-r*r)*Math.tan(k),o=this.a*j(this.e0,this.e1,this.e2,this.e3,k),p=this.e0-2*this.e1*Math.cos(2*k)+4*this.e2*Math.cos(4*k)-6*this.e3*Math.cos(6*k),k-=l=(g*(n*(q=o/this.a)+1)-q-.5*n*(q*q+i))/(this.es*Math.sin(2*k)*(q*q+i-2*g*q)/(4*n)+(g-q)*(n*p-2/Math.sin(2*k))-p),Math.abs(l)<=1e-10){c=k;break}n=Math.sqrt(1-this.es*Math.pow(Math.sin(c),2))*Math.tan(c),b=h(this.long0+Math.asin(d*n/this.a)/Math.sin(c))}return a.x=b,a.y=c,a},b.names=["Polyconic","poly"]},function(a,b,c){"use strict";var d=c(7),e=c(52);b.init=function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},b.forward=function(a){var b=a.x,c=a.y,f=d(b-this.long0),g=e(c-this.lat0);return a.x=this.x0+this.a*f*this.rc,a.y=this.y0+this.a*g,a},b.inverse=function(a){var b=a.x,c=a.y;return a.x=d(this.long0+(b-this.x0)/(this.a*this.rc)),a.y=e(this.lat0+(c-this.y0)/this.a),a},b.names=["Equirectangular","Equidistant_Cylindrical","eqc"]},function(a,b,c){"use strict";var d=Math.PI/2;a.exports=function(a,b){var c=1-(1-a*a)/(2*a)*Math.log((1-a)/(1+a));if(Math.abs(Math.abs(b)-c)<1e-6)return 0>b?-1*d:d;for(var e,f,g,h,i=Math.asin(.5*b),j=0;30>j;j++)if(f=Math.sin(i),g=Math.cos(i),h=a*f,i+=e=Math.pow(1-h*h,2)/(2*g)*(b/(1-a*a)-f/(1-h*h)+.5/a*Math.log((1-h)/(1+h))),Math.abs(e)<=1e-10)return i;return NaN}},function(a,b,c){"use strict";var d=c(7),e=c(103),f=c(44),g=c(397);b.init=function(){this.sphere||(this.k0=f(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},b.forward=function(a){var b,c,f=a.x,g=a.y,h=d(f-this.long0);if(this.sphere)b=this.x0+this.a*h*Math.cos(this.lat_ts),c=this.y0+this.a*Math.sin(g)/Math.cos(this.lat_ts);else{var i=e(this.e,Math.sin(g));b=this.x0+this.a*this.k0*h,c=this.y0+this.a*i*.5/this.k0}return a.x=b,a.y=c,a},b.inverse=function(a){var b,c;return a.x-=this.x0,a.y-=this.y0,this.sphere?(b=d(this.long0+a.x/this.a/Math.cos(this.lat_ts)),c=Math.asin(a.y/this.a*Math.cos(this.lat_ts))):(c=g(this.e,2*a.y*this.k0/this.a),b=d(this.long0+a.x/(this.a*this.k0))),a.x=b,a.y=c,a},b.names=["cea"]},function(a,b,c){"use strict";var d=c(7),e=c(43);b.init=function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},b.forward=function(a){var b,c,e,f,g,h,i,j=a.x,k=a.y;return e=d(j-this.long0),b=Math.sin(k),c=Math.cos(k),f=Math.cos(e),(g=this.sin_p14*b+this.cos_p14*c*f)>0||Math.abs(g)<=1e-10?(h=this.x0+1*this.a*c*Math.sin(e)/g,i=this.y0+1*this.a*(this.cos_p14*b-this.sin_p14*c*f)/g):(h=this.x0+this.infinity_dist*c*Math.sin(e),i=this.y0+this.infinity_dist*(this.cos_p14*b-this.sin_p14*c*f)),a.x=h,a.y=i,a},b.inverse=function(a){var b,c,f,g,h,i;return a.x=(a.x-this.x0)/this.a,a.y=(a.y-this.y0)/this.a,a.x/=this.k0,a.y/=this.k0,(b=Math.sqrt(a.x*a.x+a.y*a.y))?(g=Math.atan2(b,this.rc),c=Math.sin(g),f=Math.cos(g),i=e(f*this.sin_p14+a.y*c*this.cos_p14/b),h=Math.atan2(a.x*c,b*this.cos_p14*f-a.y*this.sin_p14*c),h=d(this.long0+h)):(i=this.phic0,h=0),a.x=h,a.y=i,a},b.names=["gnom"]},function(a,b,c){"use strict";var d=c(44),e=c(103),f=c(7),g=c(43);b.init=function(){Math.abs(this.lat1+this.lat2)<1e-10||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=d(this.e3,this.sin_po,this.cos_po),this.qs1=e(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=d(this.e3,this.sin_po,this.cos_po),this.qs2=e(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=e(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)>1e-10?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},b.forward=function(a){var b=a.x,c=a.y;this.sin_phi=Math.sin(c),this.cos_phi=Math.cos(c);var d=e(this.e3,this.sin_phi,this.cos_phi),g=this.a*Math.sqrt(this.c-this.ns0*d)/this.ns0,h=this.ns0*f(b-this.long0),i=g*Math.sin(h)+this.x0,j=this.rh-g*Math.cos(h)+this.y0;return a.x=i,a.y=j,a},b.inverse=function(a){var b,c,d,e,g,h;return a.x-=this.x0,a.y=this.rh-a.y+this.y0,this.ns0>=0?(b=Math.sqrt(a.x*a.x+a.y*a.y),d=1):(b=-Math.sqrt(a.x*a.x+a.y*a.y),d=-1),e=0,0!==b&&(e=Math.atan2(d*a.x,d*a.y)),d=b*this.ns0/this.a,this.sphere?h=Math.asin((this.c-d*d)/(2*this.ns0)):(c=(this.c-d*d)/this.ns0,h=this.phi1z(this.e3,c)),g=f(e/this.ns0+this.long0),a.x=g,a.y=h,a},b.phi1z=function(a,b){var c,d,e,f,h,i=g(.5*b);if(1e-10>a)return i;for(var j=a*a,k=1;25>=k;k++)if(c=Math.sin(i),d=Math.cos(i),i+=h=.5*(f=1-(e=a*c)*e)*f/d*(b/(1-j)-c/f+.5/a*Math.log((1-e)/(1+e))),Math.abs(h)<=1e-7)return i;return null},b.names=["Albers_Conic_Equal_Area","Albers","aea"]},function(a,b,c){"use strict";var d=Math.PI/2,e=Math.PI/4,f=c(103),g=c(7);b.S_POLE=1,b.N_POLE=2,b.EQUIT=3,b.OBLIQ=4,b.init=function(){var a,b=Math.abs(this.lat0);if(Math.abs(b-d)<1e-10?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(b)<1e-10?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0)switch(this.qp=f(this.e,1),this.mmf=.5/(1-this.es),this.apa=this.authset(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),a=Math.sin(this.lat0),this.sinb1=f(this.e,a)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*a*a)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},b.forward=function(a){var b,c,h,i,j,k,l,m,n,o,p=a.x,q=a.y;if(p=g(p-this.long0),this.sphere){if(j=Math.sin(q),o=Math.cos(q),h=Math.cos(p),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((c=this.mode===this.EQUIT?1+o*h:1+this.sinph0*j+this.cosph0*o*h)<=1e-10)return null;b=(c=Math.sqrt(2/c))*o*Math.sin(p),c*=this.mode===this.EQUIT?j:this.cosph0*j-this.sinph0*o*h}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(h=-h),Math.abs(q+this.phi0)<1e-10)return null;c=e-.5*q,b=(c=2*(this.mode===this.S_POLE?Math.cos(c):Math.sin(c)))*Math.sin(p),c*=h}}else{switch(l=0,m=0,n=0,h=Math.cos(p),i=Math.sin(p),j=Math.sin(q),k=f(this.e,j),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(l=k/this.qp,m=Math.sqrt(1-l*l)),this.mode){case this.OBLIQ:n=1+this.sinb1*l+this.cosb1*m*h;break;case this.EQUIT:n=1+m*h;break;case this.N_POLE:n=d+q,k=this.qp-k;break;case this.S_POLE:n=q-d,k=this.qp+k}if(Math.abs(n)<1e-10)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:n=Math.sqrt(2/n),c=this.mode===this.OBLIQ?this.ymf*n*(this.cosb1*l-this.sinb1*m*h):(n=Math.sqrt(2/(1+m*h)))*l*this.ymf,b=this.xmf*n*m*i;break;case this.N_POLE:case this.S_POLE:k>=0?(b=(n=Math.sqrt(k))*i,c=h*(this.mode===this.S_POLE?n:-n)):b=c=0}}return a.x=this.a*b+this.x0,a.y=this.a*c+this.y0,a},b.inverse=function(a){a.x-=this.x0,a.y-=this.y0;var b,c,e,f,h,i,j,k=a.x/this.a,l=a.y/this.a;if(this.sphere){var m,n=0,o=0;if((c=.5*(m=Math.sqrt(k*k+l*l)))>1)return null;switch(c=2*Math.asin(c),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(o=Math.sin(c),n=Math.cos(c)),this.mode){case this.EQUIT:c=Math.abs(m)<=1e-10?0:Math.asin(l*o/m),k*=o,l=n*m;break;case this.OBLIQ:c=Math.abs(m)<=1e-10?this.phi0:Math.asin(n*this.sinph0+l*o*this.cosph0/m),k*=o*this.cosph0,l=(n-Math.sin(c)*this.sinph0)*m;break;case this.N_POLE:l=-l,c=d-c;break;case this.S_POLE:c-=d}b=0!==l||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(k,l):0}else{if(j=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(k/=this.dd,l*=this.dd,(i=Math.sqrt(k*k+l*l))<1e-10)return a.x=0,a.y=this.phi0,a;f=2*Math.asin(.5*i/this.rq),e=Math.cos(f),k*=f=Math.sin(f),this.mode===this.OBLIQ?(j=e*this.sinb1+l*f*this.cosb1/i,h=this.qp*j,l=i*this.cosb1*e-l*this.sinb1*f):(j=l*f/i,h=this.qp*j,l=i*e)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(l=-l),!(h=k*k+l*l))return a.x=0,a.y=this.phi0,a;j=1-h/this.qp,this.mode===this.S_POLE&&(j=-j)}b=Math.atan2(k,l),c=this.authlat(Math.asin(j),this.apa)}return a.x=g(this.long0+b),a.y=c,a},b.P00=.3333333333333333,b.P01=.17222222222222222,b.P02=.10257936507936508,b.P10=.06388888888888888,b.P11=.0664021164021164,b.P20=.016415012942191543,b.authset=function(a){var b,c=[];return c[0]=a*this.P00,b=a*a,c[0]+=b*this.P01,c[1]=b*this.P10,b*=a,c[0]+=b*this.P02,c[1]+=b*this.P11,c[2]=b*this.P20,c},b.authlat=function(a,b){var c=a+a;return a+b[0]*Math.sin(c)+b[1]*Math.sin(c+c)+b[2]*Math.sin(c+c+c)},b.names=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"]},function(a,b,c){"use strict";var d=c(53),e=c(57),f=c(56),g=c(55),h=c(54),i=c(105),j=c(7),k=c(52),l=c(104),m=Math.PI/2;b.init=function(){this.sphere||(this.e0=e(this.es),this.e1=f(this.es),this.e2=g(this.es),this.e3=h(this.es),this.ml0=this.a*d(this.e0,this.e1,this.e2,this.e3,this.lat0))},b.forward=function(a){var b,c,e=a.x,f=a.y;if(e=j(e-this.long0),this.sphere)b=this.a*Math.asin(Math.cos(f)*Math.sin(e)),c=this.a*(Math.atan2(Math.tan(f),Math.cos(e))-this.lat0);else{var g=Math.sin(f),h=Math.cos(f),k=i(this.a,this.e,g),l=Math.tan(f)*Math.tan(f),m=e*Math.cos(f),n=m*m,o=this.es*h*h/(1-this.es);b=k*m*(1-n*l*(1/6-(8-l+8*o)*n/120)),c=this.a*d(this.e0,this.e1,this.e2,this.e3,f)-this.ml0+k*g/h*n*(.5+(5-l+6*o)*n/24)}return a.x=b+this.x0,a.y=c+this.y0,a},b.inverse=function(a){a.x-=this.x0,a.y-=this.y0;var b,c,d=a.x/this.a,e=a.y/this.a;if(this.sphere){var f=e+this.lat0;b=Math.asin(Math.sin(f)*Math.cos(d)),c=Math.atan2(Math.tan(d),Math.cos(f))}else{var g=this.ml0/this.a+e,h=l(g,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(h)-m)<=1e-10)return a.x=this.long0,a.y=m,0>e&&(a.y*=-1),a;var n=i(this.a,this.e,Math.sin(h)),o=n*n*n/this.a/this.a*(1-this.es),p=Math.pow(Math.tan(h),2),q=d*this.a/n,r=q*q;b=h-n*Math.tan(h)/o*q*q*(.5-(1+3*p)*q*q/24),c=q*(1-r*(p/3+(1+3*p)*p*r/15))/Math.cos(h)}return a.x=j(c+this.long0),a.y=k(b),a},b.names=["Cassini","Cassini_Soldner","cass"]},function(a,b,c){"use strict";var d=c(7);b.init=function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},b.forward=function(a){var b,c,e,f,g,h,i,j=a.x,k=a.y,l=d(j-this.long0);return b=Math.pow((1+this.e*Math.sin(k))/(1-this.e*Math.sin(k)),this.alfa*this.e/2),c=2*(Math.atan(this.k*Math.pow(Math.tan(k/2+this.s45),this.alfa)/b)-this.s45),e=-l*this.alfa,f=Math.asin(Math.cos(this.ad)*Math.sin(c)+Math.sin(this.ad)*Math.cos(c)*Math.cos(e)),g=Math.asin(Math.cos(c)*Math.sin(e)/Math.cos(f)),h=this.n*g,i=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(f/2+this.s45),this.n),a.y=i*Math.cos(h)/1,a.x=i*Math.sin(h)/1,this.czech||(a.y*=-1,a.x*=-1),a},b.inverse=function(a){var b,c,d,e,f,g,h,i=a.x;a.x=a.y,a.y=i,this.czech||(a.y*=-1,a.x*=-1),f=Math.sqrt(a.x*a.x+a.y*a.y),e=Math.atan2(a.y,a.x)/Math.sin(this.s0),d=2*(Math.atan(Math.pow(this.ro0/f,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),b=Math.asin(Math.cos(this.ad)*Math.sin(d)-Math.sin(this.ad)*Math.cos(d)*Math.cos(e)),c=Math.asin(Math.cos(d)*Math.sin(e)/Math.cos(b)),a.x=this.long0-c/this.alfa,g=b,h=0;var j=0;do a.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(b/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(g))/(1-this.e*Math.sin(g)),this.e/2))-this.s45),Math.abs(g-a.y)<1e-10&&(h=1),g=a.y,j+=1;while(0===h&&15>j);return j>=15?null:a},b.names=["Krovak","krovak"]},function(a,b,c){"use strict";var d=c(44),e=c(69),f=Math.PI/2,g=c(58),h=c(7),i=c(68);b.init=function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<1e-10)){var a=this.b/this.a;this.e=Math.sqrt(1-a*a);var b=Math.sin(this.lat1),c=Math.cos(this.lat1),f=d(this.e,b,c),g=e(this.e,this.lat1,b),h=Math.sin(this.lat2),i=Math.cos(this.lat2),j=d(this.e,h,i),k=e(this.e,this.lat2,h),l=e(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>1e-10?this.ns=Math.log(f/j)/Math.log(g/k):this.ns=b,isNaN(this.ns)&&(this.ns=b),this.f0=f/(this.ns*Math.pow(g,this.ns)),this.rh=this.a*this.f0*Math.pow(l,this.ns),this.title||(this.title="Lambert Conformal Conic")}},b.forward=function(a){var b=a.x,c=a.y;Math.abs(2*Math.abs(c)-Math.PI)<=1e-10&&(c=g(c)*(f-2e-10));var d,i,j=Math.abs(Math.abs(c)-f);if(j>1e-10)d=e(this.e,c,Math.sin(c)),i=this.a*this.f0*Math.pow(d,this.ns);else{if((j=c*this.ns)<=0)return null;i=0}var k=this.ns*h(b-this.long0);return a.x=this.k0*(i*Math.sin(k))+this.x0,a.y=this.k0*(this.rh-i*Math.cos(k))+this.y0,a},b.inverse=function(a){var b,c,d,e,g,j=(a.x-this.x0)/this.k0,k=this.rh-(a.y-this.y0)/this.k0;this.ns>0?(b=Math.sqrt(j*j+k*k),c=1):(b=-Math.sqrt(j*j+k*k),c=-1);var l=0;if(0!==b&&(l=Math.atan2(c*j,c*k)),0!==b||this.ns>0){if(c=1/this.ns,d=Math.pow(b/(this.a*this.f0),c),-9999===(e=i(this.e,d)))return null}else e=-f;return g=h(l/this.ns+this.long0),a.x=g,a.y=e,a},b.names=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_2SP","lcc"]},function(a,b,c){"use strict";var d=c(69),e=c(7),f=c(68),g=Math.PI/2,h=Math.PI/4;b.init=function(){this.no_off=this.no_off||!1,this.no_rot=this.no_rot||!1,isNaN(this.k0)&&(this.k0=1);var a=Math.sin(this.lat0),b=Math.cos(this.lat0),c=this.e*a;this.bl=Math.sqrt(1+this.es/(1-this.es)*Math.pow(b,4)),this.al=this.a*this.bl*this.k0*Math.sqrt(1-this.es)/(1-c*c);var f,g,h=d(this.e,this.lat0,a),i=this.bl/b*Math.sqrt((1-this.es)/(1-c*c));if(1>i*i&&(i=1),isNaN(this.longc)){var j=d(this.e,this.lat1,Math.sin(this.lat1)),k=d(this.e,this.lat2,Math.sin(this.lat2));this.lat0>=0?this.el=(i+Math.sqrt(i*i-1))*Math.pow(h,this.bl):this.el=(i-Math.sqrt(i*i-1))*Math.pow(h,this.bl);var l=Math.pow(j,this.bl),m=Math.pow(k,this.bl);g=.5*((f=this.el/l)-1/f);var n=(this.el*this.el-m*l)/(this.el*this.el+m*l),o=(m-l)/(m+l),p=e(this.long1-this.long2);this.long0=.5*(this.long1+this.long2)-Math.atan(n*Math.tan(.5*this.bl*p)/o)/this.bl,this.long0=e(this.long0);var q=e(this.long1-this.long0);this.gamma0=Math.atan(Math.sin(this.bl*q)/g),this.alpha=Math.asin(i*Math.sin(this.gamma0))}else f=this.lat0>=0?i+Math.sqrt(i*i-1):i-Math.sqrt(i*i-1),this.el=f*Math.pow(h,this.bl),g=.5*(f-1/f),this.gamma0=Math.asin(Math.sin(this.alpha)/i),this.long0=this.longc-Math.asin(g*Math.tan(this.gamma0))/this.bl;this.no_off?this.uc=0:this.lat0>=0?this.uc=this.al/this.bl*Math.atan2(Math.sqrt(i*i-1),Math.cos(this.alpha)):this.uc=-1*this.al/this.bl*Math.atan2(Math.sqrt(i*i-1),Math.cos(this.alpha))},b.forward=function(a){var b,c,f,i=a.x,j=a.y,k=e(i-this.long0);if(Math.abs(Math.abs(j)-g)<=1e-10)f=j>0?-1:1,c=this.al/this.bl*Math.log(Math.tan(h+f*this.gamma0*.5)),b=-1*f*g*this.al/this.bl;else{var l=d(this.e,j,Math.sin(j)),m=this.el/Math.pow(l,this.bl),n=.5*(m-1/m),o=.5*(m+1/m),p=Math.sin(this.bl*k),q=(n*Math.sin(this.gamma0)-p*Math.cos(this.gamma0))/o;c=Math.abs(Math.abs(q)-1)<=1e-10?Number.POSITIVE_INFINITY:.5*this.al*Math.log((1-q)/(1+q))/this.bl,b=Math.abs(Math.cos(this.bl*k))<=1e-10?this.al*this.bl*k:this.al*Math.atan2(n*Math.cos(this.gamma0)+p*Math.sin(this.gamma0),Math.cos(this.bl*k))/this.bl}return this.no_rot?(a.x=this.x0+b,a.y=this.y0+c):(b-=this.uc,a.x=this.x0+c*Math.cos(this.alpha)+b*Math.sin(this.alpha),a.y=this.y0+b*Math.cos(this.alpha)-c*Math.sin(this.alpha)),a},b.inverse=function(a){var b,c;this.no_rot?(c=a.y-this.y0,b=a.x-this.x0):(c=(a.x-this.x0)*Math.cos(this.alpha)-(a.y-this.y0)*Math.sin(this.alpha),b=(a.y-this.y0)*Math.cos(this.alpha)+(a.x-this.x0)*Math.sin(this.alpha),b+=this.uc);var d=Math.exp(-1*this.bl*c/this.al),h=.5*(d-1/d),i=.5*(d+1/d),j=Math.sin(this.bl*b/this.al),k=(j*Math.cos(this.gamma0)+h*Math.sin(this.gamma0))/i,l=Math.pow(this.el/Math.sqrt((1+k)/(1-k)),1/this.bl);return Math.abs(k-1)<1e-10?(a.x=this.long0,a.y=g):Math.abs(k+1)<1e-10?(a.x=this.long0,a.y=-1*g):(a.y=f(this.e,l),a.x=e(this.long0-Math.atan2(h*Math.cos(this.gamma0)-j*Math.sin(this.gamma0),Math.cos(this.bl*b/this.al))/this.bl)),a},b.names=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","omerc"]},function(a,b,c){"use strict";b.init=function(){var a=this.lat0;this.lambda0=this.long0;var b=Math.sin(a),c=this.a,d=1/this.rf,e=2*d-Math.pow(d,2),f=this.e=Math.sqrt(e);this.R=this.k0*c*Math.sqrt(1-e)/(1-e*Math.pow(b,2)),this.alpha=Math.sqrt(1+e/(1-e)*Math.pow(Math.cos(a),4)),this.b0=Math.asin(b/this.alpha);var g=Math.log(Math.tan(Math.PI/4+this.b0/2)),h=Math.log(Math.tan(Math.PI/4+a/2)),i=Math.log((1+f*b)/(1-f*b));this.K=g-this.alpha*h+this.alpha*f/2*i},b.forward=function(a){var b=Math.log(Math.tan(Math.PI/4-a.y/2)),c=this.e/2*Math.log((1+this.e*Math.sin(a.y))/(1-this.e*Math.sin(a.y))),d=-this.alpha*(b+c)+this.K,e=2*(Math.atan(Math.exp(d))-Math.PI/4),f=this.alpha*(a.x-this.lambda0),g=Math.atan(Math.sin(f)/(Math.sin(this.b0)*Math.tan(e)+Math.cos(this.b0)*Math.cos(f))),h=Math.asin(Math.cos(this.b0)*Math.sin(e)-Math.sin(this.b0)*Math.cos(e)*Math.cos(f));
return a.y=this.R/2*Math.log((1+Math.sin(h))/(1-Math.sin(h)))+this.y0,a.x=this.R*g+this.x0,a},b.inverse=function(a){for(var b=a.x-this.x0,c=a.y-this.y0,d=b/this.R,e=2*(Math.atan(Math.exp(c/this.R))-Math.PI/4),f=Math.asin(Math.cos(this.b0)*Math.sin(e)+Math.sin(this.b0)*Math.cos(e)*Math.cos(d)),g=Math.atan(Math.sin(d)/(Math.cos(this.b0)*Math.cos(d)-Math.sin(this.b0)*Math.tan(e))),h=this.lambda0+g/this.alpha,i=0,j=f,k=-1e3,l=0;Math.abs(j-k)>1e-7;){if(++l>20)return;i=1/this.alpha*(Math.log(Math.tan(Math.PI/4+f/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(j))/2)),k=j,j=2*Math.atan(Math.exp(i))-Math.PI/2}return a.x=h,a.y=j,a},b.names=["somerc"]},function(a,b,c){"use strict";var d=Math.PI/2,e=c(58),f=c(44),g=c(69),h=c(68),i=c(7);b.ssfn_=function(a,b,c){return b*=c,Math.tan(.5*(d+a))*Math.pow((1-b)/(1+b),.5*c)},b.init=function(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=1e-10&&(this.k0=.5*(1+e(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=1e-10&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=1e-10&&(this.k0=.5*this.cons*f(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/g(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=f(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-d,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},b.forward=function(a){var b,c,e,f,h,j,k=a.x,l=a.y,m=Math.sin(l),n=Math.cos(l),o=i(k-this.long0);return Math.abs(Math.abs(k-this.long0)-Math.PI)<=1e-10&&Math.abs(l+this.lat0)<=1e-10?(a.x=NaN,a.y=NaN,a):this.sphere?(b=2*this.k0/(1+this.sinlat0*m+this.coslat0*n*Math.cos(o)),a.x=this.a*b*n*Math.sin(o)+this.x0,a.y=this.a*b*(this.coslat0*m-this.sinlat0*n*Math.cos(o))+this.y0,a):(c=2*Math.atan(this.ssfn_(l,m,this.e))-d,f=Math.cos(c),e=Math.sin(c),Math.abs(this.coslat0)<=1e-10?(h=g(this.e,l*this.con,this.con*m),j=2*this.a*this.k0*h/this.cons,a.x=this.x0+j*Math.sin(k-this.long0),a.y=this.y0-this.con*j*Math.cos(k-this.long0),a):(Math.abs(this.sinlat0)<1e-10?(b=2*this.a*this.k0/(1+f*Math.cos(o)),a.y=b*e):(b=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*e+this.cosX0*f*Math.cos(o))),a.y=b*(this.cosX0*e-this.sinX0*f*Math.cos(o))+this.y0),a.x=b*f*Math.sin(o)+this.x0,a))},b.inverse=function(a){var b,c,e,f,g;a.x-=this.x0,a.y-=this.y0;var j=Math.sqrt(a.x*a.x+a.y*a.y);if(this.sphere){var k=2*Math.atan(j/(.5*this.a*this.k0));return b=this.long0,c=this.lat0,1e-10>=j?(a.x=b,a.y=c,a):(c=Math.asin(Math.cos(k)*this.sinlat0+a.y*Math.sin(k)*this.coslat0/j),b=i(Math.abs(this.coslat0)<1e-10?this.lat0>0?this.long0+Math.atan2(a.x,-1*a.y):this.long0+Math.atan2(a.x,a.y):this.long0+Math.atan2(a.x*Math.sin(k),j*this.coslat0*Math.cos(k)-a.y*this.sinlat0*Math.sin(k))),a.x=b,a.y=c,a)}if(Math.abs(this.coslat0)<=1e-10){if(1e-10>=j)return c=this.lat0,b=this.long0,a.x=b,a.y=c,a;a.x*=this.con,a.y*=this.con,e=j*this.cons/(2*this.a*this.k0),c=this.con*h(this.e,e),b=this.con*i(this.con*this.long0+Math.atan2(a.x,-1*a.y))}else f=2*Math.atan(j*this.cosX0/(2*this.a*this.k0*this.ms1)),b=this.long0,1e-10>=j?g=this.X0:(g=Math.asin(Math.cos(f)*this.sinX0+a.y*Math.sin(f)*this.cosX0/j),b=i(this.long0+Math.atan2(a.x*Math.sin(f),j*this.cosX0*Math.cos(f)-a.y*this.sinX0*Math.sin(f)))),c=-1*h(this.e,Math.tan(.5*(d+g)));return a.x=b,a.y=c,a},b.names=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"]},function(a,b,c){"use strict";a.exports=function(a,b){return Math.pow((1-a)/(1+a),b)}},function(a,b,c){"use strict";var d=Math.PI/4,e=c(408),f=Math.PI/2;b.init=function(){var a=Math.sin(this.lat0),b=Math.cos(this.lat0);b*=b,this.rc=Math.sqrt(1-this.es)/(1-this.es*a*a),this.C=Math.sqrt(1+this.es*b*b/(1-this.es)),this.phic0=Math.asin(a/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+d)/(Math.pow(Math.tan(.5*this.lat0+d),this.C)*e(this.e*a,this.ratexp))},b.forward=function(a){var b=a.x,c=a.y;return a.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*c+d),this.C)*e(this.e*Math.sin(c),this.ratexp))-f,a.x=this.C*b,a},b.inverse=function(a){for(var b=a.x/this.C,c=a.y,g=Math.pow(Math.tan(.5*c+d)/this.K,1/this.C),h=20;h>0&&(c=2*Math.atan(g*e(this.e*Math.sin(a.y),-.5*this.e))-f,!(Math.abs(c-a.y)<1e-14));--h)a.y=c;return h?(a.x=b,a.y=c,a):null},b.names=["gauss"]},function(a,b,c){"use strict";var d=c(409),e=c(7);b.init=function(){d.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},b.forward=function(a){var b,c,f,g;return a.x=e(a.x-this.long0),d.forward.apply(this,[a]),b=Math.sin(a.y),c=Math.cos(a.y),f=Math.cos(a.x),g=this.k0*this.R2/(1+this.sinc0*b+this.cosc0*c*f),a.x=g*c*Math.sin(a.x),a.y=g*(this.cosc0*b-this.sinc0*c*f),a.x=this.a*a.x+this.x0,a.y=this.a*a.y+this.y0,a},b.inverse=function(a){var b,c,f,g,h;if(a.x=(a.x-this.x0)/this.a,a.y=(a.y-this.y0)/this.a,a.x/=this.k0,a.y/=this.k0,h=Math.sqrt(a.x*a.x+a.y*a.y)){var i=2*Math.atan2(h,this.R2);b=Math.sin(i),c=Math.cos(i),g=Math.asin(c*this.sinc0+a.y*b*this.cosc0/h),f=Math.atan2(a.x*b,h*this.cosc0*c-a.y*this.sinc0*b)}else g=this.phic0,f=0;return a.x=f,a.y=g,d.inverse.apply(this,[a]),a.x=e(a.x+this.long0),a},b.names=["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative"]},function(a,b,c){"use strict";var d=c(175);b.dependsOn="tmerc",b.init=function(){this.zone&&(this.lat0=0,this.long0=.017453292519943295*(6*Math.abs(this.zone)-183),this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,d.init.apply(this),this.forward=d.forward,this.inverse=d.inverse)},b.names=["Universal Transverse Mercator System","utm"]},function(a,b,c){"use strict";var d=[c(175),c(411),c(410),c(407),c(406),c(405),c(404),c(403),c(402),c(401),c(400),c(399),c(398),c(396),c(395),c(394),c(393),c(392),c(389),c(388),c(387),c(386)];a.exports=function(a){d.forEach(function(b){a.Proj1.projections.add(b)})}},function(a){a.exports={_from:"proj4@2.3.15",_id:"proj4@2.3.15",_inBundle:!1,_integrity:"sha1-WtBui8owvg/6OJpJ5FZfUfBtCJ4=",_location:"/proj4",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"proj4@2.3.15",name:"proj4",escapedName:"proj4",rawSpec:"2.3.15",saveSpec:null,fetchSpec:"2.3.15"},_requiredBy:["/"],_resolved:"http://localhost:4873/proj4/-/proj4-2.3.15.tgz",_shasum:"5ad06e8bca30be0ffa389a49e4565f51f06d089e",_spec:"proj4@2.3.15",_where:"E:\\2018\\git\\iClient-JavaScript",author:"",bugs:{url:"https://github.com/proj4js/proj4js/issues"},bundleDependencies:!1,contributors:[{name:"Mike Adair",email:"madair@dmsolutions.ca"},{name:"Richard Greenwood",email:"rich@greenwoodmap.com"},{name:"Calvin Metcalf",email:"calvin.metcalf@gmail.com"},{name:"Richard Marsden",url:"http://www.winwaed.com"},{name:"T. Mittan"},{name:"D. Steinwand"},{name:"S. Nelson"}],dependencies:{mgrs:"~0.0.2"},deprecated:!1,description:"Proj4js is a JavaScript library to transform point coordinates from one coordinate system to another, including datum transformations.",devDependencies:{browserify:"~12.0.1",chai:"~1.8.1",curl:"git://github.com/cujojs/curl.git",grunt:"~0.4.2","grunt-browserify":"~4.0.1","grunt-cli":"~0.1.13","grunt-contrib-connect":"~0.6.0","grunt-contrib-jshint":"~0.8.0","grunt-contrib-uglify":"~0.11.1","grunt-mocha-phantomjs":"~0.4.0",istanbul:"~0.2.4",mocha:"~1.17.1",tin:"~0.4.0"},directories:{test:"test",doc:"docs"},homepage:"https://github.com/proj4js/proj4js#readme",jam:{main:"dist/proj4.js",include:["dist/proj4.js","README.md","AUTHORS","LICENSE.md"]},license:"MIT",main:"lib/index.js",name:"proj4",repository:{type:"git",url:"git://github.com/proj4js/proj4js.git"},scripts:{test:"./node_modules/istanbul/lib/cli.js test ./node_modules/mocha/bin/_mocha test/test.js"},version:"2.3.15"}},function(a,b,c){"use strict";function d(a,b,c){if(!(this instanceof d))return new d(a,b,c);if(Array.isArray(a))this.x=a[0],this.y=a[1],this.z=a[2]||0;else if("object"===(void 0===a?"undefined":e(a)))this.x=a.x,this.y=a.y,this.z=a.z||0;else if("string"==typeof a&&void 0===b){var f=a.split(",");this.x=parseFloat(f[0],10),this.y=parseFloat(f[1],10),this.z=parseFloat(f[2],10)||0}else this.x=a,this.y=b,this.z=c||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},f=c(176);d.fromMGRS=function(a){return new d(f.toPoint(a))},d.prototype.toMGRS=function(a){return f.forward([this.x,this.y],a)},a.exports=d},function(a,b,c){"use strict";a.exports=function(a,b,c){var d,e,f,g=c.x,h=c.y,i=c.z||0;for(f=0;3>f;f++)if(!b||2!==f||void 0!==c.z)switch(0===f?(d=g,e="x"):1===f?(d=h,e="y"):(d=i,e="z"),a.axis[f]){case"e":c[e]=d;break;case"w":c[e]=-d;break;case"n":c[e]=d;break;case"s":c[e]=-d;break;case"u":void 0!==c[e]&&(c.z=d);break;case"d":void 0!==c[e]&&(c.z=-d);break;default:return null}return c}},function(a,b,c){"use strict";var d=1,e=2;a.exports=function(a,b,c){function f(a){return a===d||a===e}var g,h,i;if(a.compare_datums(b))return c;if(5===a.datum_type||5===b.datum_type)return c;var j=a.a,k=a.es,l=b.a,m=b.es,n=a.datum_type;if(3===n)if(0===this.apply_gridshift(a,0,c))a.a=6378137,a.es=.006694379990141316;else{if(!a.datum_params)return a.a=j,a.es=a.es,c;for(g=1,h=0,i=a.datum_params.length;i>h;h++)g*=a.datum_params[h];if(0===g)return a.a=j,a.es=a.es,c;n=a.datum_params.length>3?e:d}return 3===b.datum_type&&(b.a=6378137,b.es=.006694379990141316),(a.es!==b.es||a.a!==b.a||f(n)||f(b.datum_type))&&(a.geodetic_to_geocentric(c),f(a.datum_type)&&a.geocentric_to_wgs84(c),f(b.datum_type)&&b.geocentric_from_wgs84(c),b.geocentric_to_geodetic(c)),3===b.datum_type&&this.apply_gridshift(b,1,c),a.a=j,a.es=k,b.a=l,b.es=m,c}},function(a,b,c){"use strict";var d=Math.PI/2,e=function f(a){return this instanceof f?(this.datum_type=4,void(a&&(a.datumCode&&"none"===a.datumCode&&(this.datum_type=5),a.datum_params&&(this.datum_params=a.datum_params.map(parseFloat),0===this.datum_params[0]&&0===this.datum_params[1]&&0===this.datum_params[2]||(this.datum_type=1),this.datum_params.length>3&&(0===this.datum_params[3]&&0===this.datum_params[4]&&0===this.datum_params[5]&&0===this.datum_params[6]||(this.datum_type=2,this.datum_params[3]*=484813681109536e-20,this.datum_params[4]*=484813681109536e-20,this.datum_params[5]*=484813681109536e-20,this.datum_params[6]=this.datum_params[6]/1e6+1))),this.datum_type=a.grids?3:this.datum_type,this.a=a.a,this.b=a.b,this.es=a.es,this.ep2=a.ep2,3===this.datum_type&&(this.grids=a.grids)))):new f(a)};e.prototype={compare_datums:function(a){return this.datum_type===a.datum_type&&!(this.a!==a.a||Math.abs(this.es-a.es)>5e-11)&&(1===this.datum_type?this.datum_params[0]===a.datum_params[0]&&this.datum_params[1]===a.datum_params[1]&&this.datum_params[2]===a.datum_params[2]:2===this.datum_type?this.datum_params[0]===a.datum_params[0]&&this.datum_params[1]===a.datum_params[1]&&this.datum_params[2]===a.datum_params[2]&&this.datum_params[3]===a.datum_params[3]&&this.datum_params[4]===a.datum_params[4]&&this.datum_params[5]===a.datum_params[5]&&this.datum_params[6]===a.datum_params[6]:3!==this.datum_type&&3!==a.datum_type||this.nadgrids===a.nadgrids)},geodetic_to_geocentric:function(a){var b,c,e,f,g,h,i,j=a.x,k=a.y,l=a.z?a.z:0;if(-d>k&&k>-1.001*d)k=-d;else if(k>d&&1.001*d>k)k=d;else if(-d>k||k>d)return null;return j>Math.PI&&(j-=2*Math.PI),g=Math.sin(k),i=Math.cos(k),h=g*g,b=((f=this.a/Math.sqrt(1-this.es*h))+l)*i*Math.cos(j),c=(f+l)*i*Math.sin(j),e=(f*(1-this.es)+l)*g,a.x=b,a.y=c,a.z=e,0},geocentric_to_geodetic:function(a){var b,c,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s=a.x,t=a.y,u=a.z?a.z:0;if(b=Math.sqrt(s*s+t*t),c=Math.sqrt(s*s+t*t+u*u),b/this.a<1e-12){if(p=0,c/this.a<1e-12)return q=d,void(r=-this.b)}else p=Math.atan2(t,s);e=u/c,f=b/c,g=1/Math.sqrt(1-this.es*(2-this.es)*f*f),j=f*(1-this.es)*g,k=e*g,o=0;do o++,r=b*j+u*k-(i=this.a/Math.sqrt(1-this.es*k*k))*(1-this.es*k*k),h=this.es*i/(i+r),n=(m=e*(g=1/Math.sqrt(1-h*(2-h)*f*f)))*j-(l=f*(1-h)*g)*k,j=l,k=m;while(n*n>1e-24&&30>o);return q=Math.atan(m/Math.abs(l)),a.x=p,a.y=q,a.z=r,a},geocentric_to_geodetic_noniter:function(a){var b,c,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t=a.x,u=a.y,v=a.z?a.z:0;if(t=parseFloat(t),u=parseFloat(u),v=parseFloat(v),s=!1,0!==t)b=Math.atan2(u,t);else if(u>0)b=d;else if(0>u)b=-d;else if(s=!0,b=0,v>0)c=d;else{if(!(0>v))return c=d,void(e=-this.b);c=-d}return g=t*t+u*u,h=1.0026*v,n=(f=Math.sqrt(g))/(j=Math.sqrt(h*h+g)),m=(l=h/j)*l*l,i=v+this.b*this.ep2*m,r=f-this.a*this.es*n*n*n,o=i/(k=Math.sqrt(i*i+r*r)),p=r/k,q=this.a/Math.sqrt(1-this.es*o*o),e=p>=.3826834323650898?f/p-q:-.3826834323650898>=p?f/-p-q:v/o+q*(this.es-1),!1===s&&(c=Math.atan(o/p)),a.x=b,a.y=c,a.z=e,a},geocentric_to_wgs84:function(a){if(1===this.datum_type)a.x+=this.datum_params[0],a.y+=this.datum_params[1],a.z+=this.datum_params[2];else if(2===this.datum_type){var b=this.datum_params[0],c=this.datum_params[1],d=this.datum_params[2],e=this.datum_params[3],f=this.datum_params[4],g=this.datum_params[5],h=this.datum_params[6],i=h*(a.x-g*a.y+f*a.z)+b,j=h*(g*a.x+a.y-e*a.z)+c,k=h*(-f*a.x+e*a.y+a.z)+d;a.x=i,a.y=j,a.z=k}},geocentric_from_wgs84:function(a){if(1===this.datum_type)a.x-=this.datum_params[0],a.y-=this.datum_params[1],a.z-=this.datum_params[2];else if(2===this.datum_type){var b=this.datum_params[0],c=this.datum_params[1],d=this.datum_params[2],e=this.datum_params[3],f=this.datum_params[4],g=this.datum_params[5],h=this.datum_params[6],i=(a.x-b)/h,j=(a.y-c)/h,k=(a.z-d)/h;a.x=i+g*j-f*k,a.y=-g*i+j+e*k,a.z=f*i-e*j+k}}},a.exports=e},function(a,b,c){"use strict";b.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"},b.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},b.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},b.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"},b.airy={a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},b.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},b.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},b.mod_airy={a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},b.andrae={a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},b.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},b.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},b.bessel={a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},b.bess_nam={a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},b.clrk66={a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},b.clrk80={a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},b.clrk58={a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},b.CPM={a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},b.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},b.engelis={a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},b.evrst30={a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},b.evrst48={a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},b.evrst56={a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},b.evrst69={a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},b.evrstSS={a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},b.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},b.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"},b.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"},b.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"},b.hough={a:6378270,rf:297,ellipseName:"Hough"},b.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},b.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"},b.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"},b.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"},b.new_intl={a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},b.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},b.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},b.SEasia={a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},b.walbeck={a:6376896,b:6355834.8467,ellipseName:"Walbeck"},b.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"},b.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"},b.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"},b.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"},b.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"}},function(a,b,c){"use strict";b.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},b.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},b.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},b.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},b.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},b.potsdam={towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},b.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},b.hermannskogel={towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},b.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},b.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},b.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},b.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},b.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},b.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},b.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},b.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"}},function(a,b,c){"use strict";var d=c(419),e=c(418),f=c(106),g=c(417);a.exports=function(a){if(a.datumCode&&"none"!==a.datumCode){var b=d[a.datumCode];b&&(a.datum_params=b.towgs84?b.towgs84.split(","):null,a.ellps=b.ellipse,a.datumName=b.datumName?b.datumName:a.datumCode)}if(!a.a){var c=e[a.ellps]?e[a.ellps]:e.WGS84;f(a,c)}return a.rf&&!a.b&&(a.b=(1-1/a.rf)*a.a),(0===a.rf||Math.abs(a.a-a.b)<1e-10)&&(a.sphere=!0,a.b=a.a),a.a2=a.a*a.a,a.b2=a.b*a.b,a.es=(a.a2-a.b2)/a.a2,a.e=Math.sqrt(a.es),a.R_A&&(a.a*=1-a.es*(.16666666666666666+a.es*(.04722222222222222+.022156084656084655*a.es)),a.a2=a.a*a.a,a.b2=a.b*a.b,a.es=0),a.ep2=(a.a2-a.b2)/a.b2,a.k0||(a.k0=1),a.axis||(a.axis="enu"),a.datum||(a.datum=g(a)),a}},function(a,b,c){"use strict";function d(a){return a}b.init=function(){},b.forward=d,b.inverse=d,b.names=["longlat","identity"]},function(a,b,c){"use strict";var d=c(44),e=Math.PI/2,f=57.29577951308232,g=c(7),h=Math.PI/4,i=c(69),j=c(68);b.init=function(){var a=this.b/this.a;this.es=1-a*a,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=d(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)},b.forward=function(a){var b,c,d=a.x,j=a.y;if(j*f>90&&-90>j*f&&d*f>180&&-180>d*f)return null;if(Math.abs(Math.abs(j)-e)<=1e-10)return null;if(this.sphere)b=this.x0+this.a*this.k0*g(d-this.long0),c=this.y0+this.a*this.k0*Math.log(Math.tan(h+.5*j));else{var k=Math.sin(j),l=i(this.e,j,k);b=this.x0+this.a*this.k0*g(d-this.long0),c=this.y0-this.a*this.k0*Math.log(l)}return a.x=b,a.y=c,a},b.inverse=function(a){var b,c,d=a.x-this.x0,f=a.y-this.y0;if(this.sphere)c=e-2*Math.atan(Math.exp(-f/(this.a*this.k0)));else{var h=Math.exp(-f/(this.a*this.k0));if(-9999===(c=j(this.e,h)))return null}return b=g(this.long0+d/(this.a*this.k0)),a.x=b,a.y=c,a},b.names=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},function(a,b,c){"use strict";function d(a,b){var c=g.length;return a.names?(g[c]=a,a.names.forEach(function(a){f[a.toLowerCase()]=c}),this):(console.log(b),!0)}var e=[c(422),c(421)],f={},g=[];b.add=d,b.get=function(a){if(!a)return!1;var b=a.toLowerCase();return void 0!==f[b]&&g[f[b]]?g[f[b]]:void 0},b.start=function(){e.forEach(d)}},function(a,b,c){"use strict";b.ft={to_meter:.3048},b["us-ft"]={to_meter:1200/3937}},function(a,b,c){"use strict";b.greenwich=0,b.lisbon=-9.131906111111,b.paris=2.337229166667,b.bogota=-74.080916666667,b.madrid=-3.687938888889,b.rome=12.452333333333,b.bern=7.439583333333,b.jakarta=106.807719444444,b.ferro=-17.666666666667,b.brussels=4.367975,b.stockholm=18.058277777778,b.athens=23.7163375,b.oslo=10.722916666667},function(a,b,c){"use strict";a.exports=function(a){a("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),a("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),a("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),a.WGS84=a["EPSG:4326"],a["EPSG:3785"]=a["EPSG:3857"],a.GOOGLE=a["EPSG:3857"],a["EPSG:900913"]=a["EPSG:3857"],a["EPSG:102113"]=a["EPSG:3857"]}},function(a,b,c){"use strict";var d=c(181),e=c(179),f=c(180);a.exports=function(a){return function(a){return"string"==typeof a}(a)?function(a){return a in d}(a)?d[a]:function(a){return["GEOGCS","GEOCCS","PROJCS","LOCAL_CS"].reduce(function(b,c){return b+1+a.indexOf(c)},0)}(a)?e(a):function(a){return"+"===a[0]}(a)?f(a):void 0:a}},function(a,b,c){"use strict";function d(a,b,c){var d;return Array.isArray(c)?(d=g(a,b,c),3===c.length?[d.x,d.y,d.z]:[d.x,d.y]):g(a,b,c)}function e(a){return a instanceof f?a:a.oProj?a.oProj:f(a)}var f=c(107),g=c(178),h=f("WGS84");a.exports=function(a,b,c){a=e(a);var f,g=!1;return void 0===b?(b=a,a=h,g=!0):(void 0!==b.x||Array.isArray(b))&&(c=b,b=a,a=h,g=!0),b=e(b),c?d(a,b,c):(f={forward:function(c){return d(a,b,c)},inverse:function(c){return d(b,a,c)}},g&&(f.oProj=b),f)}},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.changeTileVersion=b.ChangeTileVersion=void 0;var d,e=c(2),f=(d=e)&&d.__esModule?d:{"default":d};c(3);var g=c(172),h=b.ChangeTileVersion=f["default"].Control.extend({options:{layer:null,position:"topleft",title:"switch tile version",tooltip:"top",collapsed:!0,nextText:"+",lastText:"-",ico:"V",orientation:"horizontal","switch":!0},onAdd:function(){"vertical"!==this.options.orientation&&(this.options.orientation="horizontal");var a=this._initLayout();return this.options.layer&&this.setLayer(this.options.layer),a},setContent:function(a){var b=f["default"].Util.extend({},a);this.setVersionName(b.desc).setToolTip(b.desc)},setVersionName:function(a){var b=a;return a||(b=this.getValue()),this._sliderValue.innerHTML=b,this},setToolTip:function(a){return this.tooltip.innerHTML=a,this},updateLength:function(a){a>0&&(this.length=a,this.max=this.length-1,this.slider.setAttribute("max",this.max))},setLayer:function(a){a&&(this.options.layer=a);var b=this,c=b.options.layer;c.on("tilesetsinfoloaded",function(a){var c=a&&a.tileVersions;b.update(c)}),c.on("tileversionschanged",function(a){var c=a&&a.tileVersion;b.setContent(c)}),b.getTileSetsInfo()},update:function(a){this.tileVersions=a,this.updateLength(this.tileVersions.length)},getTileSetsInfo:function(){var a=this;a.options.layer&&new g.MapService(a.options.layer._url).getTilesets(function(b){a.options.layer.setTileSetsInfo(b.result)})},removeLayer:function(){this.options.layer=null},nextTilesVersion:function(){return this.firstLoad?(this.options.layer.nextTilesVersion(),this.firstLoad=!1,this):parseInt(this.slider.value)>this.max-1?this:(this.slider.value=parseInt(this.slider.value)+1,this.options.layer.nextTilesVersion(),this)},lastTilesVersion:function(){return parseInt(this.slider.value)<this.min+1?this:(this.slider.value=parseInt(this.slider.value)-1,this.options.layer.lastTilesVersion(),this)},tilesVersion:function(a){for(var b=this.options.layer,c=this.tileVersions,d=c.length,e=0;d>e;e++)if(c[e].name==a){b.updateCurrentTileSetsIndex(e),b.changeTilesVersion();break}},getValue:function(){return this.slider.value},getVersion:function(){var a=this.tileVersions[this.getValue()];return a&&a.name},_initLayout:function(){var a="leaflet-control-ctv";return this._container=f["default"].DomUtil.create("div",a+" "+a+"-"+this.options.orientation),this._sliderBtn=f["default"].DomUtil.create("a",a+"-toggle",this._container),this._sliderBtn.setAttribute("title",this.options.title),this._sliderBtn.innerHTML=this.options.ico,this._sliderValue=f["default"].DomUtil.create("p",a+"-value",this._container),this._sliderValue.innerHTML=this.options.ico,this._sliderContent=f["default"].DomUtil.create("div","leaflet-ctv-slider-main  tooltip",this._container),this.tooltip=f["default"].DomUtil.create("span","tooltip-text  tooltip-"+this.options.tooltip,this._sliderContent),this.tooltip.innerHTML=this.options.ico,this.options["switch"]&&(this._next=f["default"].DomUtil.create("a","leaflet-ctv-slider-incdec leaflet-ctv-slider-next",this._sliderContent),this._next.innerHTML=this.options.nextText,f["default"].DomEvent.on(this._next,"click",this.nextTilesVersion,this),f["default"].DomUtil.addClass(this._container,a+"-incdec")),this._sliderContainer=f["default"].DomUtil.create("div","leaflet-ctv-slider-container",this._sliderContent),this.slider=f["default"].DomUtil.create("input","leaflet-ctv-slider",this._sliderContainer),this.min=null==this.min||isNaN(this.min)?0:parseInt(this.min),this.slider.setAttribute("title",this.options.title),this.slider.setAttribute("id","slider"),this.slider.setAttribute("type","range"),this.slider.setAttribute("min",this.min),this.slider.setAttribute("max",0),this.slider.setAttribute("step",1),this.slider.setAttribute("value",0),this.firstLoad=!0,"oninput"in this.slider||"onchange"in this.slider?f["default"].DomEvent.on(this.slider,"change",this._tilesVersion,this):this.slider.onpropertychange=this._tilesVersion,this.options["switch"]&&(this._last=f["default"].DomUtil.create("a","leaflet-ctv-slider-incdec leaflet-ctv-slider-last",this._sliderContent),this._last.innerHTML=this.options.lastText,f["default"].DomEvent.on(this._last,"click",this.lastTilesVersion,this)),"vertical"===this.options.orientation?(this.slider.style.width="170px",this._sliderContainer.style.height="170px"):this._sliderContainer.style.width="150px",f["default"].DomEvent.disableClickPropagation(this._container),this.options.collapsed?(f["default"].Browser.android||f["default"].DomEvent.on(this._container,"mouseenter",this._expand,this).on(this._container,"mouseleave",this._collapse,this),f["default"].Browser.touch?f["default"].DomEvent.on(this._sliderBtn,"click",f["default"].DomEvent.stop).on(this._sliderBtn,"click",this._expand,this):f["default"].DomEvent.on(this._sliderBtn,"focus",this._expand,this)):this._expand(),this._container},_expand:function(){f["default"].DomUtil.addClass(this._container,"leaflet-control-ctv-expanded")},_collapse:function(){f["default"].DomUtil.removeClass(this._container,"leaflet-control-ctv-expanded")},_tilesVersion:function(){var a=this.getVersion();this.tilesVersion(a)}});f["default"].Map.mergeOptions({changeTileVersionControl:!1}),f["default"].Map.addInitHook(function(){this.options.changeTileVersionControl&&(this.changeTileVersionControl=new h,this.addControl(this.changeTileVersionControl))});var i=b.changeTileVersion=function(a){return new h(a)};f["default"].supermap.control.changeTileVersion=i},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.logo=b.Logo=b.changeTileVersion=b.ChangeTileVersion=void 0;var d=c(429),e=c(385);b.ChangeTileVersion=d.ChangeTileVersion,b.changeTileVersion=d.changeTileVersion,b.Logo=e.Logo,b.logo=e.logo},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.zh=void 0;var d=c(0),e={title_dataFlowService:"数据流服务",title_distributedAnalysis:"分布式分析",title_clientComputing:"客户端计算",title_dataServiceQuery:"数据服务查询",text_input_value_inputDataFlowUrl:"请输入数据流服务地址如:ws://{serviceRoot}/{dataFlowName}/dataflow/subscribe",text_displayFeaturesInfo:"显示要素信息",text_subscribe:"订阅",text_cancelSubscribe:"取消订阅",text_densityAnalysis:"密度分析",text_CalculateTheValuePerUnitArea:"计算点指定邻域形状内的每单位面积量值",text_option_selectDataset:"请选择数据集",text_label_dataset:"数据集",text_option_simplePointDensityAnalysis:"简单点密度分析",text_option_nuclearDensityAnalysis:"核密度分析",text_label_analyticalMethod:"分析方法",text_option_quadrilateral:"四边形",text_option_hexagon:"六边形",text_label_meshType:"网格面类型",text_option_notSet:"未设置",text_label_weightField:"权重字段",text_label_gridSizeInMeters:"网格大小",text_label_searchRadius:"搜索半径",text_label_queryRange:"分析范围",text_label_areaUnit:"面积单位",text_option_equidistantSegmentation:"等距离分段",text_option_logarithm:"对数",text_option_equalCountingSegment:"等计数分段",text_option_squareRootSegmentation:"平方根分段",text_label_thematicMapSegmentationMode:"专题图分段模式",text_label_thematicMapSegmentationParameters:"专题图分段参数",text_option_greenOrangePurpleGradient:"绿橙紫渐变",text_option_greenOrangeRedGradient:"绿橙红渐变",text_option_rainbowGradient:"彩虹渐变",text_option_spectralGradient:"光谱渐变",text_option_terrainGradient:"地形渐变",text_label_thematicMapColorGradientMode:"专题图颜色渐变模式",text_label_resultLayerName:"结果图层名称",text_chooseFile:"选择文件",text_isoline:"等值线",text_extractDiscreteValue:"提取离散值生成曲线",text_buffer:"缓冲区",text_specifyTheDistance:"指定距离创建周边区域",text_label_analysisLayer:"分析图层",text_label_extractField:"提取字段",text_label_extractedValue:"提取值",text_label_distanceAttenuation:"距离衰减",text_label_gridSize:"栅格大小",text_label_bufferRadius:"缓冲半径",text_label_defaultkilometers:"默认10千米",text_option_kilometer:"千米",text_label_unit:"单位",text_retainOriginal:"保留原对象字段属性",text_mergeBuffer:"合并缓冲区",text_label_color:"颜色",text_label_buffer:"[缓冲区]",text_label_isolines:"[等值线]",text_label_queryRangeTips:"默认为输入数据的全幅范围。范例：-74.050,40.650,-73.850,40.850",text_label_IDArrayOfFeatures:"要素 ID 数组",text_label_maxFeatures:"最多可返回的要素数量",text_label_bufferDistance:"缓冲区距离",text_label_queryRange1:"查询范围",text_label_spatialQueryMode:"空间查询模式",text_label_featureFilter:"要素过滤器",text_label_geometricObject:"几何对象",text_label_queryMode:"查询模式",btn_analyze:"分析",btn_analyzing:"分析中",btn_emptyTheAnalysisLayer:"清空分析图层",btn_cancelAnalysis:"取消",btn_query:"查询",btn_querying:"查询中",btn_emptyTheRresultLayer:"清除所有结果图层",msg_dataFlowServiceHasBeenSubscribed:"已订阅该数据流服务。",msg_inputDataFlowUrlFirst:"请先输入数据流服务地址。",msg_datasetOrMethodUnsupport:"该数据集不支持本分析类型，请重新选择数据集",msg_selectDataset:"请选择数据集！",msg_setTheWeightField:"请设置权重字段！",msg_theFieldNotSupportAnalysis:"您当前选择的字段不支持分析！",msg_resultIsEmpty:"分析的结果为空！",msg_dataReturnedIsEmpty:"请求成功，查询返回的数据为空。",msg_openFileFail:"打开文件失败！",msg_fileTypeUnsupported:"不支持该文件格式！",msg_fileSizeExceeded:"文件大小超限！文件大小不得超过 10M！",msg_dataInWrongGeoJSONFormat:"数据格式错误！非标准的 GEOJSON 格式数据！",msg_dataInWrongFormat:"数据格式错误！非标准的 EXCEL, CSV 或 GEOJSON 格式数据！"};b.zh=e,d.SuperMap.Lang["zh-CN"]=e},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.en=void 0;var d=c(0),e={title_dataFlowService:"Data Flow Service",title_distributedAnalysis:"Distributed Analysis",title_clientComputing:"Client Computing",title_dataServiceQuery:"Data Service Query",text_input_value_inputDataFlowUrl:"Please enter the data stream service address such as: ws://{serviceRoot}/{dataFlowName}/dataflow/subscribe",text_displayFeaturesInfo:"Display feature information",text_subscribe:"subscribe",text_cancelSubscribe:"unsubscribe",text_densityAnalysis:"Density Analysis",text_CalculateTheValuePerUnitArea:"Calculate the value per unit area within the neighborhood shape",text_option_selectDataset:"Please select a dataset",text_label_dataset:"Dataset",text_option_simplePointDensityAnalysis:"Simple point density analysis",
text_option_nuclearDensityAnalysis:"Nuclear density analysis",text_label_analyticalMethod:"Analytical method",text_option_quadrilateral:"Quadrilateral",text_option_hexagon:"hexagon",text_label_meshType:"Mesh type",text_option_notSet:"Not set",text_label_weightField:"Weight field",text_label_gridSizeInMeters:"Grid size",text_label_searchRadius:"Search radius",text_label_queryRange:"Scope of analysis",text_label_areaUnit:"Area unit",text_option_equidistantSegmentation:"Equidistant segmentation",text_option_logarithm:"Logarithm",text_option_equalCountingSegment:"Equal counting segment",text_option_squareRootSegmentation:"Square root segmentation",text_label_thematicMapSegmentationMode:"Thematic map segmentation mode",text_label_thematicMapSegmentationParameters:"Thematic map segmentation parameters",text_option_greenOrangePurpleGradient:"Green orange purple gradient",text_option_greenOrangeRedGradient:"Green orange red gradient",text_option_rainbowGradient:"Rainbow gradient",text_option_spectralGradient:"Spectral gradient",text_option_terrainGradient:"Terrain gradient",text_label_thematicMapColorGradientMode:"Thematic map color gradient mode",text_label_resultLayerName:"Result layer name",text_chooseFile:"Open File",text_isoline:"Isoline",text_extractDiscreteValue:"Extract discrete value generation curve",text_buffer:"Buffer",text_specifyTheDistance:"Specify the distance to create the surrounding area",text_label_analysisLayer:"Analysis layer",text_label_extractField:"Extract field",text_label_extractedValue:"Extracted value",text_label_distanceAttenuation:"Distance attenuation",text_label_gridSize:"gridSize",text_label_bufferRadius:"Buffer radius",text_label_defaultkilometers:"Default 10 kilometers",text_label_kilometer:"kilometer",text_label_unit:"unit",text_retainOriginal:"Retain original object field",text_mergeBuffer:"Merge buffer",text_label_color:"Color",text_label_buffer:"[Buffer]",text_label_isolines:"[Isolines]",text_label_queryRangeTips:"The default is the full range of input data. Example: -74.050, 40.650, -73.850, 40.850",text_label_queryModel:"Query mode",text_label_IDArrayOfFeatures:"ID array of features",text_label_maxFeatures:"The maximum number of features that can be returned",text_label_bufferDistance:"Buffer distance",text_label_queryRange1:"Query range",text_label_spatialQueryMode:"Spatial query mode",text_label_featureFilter:"Feature filter",text_label_geometricObject:"Geometric object",text_label_queryMode:"Query mode",btn_analyze:"Analyze",btn_analyzing:"Analyzing",btn_emptyTheAnalysisLayer:"Empty the analysis layer",btn_cancelAnalysis:"Cancel",btn_query:"Query",btn_querying:"Querying",btn_emptyTheRresultLayer:"Clear all result layers","msg_dataReturnedIsEmpty.":"The request is successful and the data returned by the query is empty.",msg_dataFlowServiceHasBeenSubscribed:"The data stream service has been subscribed to.",msg_inputDataFlowUrlFirst:"Please enter the data stream service address first.",msg_datasetOrMethodUnsupport:"This dataset does not support this analysis type. Please reselect the dataset.",msg_selectDataset:"Please select a data set!",msg_setTheWeightField:"Please set the weight field!",msg_theFieldNotSupportAnalysis:"The field you currently select does not support analysis!",msg_resultIsEmpty:"The result of the analysis is empty!",msg_openFileFail:"Failed to open file!",msg_fileTypeUnsupported:"File format is not supported!",msg_fileSizeExceeded:"File size exceeded! The file size should not exceed 10M!",msg_dataInWrongGeoJSONFormat:"Wrong data format! Non standard GEOJSON format data!",msg_dataInWrongFormat:"Wrong data format! Non standard EXCEL, CSV or GEOJSON format data!"};b.en=e,d.SuperMap.Lang["en-US"]=e},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.zh=b.en=b.Lang=void 0;var d=c(184),e=c(432),f=c(431);b.Lang=d.Lang,b.en=e.en,b.zh=f.zh},function(a,b){a.exports=function(){try{return XLSX}catch(a){return{}}}()},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.FileReaderUtil=void 0;var d,e=c(0),f=c(434),g=(d=f)&&d.__esModule?d:{"default":d},h=c(70),i=c(184),j=b.FileReaderUtil={rABS:"undefined"!=typeof FileReader&&FileReader.prototype&&FileReader.prototype.readAsBinaryString,rABF:"undefined"!=typeof FileReader&&FileReader.prototype&&FileReader.prototype.readAsArrayBuffer,rAT:"undefined"!=typeof FileReader&&FileReader.prototype&&FileReader.prototype.readAsText,readFile:function(a,b,c,d,e){h.FileTypes.JSON===a||h.FileTypes.GEOJSON===a?this.readTextFile(b,c,d,e):h.FileTypes.EXCEL!==a&&h.FileTypes.CSV!==a||this.readXLSXFile(b,c,d,e)},readTextFile:function(a,b,c,d){var e=new FileReader;e.onloadend=function(a){b&&b.call(d,a.target.result)},e.onerror=function(a){c&&c.call(d,a)},this.rAT?e.readAsText(a.file,"utf-8"):e.readAsBinaryString(a.file)},readXLSXFile:function(a,b,c,d){var e=new FileReader;e.onloadend=function(a){var e=new Uint8Array(a.target.result),f=g["default"].read(e,{type:"array"});try{if(f&&f.SheetNames&&f.SheetNames.length>0){var h=f.SheetNames[0],i=g["default"].utils.sheet_to_csv(f.Sheets[h]);b&&b.call(d,i)}}catch(a){c&&c.call(d,a)}},e.onerror=function(a){c&&c.call(d,a)},this.rABF&&e.readAsArrayBuffer(a.file)},processDataToGeoJson:function(a,b,c,d,e){var f=null;if("EXCEL"===a||"CSV"===a)f=this.processExcelDataToGeoJson(b),c&&c.call(e,f);else if("JSON"===a||"GEOJSON"===a){var g=b;"string"==typeof g&&(g=JSON.parse(g)),"ISERVER"===g.type?f=g.data.recordsets[0].features:"FeatureCollection"===g.type?f=g:d&&d.call(e,i.Lang.i18n("msg_dataInWrongGeoJSONFormat")),c&&c.call(e,f)}else d&&d.call(e,i.Lang.i18n("msg_dataInWrongFormat"))},processExcelDataToGeoJson:function(a){for(var b=this.string2Csv(a),c=b.colTitles,d=-1,e=-1,f=0,g=c.length;g>f;f++)this.isXField(c[f])&&(d=f),this.isYField(c[f])&&(e=f);for(var h=[],i=0,j=b.rows.length;j>i;i++){var k=b.rows[i],l=Number(k[d]),m=Number(k[e]),n={};for(var o in b.colTitles)n[b.colTitles[o]]=b.rows[i][o];var p={type:"Feature",geometry:{type:"Point",coordinates:[l,m]},properties:n};h.push(p)}return h},isXField:function(a){var b=a.toLowerCase();return"x"===b||"smx"===b||"jd"===b||"经度"===b||"东经"===b||"longitude"===b||"lot"===b||"lon"===b||"lng"===b},isYField:function(a){var b=a.toLowerCase();return"y"===b||"smy"===b||"wd"===b||"纬度"===b||"北纬"===b||"latitude"===b||"lat"===b},string2Csv:function(a,b){var c=a.split("\n"),d={};d.colTitles=b?[]:c[0].split(","),d.rows=[];for(var e=b?0:1;e<c.length;e++)c[e]&&d.rows.push(c[e].split(","));return d}};e.SuperMap.Widgets.FileReaderUtil=j},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.widgetsUtil=void 0;var d=c(70);b.widgetsUtil={getFileType:function(a){return/^.*\.(?:xls|xlsx)$/i.test(a)?d.FileTypes.EXCEL:/^.*\.(?:csv)$/i.test(a)?d.FileTypes.CSV:/^.*\.(?:geojson|json)$/i.test(a)?d.FileTypes.GEOJSON:null}}},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.FileReaderUtil=b.widgetsUtil=void 0;var d=c(436),e=c(435);b.widgetsUtil=d.widgetsUtil,b.FileReaderUtil=e.FileReaderUtil},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.PaginationContainer=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(35),g=b.PaginationContainer=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b),a=a||{};var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.currentPage=0,c.pageNumberLis=[],c.currentPageNumberLis=[],c.linkageEvent=null,a.contents=a.contents?a.contents:null,a.pageCounts=a.pageCounts?a.pageCounts:0,c._initView(a.contents,a.pageCounts),c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,f.TemplateBase),d(b,[{key:"setLinkageEvent",value:function(a){this.linkageEvent=a}},{key:"_initView",value:function(a,b){var c=document.createElement("div");c.setAttribute("class","widget-pagination");var d=document.createElement("div");d.setAttribute("class","widget-pagination__content"),c.appendChild(d),this.content=d;var e=document.createElement("ul");e.setAttribute("class","widget-pagination__link"),e.onclick=this._changePageEvent.bind(this),c.appendChild(e),this._createLink(e),this.link=e,a&&this.setContent(a),0!==b&&this.setPageLink(b),this.rootContainer=c}},{key:"setContent",value:function(a){this.clearContent(),this.appendContent(a)}},{key:"appendContent",value:function(a){this.content.appendChild(a)}},{key:"clearContent",value:function(){for(var a=this.content.children.length-1;a>=0;a--)this.content.removeChild(this.content.children[a])}},{key:"setPageLink",value:function(a){this.pageNumberLis=[],this.currentPageNumberLis=[],this.clearPageLink(),this._createPageLi(a),this._appendPageLink()}},{key:"_createPageLi",value:function(a){for(var b=0;a>b;b++){var c=document.createElement("li");c.innerHTML=b+1,this.pageNumberLis.push(c)}if(this.pageNumberLis[0].setAttribute("class","active"),this.currentPage=1,5>a)this.currentPageNumberLis=this.pageNumberLis;else for(var d=0;5>d;d++)this.currentPageNumberLis.push(this.pageNumberLis[d])}},{key:"_appendPageLink",value:function(){for(var a=0;a<this.currentPageNumberLis.length;a++)this.link.insertBefore(this.currentPageNumberLis[a],this.link.childNodes[this.link.children.length-2]);for(var b=0;b<this.currentPageNumberLis.length;b++)this.currentPageNumberLis[b].setAttribute("class",""),Number(this.currentPageNumberLis[b].innerHTML)===this.currentPage&&this.currentPageNumberLis[b].setAttribute("class","active");this._changeDisableState(),this.linkageEvent&&this.linkageEvent(this.currentPage)}},{key:"clearPageLink",value:function(){for(var a=this.link.children.length-3;a>1;a--)this.link.removeChild(this.link.children[a])}},{key:"_createLink",value:function(a){for(var b=0;4>b;b++){var c=document.createElement("li");c.setAttribute("class","disable");var d=document.createElement("span");c.appendChild(d),0===b?(d.id="first",d.setAttribute("class","supermapol-icons-first")):1===b?(d.id="prev",d.setAttribute("class","supermapol-icons-prev")):2===b?(d.id="next",d.setAttribute("class","supermapol-icons-next")):3===b&&(d.id="last",d.setAttribute("class","supermapol-icons-last")),a.appendChild(c)}}},{key:"_changePageEvent",value:function(a){var b=a.target;if("disable"!==b.parentElement.classList[0]){var c=void 0;if(b.id)c=b.id;else{if(!Number(b.innerHTML))return;c=Number(b.innerHTML)}this._prePageNum(c),this.clearPageLink(),this._appendPageLink()}}},{key:"_changeDisableState",value:function(){this.link.children[0].setAttribute("class",""),this.link.children[1].setAttribute("class",""),this.link.children[this.link.children.length-1].setAttribute("class",""),this.link.children[this.link.children.length-2].setAttribute("class",""),1===this.currentPage&&(this.link.children[0].setAttribute("class","disable"),this.link.children[1].setAttribute("class","disable")),this.currentPage===this.pageNumberLis.length&&(this.link.children[this.link.children.length-1].setAttribute("class","disable"),this.link.children[this.link.children.length-2].setAttribute("class","disable"))}},{key:"_prePageNum",value:function(a){var b=[];if(this.currentPage="first"===a?1:"last"===a?this.pageNumberLis.length:"prev"===a?this.currentPage-1:"next"===a?this.currentPage+1:a,this.pageNumberLis.length<=5)for(var c=0;c<this.pageNumberLis.length;c++)b.push(this.pageNumberLis[c]);else if(this.currentPage<=3)for(var d=0;5>d;d++)b.push(this.pageNumberLis[d]);else if(this.currentPage>=this.pageNumberLis.length-3)for(var e=this.pageNumberLis.length-5;e<this.pageNumberLis.length;e++)b.push(this.pageNumberLis[e]);else for(var f=this.currentPage-3;f<=this.currentPage+1;f++)b.push(this.pageNumberLis[f]);b.length>0&&(this.currentPageNumberLis=b)}}]),b}();e.SuperMap.Widgets.PaginationContainer=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.NavTabsPage=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(35),g=b.NavTabsPage=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.navTabsTitle=null,c.navTabsContent=null,a.tabs=a.tabs?a.tabs:[],c._initView(a.tabs),c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,f.TemplateBase),d(b,[{key:"_initView",value:function(a){var b=document.createElement("div");b.setAttribute("class","widget-navtabspage");var c=document.createElement("span");c.setAttribute("class","supermapol-icons-close"),c.onclick=this.closeView.bind(this),b.appendChild(c);var d=document.createElement("div");this.navTabsTitle=d,d.setAttribute("class","widget-navtabspage__title"),b.appendChild(d);var e=document.createElement("div");this.navTabsContent=e,e.setAttribute("class","widget-navtabspage__content"),b.appendChild(e),a.length>0&&this.appendTabs(a),this.rootContainer=b}},{key:"setTabs",value:function(a){this.removeAllTabs(),this.appendTabs(a)}},{key:"appendTabs",value:function(a){for(var b=0;b<a.length;b++){var c=document.createElement("span");c.index=b,c.appendChild(document.createTextNode(a[b].title)),c.onclick=this._changeTabsPage.bind(this);var d=a[b].content;d.index=b,d.hidden=!0,this.navTabsTitle.appendChild(c),this.navTabsContent.appendChild(d)}this.navTabsTitle.firstChild.setAttribute("class","widget-navtabspage__tabs--select"),this.navTabsContent.firstChild.hidden=!1}},{key:"removeTab",value:function(a){this.navTabsTitle.removeChild(this.navTabsTitle.children[a]),this.navTabsContent.removeChild(this.navTabsContent.children[a])}},{key:"removeAllTabs",value:function(){for(var a=this.navTabsTitle.children.length;a>0;a--)this.navTabsTitle.removeChild(this.navTabsTitle.children[a]),this.navTabsContent.removeChild(this.navTabsContent.children[a])}},{key:"_changeTabsPage",value:function(a){for(var b=a.target.index,c=0;c<this.navTabsTitle.children.length;c++)this.navTabsTitle.children[c].setAttribute("class",""),this.navTabsContent.children[c].hidden=!0,c===b&&(this.navTabsTitle.children[c].setAttribute("class","widget-navtabspage__tabs--select"),this.navTabsContent.children[c].hidden=!1)}}]),b}();e.SuperMap.Widgets.NavTabsPage=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.CityTabsPage=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(185),g=c(1),h=b.CityTabsPage=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.rootContainer.classList.add("widget-citytabpage--noneBoxShadow"),c.config=a.config,g.Util.isArray(c.config)?(c.header.hidden=!0,c._createCityItem("城市",c.config),c.content.style.border="none"):(c._createTabs(),c.header.onclick=function(a){for(var b=0;b<c.header.children.length;b++)c.header.children[b].setAttribute("class","");a.target.setAttribute("class","on"),c._createCityContent(a.target.innerHTML)}),c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,f.IndexTabsPageContainer),d(b,[{key:"_createTabs",value:function(){if(g.Util.isArray(this.config))for(var a=0;a<this.config.length;a++){var b="";for(var c in this.config[a])b+=c;var d=document.createElement("li");d.innerHTML=b,this.header.appendChild(d)}else for(var e in this.config){var f=document.createElement("li");f.innerHTML=e,this.header.appendChild(f)}this.header.firstChild.setAttribute("class","on"),this._createCityContent(this.header.firstChild.innerHTML)}},{key:"_createCityContent",value:function(a){for(var b=this.content.children.length;b>0;b--)this.content.removeChild(this.content.children[b-1]);var c=this.config[a];for(var d in c)this._createCityItem(d,c[d])}},{key:"_createCityItem",value:function(a,b){var c=document.createElement("div"),d=document.createElement("div");d.setAttribute("class","widget-citytabpag__py-key"),d.innerHTML=a,c.appendChild(d);var e=document.createElement("div");e.setAttribute("class","widget-citytabpag__content");for(var f=0;f<b.length;f++){var g=document.createElement("span");g.innerHTML=b[f],e.appendChild(g)}"HOT"===a&&(e.style.width="428px"),c.appendChild(e),this.content.appendChild(c)}}]),b}();e.SuperMap.Widgets.CityTabsPage=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.AttributesPopContainer=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(186),g=b.AttributesPopContainer=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b),a.title=a.title?a.title:"属性";var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.rootContainer.firstChild.hidden=!0,a.attributes=a.attributes?a.attributes:[],c._createAttributesTable(a.attributes),c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,f.PopContainer),d(b,[{key:"_createAttributesTable",value:function(a){var b=document.createElement("table");b.setAttribute("class","widget-popcontainer__content__table");var c=document.createElement("tbody"),d=!0;for(var e in a){var f=document.createElement("tr");d&&f.setAttribute("class","widget-popcontainer__content__td--color");var g=document.createElement("td"),h=document.createElement("Span");h.innerHTML=e,g.appendChild(h);var i=document.createElement("td");i.innerHTML=a[e],f.appendChild(g),f.appendChild(i),c.appendChild(f),d=!d}b.appendChild(c),this.appendContent(b)}}]),b}();e.SuperMap.Widgets.AttributesPopContainer=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.DropDownBox=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(35),g=b.DropDownBox=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c._initView(a),c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,f.TemplateBase),d(b,[{key:"_initView",value:function(a){var b=document.createElement("div");b.className="widget-dropdownbox--container";var c=document.createElement("div");c.setAttribute("tabindex","1"),c.className="widget-dropdownbox",b.appendChild(c);var d=document.createElement("div");c.appendChild(d),this._createDropDownOption(a[0],d);var e=document.createElement("div");e.className="widget-dropdownbox__triangle-btn",c.appendChild(e);var f=document.createElement("div");f.className="widget-triangle-down-img",e.appendChild(f);var g={parentEle:c,dropDownContent:["widget-dropdownbox__content widget-dropdownbox__content--chart","dropDownContent"],scrollareaContent:"widget-selecttool__scrollarea__content",optionsArr:a,triangleBtn:f,dropDownTopContainer:d};this._createDropDownBox(g),this.rootContainer=b}},{key:"_createDropDownBox",value:function(a){var b=a.parentEle,c=a.dropDownTopContainer,d=document.createElement("div");d.className=a.dropDownContent[0],b.appendChild(d);var e=document.createElement("div");e.className=a.scrollareaContent,d.appendChild(e);for(var f=a.optionsArr,g=0;g<f.length;g++)this._createDropDownOption(f[g],e);var h=a.triangleBtn;this._dropDownClickEvent(b,d,h),this._eleOnblur(b,d,h);for(var i=e.children,j=function(a){i[a].onclick=function(){c.innerHTML=i[a].outerHTML}},k=0;k<i.length;k++)j(k)}},{key:"_createDropDownOption",value:function(a,b){var c=document.createElement("div");c.className="widget-dropdownbox__item";var d=a;d.dataValue&&c.setAttribute("data-value",d.dataValue),b.appendChild(c);var e=document.createElement("div");e.className="widget-dropdownbox__item__img",c.appendChild(e);var f=document.createElement("div");d.icon.className&&(f.className=d.icon.className),d.icon.background&&(f.style.background=d.icon.background),e.appendChild(f);var g=document.createElement("div");g.className="widget-dropdownbox__item__title",g.title=d.title,g.innerHTML=d.title,c.appendChild(g);var h=document.createElement("div");h.className="widget-dropdownbox__item__remark",h.title=d.remark,h.innerHTML=d.remark,c.appendChild(h)}},{key:"_dropDownClickEvent",value:function(a,b,c){a.onclick=function(a){"block"===b.style.display?(b.style.display="none",c.className="widget-triangle-down-img"):(b.style.display="block",c.className="triangle-up-img"),a.preventDefault(),a.stopPropagation()},a.onmousedown=function(a){a.target!==this&&(this.focus(),a.preventDefault(),a.stopPropagation())}}},{key:"_eleOnblur",value:function(a,b,c){a.onblur=function(){b.style.display="none",c.className="widget-triangle-down-img"}}},{key:"_createElement",value:function(a,b,c){var d=document.createElement(a||"div");return b&&(d.className=b),c&&c.appendChild(d),d}}]),b}();e.SuperMap.Widgets.DropDownBox=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Select=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(35),g=b.Select=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c._initView(a),c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,f.TemplateBase),d(b,[{key:"_initView",value:function(a){var b=this._createElement("div","widget-selecttool");a.labelName&&(this._createElement("label","widget-selecttool__lable--describe",b).innerHTML=a.labelName);var c=this._createElement("div","widget-selecttool--chart",b);c.setAttribute("tabindex","1");var d=this._createElement("div","widget-selecttool__name",c);d.title=a.optionsArr[0],d.innerHTML=a.optionsArr[0];var e=this._createElement("div","widget-selecttool__trianglebtn--chart",c),f=this._createElement("div","widget-triangle-down-img",e),g=this._createElement("div","widget-selecttool__content",c),h=this._createElement("div","widget-selecttool__content--chart",g),i=this._createElement("div","widget-selecttool__scrollarea__content",h);i.setAttribute("tabindex","1"),this.createOptions(i,a.optionsArr),this.optionClickEvent(i,d,a.optionsClickCb),this._selectClickEvent(c,g,f),this.rootContainer=b}},{key:"createOptions",value:function(a,b){for(var c in b){var d=this._createElement("div","widget-selecttool__option",a);d.title=b[c],d.innerHTML=b[c]}}},{key:"_selectClickEvent",value:function(a,b,c){a.onclick=function(a){"block"===b.style.display?(b.style.display="none",c.className="widget-triangle-down-img"):(b.style.display="block",c.className="triangle-up-img"),a.preventDefault(),a.stopPropagation()},a.onmousedown=function(a){a.target!==this&&(this.focus(),a.preventDefault(),a.stopPropagation())},a.onblur=function(){b.style.display="none",c.className="widget-triangle-down-img"}}},{key:"_createElement",value:function(a,b,c){var d=document.createElement(a||"div");return b&&(d.className=b),c&&c.appendChild(d),d}},{key:"optionClickEvent",value:function(a,b,c){for(var d=function(d){var e=a.children[d];e.onclick=function(){b.innerHTML=e.innerHTML,b.title=e.title,e.getAttribute("data-value")&&b.setAttribute("data-value",e.getAttribute("data-value")),c&&c(e)}},e=0;e<a.children.length;e++)d(e)}}]),b}();e.SuperMap.Widgets.Select=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.CommonContainer=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(35),g=b.CommonContainer=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a)),d=a.title?a.title:"";return c._initView(d),c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,f.TemplateBase),d(b,[{key:"_initView",value:function(a){var b=document.createElement("div");b.setAttribute("class","widget-container");var c=document.createElement("div");c.setAttribute("class","widget-title");var d=document.createElement("div");d.innerHTML=a,c.appendChild(d),b.appendChild(c);var e=document.createElement("div");return e.setAttribute("class","widget-content"),b.appendChild(e),this.content=e,this.rootContainer=b,b}},{key:"getContentElement",value:function(){return this.content}},{key:"appendContent",value:function(a){this.content.appendChild(a)}}]),b}();e.SuperMap.Widgets.CommonContainer=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.MessageBox=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=b.MessageBox=function(){function a(){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this._initView()}return d(a,[{key:"_initView",value:function(){var a=document.createElement("div");a.hidden=!0,a.setAttribute("class","widget-messageboxcontainer widget-border-bottom-orange");var b=document.createElement("div");b.setAttribute("class","icon"),this.icon=document.createElement("span"),this.icon.setAttribute("class","supermapol-icons-message-warning"),b.appendChild(this.icon),a.appendChild(b);var c=document.createElement("div");c.setAttribute("class","widget-messagebox"),c.innerHTML="",a.appendChild(c),this.messageBox=c;var d=document.createElement("div");d.setAttribute("class","widget-messagebox__cancelbtncontainer");var e=document.createElement("button");e.setAttribute("class","widget-messagebox__cancelBtn"),e.innerHTML="x",e.onclick=this.closeView.bind(this),d.appendChild(e),a.appendChild(d),this.messageBoxContainer=a,document.body.appendChild(this.messageBoxContainer)}},{key:"closeView",value:function(){this.messageBoxContainer.hidden=!0}},{key:"showView",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warring";"success"===b?(this.icon.setAttribute("class","supermapol-icons-message-success"),this.messageBoxContainer.setAttribute("class","widget-messageboxcontainer widget-border-bottom-green")):"failure"===b?(this.icon.setAttribute("class","supermapol-icons-message-failure"),this.messageBoxContainer.setAttribute("class","widget-messageboxcontainer widget-border-bottom-red")):"warring"===b&&(this.icon.setAttribute("class","supermapol-icons-message-warning"),this.messageBoxContainer.setAttribute("class","widget-messageboxcontainer widget-border-bottom-orange")),this.messageBox.innerHTML=a,this.messageBoxContainer.hidden=!1}}]),a}();e.SuperMap.Widgets.MessageBox=f},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.FileModel=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(70);b.FileModel=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.FileTypes=e.FileTypes,this.FileConfig=e.FileConfig,this.loadFileObject=b&&b.loadFileObject?b.loadFileObject:[]}return d(a,[{key:"set",value:function(a,b){this[a]=b}},{key:"get",value:function(a){return this[a]}}]),a}()},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.FileReaderUtil=b.widgetsUtil=b.PaginationContainer=b.NavTabsPage=b.CityTabsPage=b.IndexTabsPageContainer=b.PopContainer=b.AttributesPopContainer=b.DropDownBox=b.Select=b.CommonContainer=b.MessageBox=b.FileModel=b.FileConfig=b.FileTypes=void 0;var d=c(70),e=c(446),f=c(445),g=c(444),h=c(443),i=c(442),j=c(441),k=c(186),l=c(185),m=c(440),n=c(439),o=c(438),p=c(437);b.FileTypes=d.FileTypes,b.FileConfig=d.FileConfig,b.FileModel=e.FileModel,b.MessageBox=f.MessageBox,b.CommonContainer=g.CommonContainer,
b.Select=h.Select,b.DropDownBox=i.DropDownBox,b.AttributesPopContainer=j.AttributesPopContainer,b.PopContainer=k.PopContainer,b.IndexTabsPageContainer=l.IndexTabsPageContainer,b.CityTabsPage=m.CityTabsPage,b.NavTabsPage=n.NavTabsPage,b.PaginationContainer=o.PaginationContainer,b.widgetsUtil=p.widgetsUtil,b.FileReaderUtil=p.FileReaderUtil},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SmicStar=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(13),f=c(12);b.SmicStar=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.type="smicstar",c.refOriginalPosition&&2===c.refOriginalPosition.length||(c.refOriginalPosition=[0,0]),c.CLASS_NAME="SuperMap.LevelRenderer.Shape.SmicStar",c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,e.Shape),d(b,[{key:"destroy",value:function(){this.type=null,function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0}(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"buildPath",value:function(a,b){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var c=this.refOriginalPosition,d=b.n;if(d&&!(2>d)){var e=f.SUtil.Util_math.sin,g=f.SUtil.Util_math.cos,h=Math.PI,i=b.x+c[0],j=b.y+c[1],k=b.r,l=b.r0;null==l&&(l=d>4?k*g(2*h/d)/g(h/d):k/3);var m=h/d,n=-h/2,o=i+k*g(n),p=j+k*e(n);n+=m;var q=b.pointList=[];q.push([o,p]);for(var r,s=0,t=2*d-1;t>s;s++)r=s%2==0?l:k,q.push([i+r*g(n),j+r*e(n)]),n+=m;q.push([o,p]),a.moveTo(q[0][0],q[0][1]);for(var u=0;u<q.length;u++)a.lineTo(q[u][0],q[u][1]);a.closePath()}}},{key:"getRect",value:function(a){if(a.__rect)return a.__rect;this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var b,c=this.refOriginalPosition;return b="stroke"==a.brushType||"fill"==a.brushType?a.lineWidth||1:0,a.__rect={x:Math.round(a.x+c[0]-a.r-b/2),y:Math.round(a.y+c[1]-a.r-b/2),width:2*a.r+b,height:2*a.r+b},a.__rect}}]),b}()},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SmicRing=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(13);b.SmicRing=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.type="smicring",c.refOriginalPosition&&2===c.refOriginalPosition.length||(c.refOriginalPosition=[0,0]),c.CLASS_NAME="SuperMap.LevelRenderer.Shape.SmicRing",c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,e.Shape),d(b,[{key:"destroy",value:function(){this.type=null,function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0}(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"buildPath",value:function(a,b){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var c=this.refOriginalPosition;a.arc(b.x+c[0],b.y+c[1],b.r,0,2*Math.PI,!1),a.moveTo(b.x+c[0]+b.r0,b.y+c[1]),a.arc(b.x+c[0],b.y+c[1],b.r0,0,2*Math.PI,!0)}},{key:"getRect",value:function(a){if(a.__rect)return a.__rect;this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var b,c=this.refOriginalPosition;return b="stroke"==a.brushType||"fill"==a.brushType?a.lineWidth||1:0,a.__rect={x:Math.round(a.x+c[0]-a.r-b/2),y:Math.round(a.y+c[1]-a.r-b/2),width:2*a.r+b,height:2*a.r+b},a.__rect}}]),b}()},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SmicIsogon=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(13),f=c(12);b.SmicIsogon=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.type="smicisogon",c.refOriginalPosition&&2===c.refOriginalPosition.length||(c.refOriginalPosition=[0,0]),c.CLASS_NAME="SuperMap.LevelRenderer.Shape.SmicIsogon",c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,e.Shape),d(b,[{key:"destroy",value:function(){this.type=null,function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0}(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"buildPath",value:function(a,b){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var c=this.refOriginalPosition,d=f.SUtil.Util_math.sin,e=f.SUtil.Util_math.cos,g=Math.PI,h=b.n;if(h&&!(2>h)){var i=b.x+c[0],j=b.y+c[1],k=b.r,l=2*g/h,m=-g/2,n=i+k*e(m),o=j+k*d(m);m+=l;var p=b.pointList=[];p.push([n,o]);for(var q=0,r=h-1;r>q;q++)p.push([i+k*e(m),j+k*d(m)]),m+=l;p.push([n,o]),a.moveTo(p[0][0],p[0][1]);for(var s=0;s<p.length;s++)a.lineTo(p[s][0],p[s][1]);a.closePath()}}},{key:"getRect",value:function(a){if(a.__rect)return a.__rect;this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var b,c=this.refOriginalPosition;return b="stroke"==a.brushType||"fill"==a.brushType?a.lineWidth||1:0,a.__rect={x:Math.round(a.x+c[0]-a.r-b/2),y:Math.round(a.y+c[1]-a.r-b/2),width:2*a.r+b,height:2*a.r+b},a.__rect}}]),b}()},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SmicEllipse=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(13);b.SmicEllipse=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.type="smicellipse",c.refOriginalPosition&&2===c.refOriginalPosition.length||(c.refOriginalPosition=[0,0]),c.CLASS_NAME="SuperMap.LevelRenderer.Shape.SmicEllipse",c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,e.Shape),d(b,[{key:"destroy",value:function(){this.type=null,function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0}(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"buildPath",value:function(a,b){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var c=this.refOriginalPosition,d=.5522848,e=b.x+c[0],f=b.y+c[1],g=b.a,h=b.b,i=g*d,j=h*d;a.moveTo(e-g,f),a.bezierCurveTo(e-g,f-j,e-i,f-h,e,f-h),a.bezierCurveTo(e+i,f-h,e+g,f-j,e+g,f),a.bezierCurveTo(e+g,f+j,e+i,f+h,e,f+h),a.bezierCurveTo(e-i,f+h,e-g,f+j,e-g,f),a.closePath()}},{key:"getRect",value:function(a){if(a.__rect)return a.__rect;this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var b,c=this.refOriginalPosition;return b="stroke"==a.brushType||"fill"==a.brushType?a.lineWidth||1:0,a.__rect={x:Math.round(a.x+c[0]-a.a-b/2),y:Math.round(a.x+c[1]-a.b-b/2),width:2*a.a+b,height:2*a.b+b},a.__rect}}]),b}()},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.LevelRenderer=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(194),h=b.LevelRenderer=function(){function a(){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),a._instances={},a.Tool={},this.version="2.0.4",this.CLASS_NAME="SuperMap.LevelRenderer"}return d(a,[{key:"destroy",value:function(){this.dispose(),this.version=null}},{key:"init",value:function(b){var c=new g.Render(f.Util.createUniqueID("LRenderer_"),b);return a._instances[c.id]=c,c}},{key:"dispose",value:function(b){if(b)b.dispose(),this.delInstance(b.id);else{for(var c in a._instances)a._instances[c].dispose();a._instances={}}return this}},{key:"getInstance",value:function(b){return a._instances[b]}},{key:"delInstance",value:function(b){return delete a._instances[b],this}}]),a}();e.SuperMap.LevelRenderer=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SUtil=b.LevelRendererVector=b.Util=b.Transformable=b.Storage=b.SmicText=b.SmicStar=b.SmicSector=b.SmicRing=b.SmicRectangle=b.SmicPolygon=b.SmicPoint=b.SmicIsogon=b.SmicImage=b.SmicEllipse=b.SmicCircle=b.SmicBrokenLine=b.Shape=b.PaintLayer=b.Painter=b.Matrix=b.Math=b.Log=b.Http=b.Handler=b.Group=b.Eventful=b.LevelRendererEvent=b.Env=b.Easing=b.LevelRendererCurve=b.Config=b.ComputeBoundingBox=b.Color=b.Clip=b.Area=b.Animator=b.Animation=b.Render=b.LevelRenderer=void 0;var d=c(452),e=c(194),f=c(189),g=c(205),h=c(188),i=c(113),j=c(204),k=c(73),l=c(75),m=c(187),n=c(203),o=c(202),p=c(59),q=c(192),r=c(190),s=c(201),t=c(200),u=c(199),v=c(198),w=c(191),x=c(13),y=c(111),z=c(197),A=c(451),B=c(110),C=c(450),D=c(114),E=c(72),F=c(109),G=c(449),H=c(196),I=c(448),J=c(112),K=c(193),L=c(76),M=c(33),N=c(74),O=c(12);b.LevelRenderer=d.LevelRenderer,b.Render=e.Render,b.Animation=f.Animation,b.Animator=f.Animator,b.Area=g.Area,b.Clip=h.Clip,b.Color=i.Color,b.ComputeBoundingBox=j.ComputeBoundingBox,b.Config=k.Config,b.LevelRendererCurve=l.Curve,b.Easing=m.Easing,b.Env=n.Env,b.LevelRendererEvent=o.Event,b.Eventful=p.Eventful,b.Group=q.Group,b.Handler=r.Handler,b.Http=s.Http,b.Log=t.Log,b.Math=u.Math,b.Matrix=v.Matrix,b.Painter=w.Painter,b.PaintLayer=w.PaintLayer,b.Shape=x.Shape,b.SmicBrokenLine=y.SmicBrokenLine,b.SmicCircle=z.SmicCircle,b.SmicEllipse=A.SmicEllipse,b.SmicImage=B.SmicImage,b.SmicIsogon=C.SmicIsogon,b.SmicPoint=D.SmicPoint,b.SmicPolygon=E.SmicPolygon,b.SmicRectangle=F.SmicRectangle,b.SmicRing=G.SmicRing,b.SmicSector=H.SmicSector,b.SmicStar=I.SmicStar,b.SmicText=J.SmicText,b.Storage=K.Storage,b.Transformable=L.Transformable,b.Util=M.Util,b.LevelRendererVector=N.Vector,b.SUtil=O.SUtil},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.FeatureTheme=b.Sector=b.FeatureRectangle=b.FeaturePolygon=b.Point=b.FeatureLine=b.Label=b.Image=b.FeatureCircle=b.ShapeParameters=b.ShapeFactory=void 0;var d=c(27),e=c(26),f=c(115),g=c(206),h=c(116),i=c(79),j=c(80),k=c(78),l=c(207),m=c(77),n=c(71);b.ShapeFactory=d.ShapeFactory,b.ShapeParameters=e.ShapeParameters,b.FeatureCircle=f.Circle,b.Image=g.Image,b.Label=h.Label,b.FeatureLine=i.Line,b.Point=j.Point,b.FeaturePolygon=k.Polygon,b.FeatureRectangle=l.Rectangle,b.Sector=m.Sector,b.FeatureTheme=n.Theme},function(a,b,c){"use strict";function d(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}Object.defineProperty(b,"__esModule",{value:!0}),b.ThemeVector=void 0;var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=c(0),g=c(29),h=c(1),i=c(71),j=c(323),k=c(24),l=c(34),m=c(48),n=c(23),o=c(65),p=c(41),q=c(63),r=c(64),s=c(137),t=c(136),u=c(114),v=c(111),w=c(112),x=c(109),y=c(72),z=c(49),A=b.ThemeVector=function(a){function b(a,c,e,f,i){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var u=d(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));if(!a.geometry)return d(u);if(!(a.geometry instanceof g.Geometry))return d(u);u.dataBounds=a.geometry.getBounds(),u.nodesClipPixel=2,u.isHoverAble=!0,u.isMultiHover=!0,u.isClickAble=!0,u.highlightStyle=null,u.shapeOptions={},u.style=e||{},u.CLASS_NAME="SuperMap.Feature.Theme.Vector",u.style=e||{},f&&h.Util.copyAttributesWithClip(u,f,["shapeOptions","dataBounds"]),i&&h.Util.copyAttributesWithClip(u.shapeOptions,i);var v=a.geometry;return u.lonlat=u.dataBounds.getCenterLonLat(),u.location=u.getLocalXY(u.lonlat),v instanceof p.LinearRing?u.lineToTF(v):v instanceof n.LineString?u.lineToTF(v):v instanceof s.Curve||(v instanceof m.MultiPoint?u.multiPointToTF(v):v instanceof o.MultiLineString?u.multiLineStringToTF(v):v instanceof r.MultiPolygon?u.multiPolygonToTF(v):v instanceof q.Polygon?u.polygonToTF(v):v instanceof l.Collection||(v instanceof k.Point?u.pointToTF(v):v instanceof j.Rectangle?u.rectangleToTF(v):v instanceof t.GeoText&&u.geoTextToTF(v))),u}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,i.Theme),e(b,[{key:"destroy",value:function(){this.style=null,this.dataBounds=null,this.nodesClipPixel=null,this.isHoverAble=null,this.isMultiHover=null,this.isClickAble=null,this.highlightStyle=null,this.shapeOptions=null,function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0}(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"lineToTF",value:function(a){for(var b=a.components,c=[],d=[],e=this.location,f=[],g=this.nodesClipPixel,i=0;i<b.length;i++){var j=b[i];if(d=[],c=this.getLocalXY(j),d[0]=c[0]-e[0],d[1]=c[1]-e[1],f.length>0){var k=f[f.length-1];if(Math.abs(k[0]-d[0])<=g&&Math.abs(k[1]-d[1])<=g)continue}f.push(d)}if(f.length<2)return null;var l=new Object;(l=h.Util.copyAttributesWithClip(l,this.style,["pointList"])).pointList=f;var m=new v.SmicBrokenLine({style:l,clickable:this.isClickAble,hoverable:this.isHoverAble});this.highlightStyle&&(m.highlightStyle=this.highlightStyle),m.refOriginalPosition=this.location,m.refDataID=this.data.id,m.isHoverByRefDataID=this.isMultiHover,this.shapeOptions&&h.Util.copyAttributesWithClip(m,this.shapeOptions),this.shapes.push(m)}},{key:"multiPointToTF",value:function(a){for(var b=a.components,c=[],d=[],e=this.location,f=[],g=this.nodesClipPixel,i=0;i<b.length;i++){var j=b[i];if(d=[],c=this.getLocalXY(j),d[0]=c[0]-e[0],d[1]=c[1]-e[1],f.length>0){var k=f[f.length-1];if(Math.abs(k[0]-d[0])<=g&&Math.abs(k[1]-d[1])<=g)continue}f.push(d);var l=new Object;l.r=6,(l=h.Util.copyAttributesWithClip(l,this.style)).x=d[0],l.y=d[1];var m=new u.SmicPoint({style:l,clickable:this.isClickAble,hoverable:this.isHoverAble});this.highlightStyle&&(m.highlightStyle=this.highlightStyle),m.refOriginalPosition=e,m.refDataID=this.data.id,m.isHoverByRefDataID=this.isMultiHover,this.shapeOptions&&h.Util.copyAttributesWithClip(m,this.shapeOptions),this.shapes.push(m)}}},{key:"multiLineStringToTF",value:function(a){for(var b=a.components,c=0;c<b.length;c++){var d=b[c];this.lineToTF(d)}}},{key:"multiPolygonToTF",value:function(a){for(var b=a.components,c=0;c<b.length;c++){var d=b[c];this.polygonToTF(d)}}},{key:"pointToTF",value:function(a){var b=this.location,c=this.getLocalXY(a),d=new Object;d.r=6,(d=h.Util.copyAttributesWithClip(d,this.style)).x=c[0]-b[0],d.y=c[1]-b[1];var e=new u.SmicPoint({style:d,clickable:this.isClickAble,hoverable:this.isHoverAble});this.highlightStyle&&(e.highlightStyle=this.highlightStyle),e.refOriginalPosition=b,e.refDataID=this.data.id,e.isHoverByRefDataID=this.isMultiHover,this.shapeOptions&&h.Util.copyAttributesWithClip(e,this.shapeOptions),this.shapes.push(e)}},{key:"polygonToTF",value:function(a){for(var b=a.components,c=[],d=[],e=this.location,f=[],g=[],i=[],j=this.nodesClipPixel,k=0;k<b.length;k++){var l=b[k].components;if(0===k){f=[];for(var m=0;m<l.length;m++){if(d=[],c=this.getLocalXY(l[m]),d[0]=c[0]-e[0],d[1]=c[1]-e[1],f.length>0){var n=f[f.length-1];if(Math.abs(n[0]-d[0])<=j&&Math.abs(n[1]-d[1])<=j)continue}f.push(d)}}else{g=[];for(var o=0;o<l.length;o++){if(d=[],c=this.getLocalXY(l[o]),d[0]=c[0]-e[0],d[1]=c[1]-e[1],g.length>0){var p=g[g.length-1];if(Math.abs(p[0]-d[0])<=j&&Math.abs(p[1]-d[1])<=j)continue}g.push(d)}}g.length<2||i.push(g)}if(!(f.length<2)){var q={};(q=h.Util.copyAttributesWithClip(q,this.style,["pointList"])).pointList=f;var r=new y.SmicPolygon({style:q,clickable:this.isClickAble,hoverable:this.isHoverAble});this.highlightStyle&&(r.highlightStyle=this.highlightStyle),r.refOriginalPosition=this.location,r.refDataID=this.data.id,r.isHoverByRefDataID=this.isMultiHover,i.length>0&&(r.holePolygonPointLists=i),this.shapeOptions&&h.Util.copyAttributesWithClip(r,this.shapeOptions),this.shapes.push(r)}}},{key:"rectangleToTF",value:function(a){var b=this.location,c=new z.LonLat(a.x,a.y),d=this.layer.map.getResolution(),e=this.getLocalXY(c),f=new Object;f.r=6,(f=h.Util.copyAttributesWithClip(f,this.style)).x=e[0]-b[0],f.y=e[1]-b[1]-2*a.width/d,f.width=a.width/d,f.height=a.height/d;var g=new x.SmicRectangle({style:f,clickable:this.isClickAble,hoverable:this.isHoverAble});this.highlightStyle&&(g.highlightStyle=this.highlightStyle),g.refOriginalPosition=b,g.refDataID=this.data.id,g.isHoverByRefDataID=this.isMultiHover,this.shapeOptions&&h.Util.copyAttributesWithClip(g,this.shapeOptions),this.shapes.push(g)}},{key:"geoTextToTF",value:function(a){var b=this.location,c=this.getLocalXY(a),d=new Object;d.r=6,(d=h.Util.copyAttributesWithClip(d,this.style,["x","y","text"])).x=c[0]-b[0],d.y=c[1]-b[1],d.text=a.text;var e=new w.SmicText({style:d,clickable:this.isClickAble,hoverable:this.isHoverAble});this.highlightStyle&&(e.highlightStyle=this.highlightStyle),e.refOriginalPosition=b,e.refDataID=this.data.id,e.isHoverByRefDataID=this.isMultiHover,this.shapeOptions&&h.Util.copyAttributesWithClip(e,this.shapeOptions),this.shapes.push(e)}},{key:"updateAndAddShapes",value:function(){var a=this.getLocalXY(this.lonlat);this.location=a;for(var b=this.layer.renderer,c=0,d=this.shapes.length;d>c;c++){var e=this.shapes[c];e.refOriginalPosition=a,b.addShape(e)}}},{key:"getShapesCount",value:function(){return this.shapes.length}},{key:"getLocalXY",value:function(a){return this.layer.getLocalXY(a)}}]),b}();f.SuperMap.Feature.Theme.ThemeVector=A},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Ring=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(27),g=c(77),h=c(32),i=b.Ring=function(a){function b(a,c,d,e,f){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var g=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d,e,f));return g.CLASS_NAME="SuperMap.Feature.Theme.Ring",g}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,h.Graph),d(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"assembleShapes",value:function(){if(this.initBaseParameter()){var a=[{fillColor:"#ff9277"},{fillColor:"#dddd00"},{fillColor:"#ffc877"},{fillColor:"#bbe3ff"},{fillColor:"#d5ffbb"},{fillColor:"#bbbbff"},{fillColor:"#ddb000"},{fillColor:"#b0dd00"},{fillColor:"#e2bbff"},{fillColor:"#ffbbe3"},{fillColor:"#ff7777"},{fillColor:"#ff9900"},{fillColor:"#83dd00"},{fillColor:"#77e3ff"},{fillColor:"#778fff"},{fillColor:"#c877ff"},{fillColor:"#ff77ab"},{fillColor:"#ff6600"},{fillColor:"#aa8800"},{fillColor:"#77c7ff"},{fillColor:"#ad77ff"},{fillColor:"#ff77ff"},{fillColor:"#dd0083"},{fillColor:"#777700"},{fillColor:"#00aa00"},{fillColor:"#0088aa"},{fillColor:"#8400dd"},{fillColor:"#aa0088"},{fillColor:"#dd0000"},{fillColor:"#772e00"}],b=this.setting;b.useBackground&&this.shapes.push(f.ShapeFactory.Background(this.shapeFactory,this.chartBox,b));var c=this.dataValues;if(!(c.length<1)){for(var d=this.DVBCodomain,e=0;e<c.length;e++)if(c[e]<d[0]||c[e]>d[1])return;for(var h=0,i=0;i<c.length;i++)h+=Math.abs(c[i]);this.DVBUnitValue=360/h;for(var j=this.DVBUnitValue,k=this.DVBCenterPoint,l=0,m=0,n=l,o=this.DVBHeight<this.DVBWidth?this.DVBHeight/2:this.DVBWidth/2,p=b.innerRingRadius>=0&&b.innerRingRadius<o,q=void 0!==b.innerRingRadius&&!isNaN(b.innerRingRadius)&&p?b.innerRingRadius:0,r=0;r<c.length;r++){var s=Math.abs(c[r]);m=0===r?l+s*j:r===s.length-1?n:l+s*j;var t=new g.Sector(k[0],k[1],o,l,m,q);if(void 0===b.sectorStyleByFields){var u=r%a.length;t.style=f.ShapeFactory.ShapeStyleTool(null,b.sectorStyle,a,null,u)}else t.style=f.ShapeFactory.ShapeStyleTool(null,b.sectorStyle,b.sectorStyleByFields,b.sectorStyleByCodomain,r,c[r]);t.highlightStyle=f.ShapeFactory.ShapeStyleTool(null,b.sectorHoverStyle),void 0!==b.sectorHoverAble&&(t.hoverable=b.sectorHoverAble),void 0!==b.sectorClickAble&&(t.clickable=b.sectorClickAble),t.refDataID=this.data.id,t.dataInfo={field:this.fields[r],value:c[r]},this.shapes.push(this.shapeFactory.createShape(t)),l=m}this.shapesConvertToRelativeCoordinate()}}}}]),b}();e.SuperMap.Feature.Theme.Ring=i},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Point=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(27),g=c(80),h=c(32),i=b.Point=function(a){function b(a,c,d,e,f,g){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var h=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d,e,f,g));return h.CLASS_NAME="SuperMap.Feature.Theme.Point",h}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,h.Graph),d(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"assembleShapes",value:function(){var a=this.setting;if(a.dataViewBoxParameter||(void 0===a.useAxis||a.useAxis?a.dataViewBoxParameter=[45,15,15,15]:a.dataViewBoxParameter=[5,5,5,5]),this.initBaseParameter()){var b=this.dataViewBox,c=this.DVBCodomain;this.DVBUnitValue=(c[1]-c[0])/this.DVBHeight;var d=this.DVBUnitValue,e=this.dataValues,h=this.calculateXShapeInfo();if(h){var i,j,k=h.xPositions;(void 0===a.useBackground||a.useBackground)&&this.shapes.push(f.ShapeFactory.Background(this.shapeFactory,this.chartBox,a)),this.shapes=this.shapes.concat(f.ShapeFactory.GraphAxis(this.shapeFactory,b,a,h));for(var l=0,m=e.length;m>l;l++){if(e[l]<c[0]||e[l]>c[1])return null;i=k[l],j=b[1]-(e[l]-c[0])/d;var n=new g.Point(i,j);n.style=f.ShapeFactory.ShapeStyleTool({fillColor:"#ee9900"},a.pointStyle,a.pointStyleByFields,a.pointStyleByCodomain,l,e[l]),n.highlightStyle=f.ShapeFactory.ShapeStyleTool(null,a.pointHoverStyle),void 0!==a.pointHoverAble&&(n.hoverable=a.pointHoverAble),void 0!==a.pointClickAble&&(n.clickable=a.pointClickAble),n.refDataID=this.data.id,n.dataInfo={field:this.fields[l],value:e[l]},this.shapes.push(this.shapeFactory.createShape(n))}this.shapesConvertToRelativeCoordinate()}}}},{key:"calculateXShapeInfo",value:function(){var a,b=this.dataViewBox,c=this.setting,d=this.dataValues.length;if(1>d)return null;var e=[],f=this.DVBWidth,g=0;if(c.xShapeBlank&&c.xShapeBlank.length&&2==c.xShapeBlank.length){var h=f-((a=c.xShapeBlank)[0]+a[1]);if(d>=h)return null;g=h/(d-1)}else a=[g=f/(d+1),g,g];for(var i=0,j=0;d>j;j++)0==j?i=a[0]:i+=g,e.push(b[0]+i);return{xPositions:e,width:0}}}]),b}();e.SuperMap.Feature.Theme.Point=i},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Pie=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(27),g=c(77),h=c(32),i=b.Pie=function(a){function b(a,c,d,e,f){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var g=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d,e,f));return g.CLASS_NAME="SuperMap.Feature.Theme.Pie",g}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,h.Graph),d(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"assembleShapes",value:function(){var a=this.setting,b=[{fillColor:"#ff9277"},{fillColor:"#dddd00"},{fillColor:"#ffc877"},{fillColor:"#bbe3ff"},{fillColor:"#d5ffbb"},{fillColor:"#bbbbff"},{fillColor:"#ddb000"},{fillColor:"#b0dd00"},{fillColor:"#e2bbff"},{fillColor:"#ffbbe3"},{fillColor:"#ff7777"},{fillColor:"#ff9900"},{fillColor:"#83dd00"},{fillColor:"#77e3ff"},{fillColor:"#778fff"},{fillColor:"#c877ff"},{fillColor:"#ff77ab"},{fillColor:"#ff6600"},{fillColor:"#aa8800"},{fillColor:"#77c7ff"},{fillColor:"#ad77ff"},{fillColor:"#ff77ff"},{fillColor:"#dd0083"},{fillColor:"#777700"},{fillColor:"#00aa00"},{fillColor:"#0088aa"},{fillColor:"#8400dd"},{fillColor:"#aa0088"},{fillColor:"#dd0000"},{fillColor:"#772e00"}];if(this.initBaseParameter()){a.useBackground&&this.shapes.push(f.ShapeFactory.Background(this.shapeFactory,this.chartBox,a));var c=this.dataValues;if(!(c.length<1)){for(var d=this.DVBCodomain,e=0;e<c.length;e++)if(c[e]<d[0]||c[e]>d[1])return;for(var h=0,i=0;i<c.length;i++)h+=Math.abs(c[i]);this.DVBUnitValue=360/h;for(var j=this.DVBUnitValue,k=this.DVBCenterPoint,l=0,m=0,n=l,o=this.DVBHeight<this.DVBWidth?this.DVBHeight/2:this.DVBWidth/2,p=0;p<c.length;p++){var q=Math.abs(c[p]);(m=0===p?l+q*j:p===q.length-1?n:l+q*j)-l>=360&&(m=359.9999999);var r=new g.Sector(k[0],k[1],o,l,m);if(void 0===a.sectorStyleByFields){var s=p%b.length;r.style=f.ShapeFactory.ShapeStyleTool(null,a.sectorStyle,b,null,s)}else r.style=f.ShapeFactory.ShapeStyleTool(null,a.sectorStyle,a.sectorStyleByFields,a.sectorStyleByCodomain,p,c[p]);r.highlightStyle=f.ShapeFactory.ShapeStyleTool(null,a.sectorHoverStyle),void 0!==a.sectorHoverAble&&(r.hoverable=a.sectorHoverAble),void 0!==a.sectorClickAble&&(r.clickable=a.sectorClickAble),r.refDataID=this.data.id,r.dataInfo={field:this.fields[p],value:c[p]},this.shapes.push(this.shapeFactory.createShape(r)),l=m}this.shapesConvertToRelativeCoordinate()}}}}]),b}();e.SuperMap.Feature.Theme.Pie=i},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Line=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(27),g=c(80),h=c(79),i=c(32),j=b.Line=function(a){function b(a,c,d,e,f,g){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var h=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d,e,f,g));return h.CLASS_NAME="SuperMap.Feature.Theme.Line",h}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,i.Graph),d(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"assembleShapes",value:function(){var a=this.setting;if(a.dataViewBoxParameter||(void 0===a.useAxis||a.useAxis?a.dataViewBoxParameter=[45,15,15,15]:a.dataViewBoxParameter=[5,5,5,5]),this.initBaseParameter()){var b=this.dataViewBox,c=this.DVBCodomain;this.DVBUnitValue=(c[1]-c[0])/this.DVBHeight;var d=this.DVBUnitValue,e=this.dataValues;if(!(e.length<1)){var i=this.calculateXShapeInfo();if(i){var j,k,l=i.xPositions;(void 0===a.useBackground||a.useBackground)&&this.shapes.push(f.ShapeFactory.Background(this.shapeFactory,this.chartBox,a)),this.shapes=this.shapes.concat(f.ShapeFactory.GraphAxis(this.shapeFactory,b,a,i));for(var m=[],n=[],o=0,p=e.length;p>o;o++){if(e[o]<c[0]||e[o]>c[1])return null;j=l[o],k=b[1]-(e[o]-c[0])/d;var q=new g.Point(j,k);q.style=f.ShapeFactory.ShapeStyleTool({fillColor:"#ee9900"},a.pointStyle,a.pointStyleByFields,a.pointStyleByCodomain,o,e[o]),q.highlightStyle=f.ShapeFactory.ShapeStyleTool(null,a.pointHoverStyle),void 0!==a.pointHoverAble&&(q.hoverable=a.pointHoverAble),void 0!==a.pointClickAble&&(q.clickable=a.pointClickAble),q.refDataID=this.data.id,q.dataInfo={field:this.fields[o],value:e[o]},n.push(this.shapeFactory.createShape(q));var r=[j,k];m.push(r)}var s=new h.Line(m);s.style=f.ShapeFactory.ShapeStyleTool({strokeColor:"#ee9900"},a.lineStyle),s.clickable=!1,s.hoverable=!1;var t=this.shapeFactory.createShape(s);this.shapes.push(t),this.shapes=this.shapes.concat(n),this.shapesConvertToRelativeCoordinate()}}}}},{key:"calculateXShapeInfo",value:function(){var a,b=this.dataViewBox,c=this.setting,d=this.dataValues.length;if(1>d)return null;var e=[],f=this.DVBWidth,g=0;if(c.xShapeBlank&&c.xShapeBlank.length&&2==c.xShapeBlank.length){var h=f-((a=c.xShapeBlank)[0]+a[1]);if(d>=h)return null;g=h/(d-1)}else a=[g=f/(d+1),g,g];for(var i=0,j=0;d>j;j++)0==j?i=a[0]:i+=g,e.push(b[0]+i);return{xPositions:e,width:0}}}]),b}();e.SuperMap.Feature.Theme.Line=j},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Circle=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(71),g=c(115),h=c(27),i=c(195),j=b.Circle=function(a){function b(a,c,d,e,f){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var g=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d,e,f));return g.CLASS_NAME="SuperMap.Feature.Theme.Circle",g}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,i.RankSymbol),d(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"assembleShapes",value:function(){if(!this.setting)return!1;var a=this.setting;if(!a.codomain)return!1;var b=void 0===a.decimalNumber||isNaN(a.decimalNumber)?-1:a.decimalNumber,c=f.Theme.getDataValues(this.data,this.fields,b);this.dataValues=c||[];var d=this.dataValues;a.maxR||(a.maxR=100),a.minR||(a.minR=0);var e=this.DVBCodomain;e&&e[1]-e[0]>0?this.DVBUnitValue=a.maxR/(e[1]-e[0]):this.DVBUnitValue=a.maxR;var i=this.DVBUnitValue,j=d[0]*i+a.minR;if(this.width=2*j,this.height=2*j,this.initBaseParameter()&&(!e||!(d[0]<e[0]||d[0]>e[1]))){var k=this.DVBCenterPoint,l=new g.Circle(k[0],k[1],j);l.style=h.ShapeFactory.ShapeStyleTool(null,a.circleStyle,null,null,0),void 0!==a.fillColor?l.style.fillColor=a.fillColor:l.style.fillColor="#ff9277",l.highlightStyle=h.ShapeFactory.ShapeStyleTool(null,a.circleHoverStyle),void 0!==a.circleHoverAble&&(l.hoverable=a.circleHoverAble),void 0!==a.circleClickAble&&(l.clickable=a.circleClickAble),l.refDataID=this.data.id,l.dataInfo={field:this.fields[0],r:j,value:d[0]},this.shapes.push(this.shapeFactory.createShape(l)),this.shapesConvertToRelativeCoordinate()}}}]),b}();e.SuperMap.Feature.Theme.Circle=j},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Bar3D=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(27),h=c(78),i=c(32),j=b.Bar3D=function(a){function b(a,c,d,e,f){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var g=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d,e,f));return g.CLASS_NAME="SuperMap.Feature.Theme.Bar3D",g}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,i.Graph),d(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"assembleShapes",value:function(){var a=this.setting;if(a.dataViewBoxParameter||(void 0===a.useAxis||a.useAxis?a.dataViewBoxParameter=[45,25,20,20]:a.dataViewBoxParameter=[5,5,5,5]),a.axisUseArrow=void 0===a.axisUseArrow||a.axisUseArrow,a.axisXLabelsOffset=void 0!==a.axisXLabelsOffset?a.axisXLabelsOffset:[-10,10],this.initBaseParameter()){var b=this.DVBCodomain;this.DVBUnitValue=(b[1]-b[0])/this.DVBHeight;var c=this.dataViewBox,d=this.dataValues;if(!(d.length<1)){for(var e=0,i=d.length;i>e;e++)if(d[e]<b[0]||d[e]>b[1])return;var j=this.calculateXShapeInfo();if(j){var k=j.xPositions,l=j.width;(void 0===a.useBackground||a.useBackground)&&this.shapes.push(g.ShapeFactory.Background(this.shapeFactory,this.chartBox,a)),(!a.axis3DParameter||isNaN(a.axis3DParameter)||a.axis3DParameter<15)&&(a.axis3DParameter=20),(void 0===a.useAxis||a.useAxis)&&(this.shapes=this.shapes.concat(g.ShapeFactory.GraphAxis(this.shapeFactory,c,a,j)));for(var m=a.bar3DParameter&&!isNaN(a.bar3DParameter)?a.bar3DParameter:10,n=0;n<d.length;n++){var o=c[1]-(d[n]-b[0])/this.DVBUnitValue,p=k[n]-l/2,q=k[n]+l/2,r=[[p,o],[q,o],[q-m,o+m],[p-m,o+m]],s=[[q,o],[q-m,o+m],[q-m,c[1]+m],[q,c[1]]],t=[[p-m,c[1]+m],[q-m,c[1]+m],[q-m,o+m],[p-m,o+m]];0>=m&&(t=[[p,c[1]],[q,c[1]],[q,o],[p,o]]);var u=new h.Polygon(r),v=new h.Polygon(s),w=new h.Polygon(t);a.barSideStyle=a.barSideStyle?a.barSideStyle:a.barFaceStyle,a.barSideStyleByFields=a.barSideStyleByFields?a.barSideStyleByFields:a.barFaceStyleByFields,a.barSideStyleByCodomain=a.barSideStyleByCodomain?a.barSideStyleByCodomain:a.barFaceStyleByCodomain,a.barTopStyle=a.barTopStyle?a.barTopStyle:a.barFaceStyle,a.barTopStyleByFields=a.barTopStyleByFields?a.barTopStyleByFields:a.barFaceStyleByFields,a.barTopStyleByCodomain=a.barTopStyleByCodomain?a.barTopStyleByCodomain:a.barFaceStyleByCodomain,w.style=g.ShapeFactory.ShapeStyleTool({stroke:!0,strokeColor:"#ffffff",fillColor:"#ee9900"},a.barFaceStyle,a.barFaceStyleByFields,a.barFaceStyleByCodomain,n,d[n]),v.style=g.ShapeFactory.ShapeStyleTool({stroke:!0,strokeColor:"#ffffff",fillColor:"#ee9900"},a.barSideStyle,a.barSideStyleByFields,a.barSideStyleByCodomain,n,d[n]),u.style=g.ShapeFactory.ShapeStyleTool({stroke:!0,strokeColor:"#ffffff",fillColor:"#ee9900"},a.barTopStyle,a.barTopStyleByFields,a.barTopStyleByCodomain,n,d[n]),a.barSideHoverStyle=a.barSideHoverStyle?a.barSideHoverStyle:a.barFaceHoverStyle,a.barTopHoverStyle=a.barTopHoverStyle?a.barTopHoverStyle:a.barFaceHoverStyle,w.highlightStyle=g.ShapeFactory.ShapeStyleTool({stroke:!0},a.barFaceHoverStyle),v.highlightStyle=g.ShapeFactory.ShapeStyleTool({stroke:!0},a.barSideHoverStyle),u.highlightStyle=g.ShapeFactory.ShapeStyleTool({stroke:!0},a.barTopHoverStyle),u.refDataID=v.refDataID=w.refDataID=this.data.id,u.isHoverByRefDataID=v.isHoverByRefDataID=w.isHoverByRefDataID=!0,u.refDataHoverGroup=v.refDataHoverGroup=w.refDataHoverGroup=f.Util.createUniqueID("lr_shg"),u.dataInfo=v.dataInfo=w.dataInfo={field:this.fields[n],value:d[n]},void 0!==a.barHoverAble&&(u.hoverable=v.hoverable=w.hoverable=a.barHoverAble),void 0!==a.barClickAble&&(u.clickable=v.clickable=w.clickable=a.barClickAble),this.shapes.push(this.shapeFactory.createShape(v)),this.shapes.push(this.shapeFactory.createShape(u)),this.shapes.push(this.shapeFactory.createShape(w))}this.shapesConvertToRelativeCoordinate()}}}}},{key:"calculateXShapeInfo",value:function(){var a,b=this.dataViewBox,c=this.setting,d=this.dataValues.length;if(1>d)return null;var e=[],f=0,g=this.DVBWidth;if(c.xShapeBlank&&c.xShapeBlank.length&&3==c.xShapeBlank.length){var h=g-((a=c.xShapeBlank)[0]+a[2]+(d-1)*a[1]);if(d>=h)return null;f=h/d}else a=[f=g/(2*d+1),f,f];for(var i=0,j=0;d>j;j++)0==j?i=a[0]+f/2:i+=f+a[1],e.push(b[0]+i);return{xPositions:e,width:f}}}]),b}();e.SuperMap.Feature.Theme.Bar3D=j},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Bar=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(27),g=c(78),h=c(113),i=c(1),j=c(32);c(116),c(79);var k=b.Bar=function(a){function b(a,c,d,e,f){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var g=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d,e,f));return g.CLASS_NAME="SuperMap.Feature.Theme.Bar",g}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,j.Graph),d(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"assembleShapes",value:function(){var a={showShadow:!0,shadowBlur:8,shadowColor:"rgba(100,100,100,0.8)",shadowOffsetX:2,shadowOffsetY:2},b=this.setting;if(b.barLinearGradient||(b.barLinearGradient=[["#00FF00","#00CD00"],["#00CCFF","#5E87A2"],["#00FF66","#669985"],["#CCFF00","#94A25E"],["#FF9900","#A2945E"]]),b.dataViewBoxParameter||(void 0===b.useAxis||b.useAxis?b.dataViewBoxParameter=[45,15,15,15]:b.dataViewBoxParameter=[5,5,5,5]),this.initBaseParameter()){var c=this.DVBCodomain;this.DVBUnitValue=(c[1]-c[0])/this.DVBHeight;var d=this.dataViewBox,e=this.dataValues;if(!(e.length<1)){for(var h=0,j=e.length;j>h;h++)if(e[h]<c[0]||e[h]>c[1])return;var k=this.calculateXShapeInfo();if(k){var l=k.xPositions,m=k.width;(void 0===b.useBackground||b.useBackground)&&this.shapes.push(f.ShapeFactory.Background(this.shapeFactory,this.chartBox,b)),(void 0===b.useAxis||b.useAxis)&&(this.shapes=this.shapes.concat(f.ShapeFactory.GraphAxis(this.shapeFactory,d,b,k)));for(var n=0;n<e.length;n++){var o=d[1]-(e[n]-c[0])/this.DVBUnitValue,p=[[l[n]-m/2,d[1]-1],[l[n]+m/2,d[1]-1],[l[n]+m/2,o],[l[n]-m/2,o]],q=new g.Polygon(p);if(void 0===b.showShadow||b.showShadow){if(b.barShadowStyle){var r=b.barShadowStyle;r.shadowBlur&&(a.shadowBlur=r.shadowBlur),r.shadowColor&&(a.shadowColor=r.shadowColor),r.shadowOffsetX&&(a.shadowOffsetX=r.shadowOffsetX),r.shadowOffsetY&&(a.shadowOffsetY=r.shadowOffsetY)}q.style={},i.Util.copyAttributesWithClip(q.style,a)}q.refDataID=this.data.id,q.dataInfo={field:this.fields[n],value:e[n]},void 0!==b.barHoverAble&&(q.hoverable=b.barHoverAble),void 0!==b.barClickAble&&(q.clickable=b.barClickAble),this.shapes.push(this.shapeFactory.createShape(q))}this.shapesConvertToRelativeCoordinate()}}}}},{key:"calculateXShapeInfo",value:function(){var a,b=this.dataViewBox,c=this.setting,d=this.dataValues.length;if(1>d)return null;var e=[],f=0,g=this.DVBWidth;if(c.xShapeBlank&&c.xShapeBlank.length&&3==c.xShapeBlank.length){var h=g-((a=c.xShapeBlank)[0]+a[2]+(d-1)*a[1]);if(d>=h)return null;f=h/d}else a=[f=g/(2*d+1),f,f];for(var i=0,j=0;d>j;j++)0==j?i=a[0]+f/2:i+=f+a[1],e.push(b[0]+i);return{xPositions:e,width:f}}},{key:"resetLinearGradient",value:function(){if(this.RelativeCoordinate)for(var a=this.shapes.length,b=this.setting.barLinearGradient,c=-1,d=0;a>d;d++){var e=this.shapes[d];if("SuperMap.LevelRenderer.Shape.SmicPolygon"===e.CLASS_NAME){var f=e.style,g=this.location[0]+f.pointList[0][0],i=this.location[0]+f.pointList[1][0];++c>=b.length&&(c%=b.length);var j=b[c][0],k=b[c][1],l=(new h.Color).getLinearGradient(g,0,i,0,[[0,j],[1,k]]);e.style.color=l}}}}]),b}();e.SuperMap.Feature.Theme.Bar=k},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SUtil=b.LevelRendererVector=b.Util=b.Transformable=b.Storage=b.SmicText=b.SmicStar=b.SmicSector=b.SmicRing=b.SmicRectangle=b.SmicPolygon=b.SmicPoint=b.SmicIsogon=b.SmicImage=b.SmicEllipse=b.SmicCircle=b.SmicBrokenLine=b.Shape=b.PaintLayer=b.Painter=b.Matrix=b.Math=b.Log=b.Http=b.Handler=b.Group=b.Eventful=b.LevelRendererEvent=b.Env=b.Easing=b.LevelRendererCurve=b.Config=b.ComputeBoundingBox=b.Color=b.Clip=b.Area=b.Animator=b.Animation=b.Render=b.LevelRenderer=b.FeatureTheme=b.Sector=b.FeatureRectangle=b.FeaturePolygon=b.Point=b.FeatureLine=b.Label=b.Image=b.FeatureCircle=b.ShapeParameters=b.ShapeFactory=b.ThemeVector=b.Ring=b.RankSymbol=b.OverlayPoint=b.Pie=b.Line=b.Graph=b.Circle=b.Bar3D=b.Bar=void 0;var d=c(462),e=c(461),f=c(460),g=c(32),h=c(459),i=c(458),j=c(457),k=c(195),l=c(456),m=c(455),n=c(454),o=c(453);b.Bar=d.Bar,b.Bar3D=e.Bar3D,b.Circle=f.Circle,b.Graph=g.Graph,b.Line=h.Line,b.Pie=i.Pie,b.OverlayPoint=j.Point,b.RankSymbol=k.RankSymbol,b.Ring=l.Ring,b.ThemeVector=m.ThemeVector,b.ShapeFactory=n.ShapeFactory,b.ShapeParameters=n.ShapeParameters,b.FeatureCircle=n.FeatureCircle,b.Image=n.Image,b.Label=n.Label,b.FeatureLine=n.FeatureLine,b.Point=n.Point,b.FeaturePolygon=n.FeaturePolygon,b.FeatureRectangle=n.FeatureRectangle,b.Sector=n.Sector,b.FeatureTheme=n.FeatureTheme,b.LevelRenderer=o.LevelRenderer,b.Render=o.Render,b.Animation=o.Animation,b.Animator=o.Animator,b.Area=o.Area,b.Clip=o.Clip,b.Color=o.Color,b.ComputeBoundingBox=o.ComputeBoundingBox,b.Config=o.Config,b.LevelRendererCurve=o.LevelRendererCurve,b.Easing=o.Easing,b.Env=o.Env,b.LevelRendererEvent=o.LevelRendererEvent,b.Eventful=o.Eventful,b.Group=o.Group,b.Handler=o.Handler,b.Http=o.Http,b.Log=o.Log,b.Math=o.Math,b.Matrix=o.Matrix,b.Painter=o.Painter,b.PaintLayer=o.PaintLayer,b.Shape=o.Shape,b.SmicBrokenLine=o.SmicBrokenLine,b.SmicCircle=o.SmicCircle,b.SmicEllipse=o.SmicEllipse,b.SmicImage=o.SmicImage,b.SmicIsogon=o.SmicIsogon,b.SmicPoint=o.SmicPoint,b.SmicPolygon=o.SmicPolygon,b.SmicRectangle=o.SmicRectangle,b.SmicRing=o.SmicRing,b.SmicSector=o.SmicSector,b.SmicStar=o.SmicStar,b.SmicText=o.SmicText,b.Storage=o.Storage,b.Transformable=o.Transformable,b.Util=o.Util,b.LevelRendererVector=o.LevelRendererVector,b.SUtil=o.SUtil},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ThemeStyle=void 0;var d=c(0),e=c(1),f=b.ThemeStyle=function g(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,g),a=a||{},this.fill=!0,this.fillColor="#000000",this.fillOpacity=1,this.stroke=!1,this.strokeColor="#000000",this.strokeOpacity=1,this.strokeWidth=1,this.strokeLinecap="butt",this.strokeLineJoin="miter",this.strokeDashstyle="solid",this.pointRadius=6,this.shadowBlur=0,this.shadowColor="#000000",this.shadowOffsetX=0,this.shadowOffsetY=0,this.label="",this.labelRect=!1,this.fontColor="",this.fontSize=12,this.fontStyle="normal",this.fontVariant="normal",this.fontWeight="normal",this.fontFamily="arial,sans-serif",this.labelPosition="top",this.labelAlign="center",this.labelBaseline="middle",this.labelXOffset=0,this.labelYOffset=0,e.Util.extend(this,a)};d.SuperMap.ThemeStyle=f},function(a,b,c){"use strict";(function(b){function c(a,b){return function(a,b){for(var c=-1,d=a?a.length:0,e=Array(d);++c<d;)e[c]=b(a[c],c,a);return e}(b,function(b){return[b,a[b]]})}function d(a,b){var c=X(a)||function(a){return function(a){return function(a){return!!a&&"object"==(void 0===a?"undefined":p(a))}(a)&&j(a)}(a)&&G.call(a,"callee")&&(!J.call(a,"callee")||H.call(a)==r)}(a)?function(a,b){for(var c=-1,d=Array(a);++c<a;)d[c]=b(c);return d}(a.length,String):[],d=c.length,e=!!d;for(var f in a)!b&&!G.call(a,f)||e&&("length"==f||h(f,d))||c.push(f);return c}function e(a){return!(!l(a)||E&&E in a)&&(k(a)||function(a){var b=!1;if(null!=a&&"function"!=typeof a.toString)try{b=!!(a+"")}catch(a){}return b}(a)?I:w).test(i(a))}function f(a){if(c=(b=a)&&b.constructor,d="function"==typeof c&&c.prototype||C,b!==d)return K(a);var b,c,d,e=[];for(var f in Object(a))G.call(a,f)&&"constructor"!=f&&e.push(f);return e}function g(a,b){var c=function(a,b){return null==a?void 0:a[b]}(a,b);return e(c)?c:void 0}function h(a,b){return!!(b=null==b?q:b)&&("number"==typeof a||x.test(a))&&a>-1&&a%1==0&&b>a}function i(a){if(null!=a){try{return F.call(a)}catch(a){}try{return a+""}catch(a){}}return""}function j(a){return null!=a&&function(a){return"number"==typeof a&&a>-1&&a%1==0&&q>=a}(a.length)&&!k(a)}function k(a){var b=l(a)?H.call(a):"";return b==s||b==t}function l(a){var b=void 0===a?"undefined":p(a);return!!a&&("object"==b||"function"==b)}var m,n,o,p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},q=9007199254740991,r="[object Arguments]",s="[object Function]",t="[object GeneratorFunction]",u="[object Map]",v="[object Set]",w=/^\[object .+?Constructor\]$/,x=/^(?:0|[1-9]\d*)$/,y="object"==(void 0===b?"undefined":p(b))&&b&&b.Object===Object&&b,z="object"==("undefined"==typeof self?"undefined":p(self))&&self&&self.Object===Object&&self,A=y||z||Function("return this")(),B=Function.prototype,C=Object.prototype,D=A["__core-js_shared__"],E=(m=/[^.]+$/.exec(D&&D.keys&&D.keys.IE_PROTO||""))?"Symbol(src)_1."+m:"",F=B.toString,G=C.hasOwnProperty,H=C.toString,I=RegExp("^"+F.call(G).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),J=C.propertyIsEnumerable,K=(n=Object.keys,o=Object,function(a){return n(o(a))}),L=g(A,"DataView"),M=g(A,"Map"),N=g(A,"Promise1"),O=g(A,"Set"),P=g(A,"WeakMap"),Q=i(L),R=i(M),S=i(N),T=i(O),U=i(P),V=function(a){return H.call(a)};(L&&"[object DataView]"!=V(new L(new ArrayBuffer(1)))||M&&V(new M)!=u||N&&"[object Promise1]"!=V(N.resolve())||O&&V(new O)!=v||P&&"[object WeakMap]"!=V(new P))&&(V=function(a){var b=H.call(a),c="[object Object]"==b?a.constructor:void 0,d=c?i(c):void 0;if(d)switch(d){case Q:return"[object DataView]";case R:return u;case S:return"[object Promise1]";case T:return v;case U:return"[object WeakMap]"}return b});var W,X=Array.isArray,Y=(W=function(a){return j(a)?d(a):f(a)},function(a){var b,d,e,f=V(a);return f==u?(b=a,d=-1,e=Array(b.size),b.forEach(function(a,b){e[++d]=[b,a]}),e):f==v?function(a){var b=-1,c=Array(a.size);return a.forEach(function(a){c[++b]=[a,a]}),c}(a):c(a,W(a))});a.exports=Y}).call(this,c(132))},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0}),b.CartoCSS=void 0;var e,f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=c(0),i=c(465),j=(e=i)&&e.__esModule?e:{"default":e},k=b.CartoCSS=function(){function a(b){d(this,a),this.env=null,this.parser=null,this.ruleSet=null,this.cartoStr="",this.shaders=null,"string"==typeof b&&(this.cartoStr=b,this.env={frames:[],errors:[],error:function(a){this.errors.push(a)}},this.parser=this.getParser(this.env),this.parse(b),this.shaders=this.toShaders())}return g(a,[{key:"getParser",value:function(a){function b(){k=n[j],l=i,o=i}function c(){n[j]=k,o=i=l}function d(){i>o&&(n[j]=n[j].slice(i-o),o=i)}function e(a){var b,c,e,f;if(a instanceof Function)return a.call(p.parsers);if("string"==typeof a)b=g.charAt(i)===a?a:null,c=1,d();else{if(d(),!(b=a.exec(n[j])))return null;c=b[0].length}if(b){var h=i+=c;for(f=i+n[j].length-c;f>i&&(32===(e=g.charCodeAt(i))||10===e||9===e);)i++;return n[j]=n[j].slice(c+(i-h)),o=i,0===n[j].length&&j<n.length-1&&j++,"string"==typeof b?b:1===b.length?b[0]:b}}function f(b){var c,d={index:m,filename:a.filename,message:"Parse error.",line:0,column:-1};for(var e in d)0===b[e]&&(b[e]=d[e]);c=b.filename&&q.env.inputs&&q.env.inputs[b.filename]?q.env.inputs[b.filename]:g,b.line=(c.slice(0,b.index).match(/\n/g)||"").length+1;for(var f=b.index;f>=0&&"\n"!==c.charAt(f);f--)b.column++;return new Error([b.filename,b.line,b.column,b.message].join(";"))}var g,i,j,k,l,m,n,o,p,q=this;return this.env=a=a||{},this.env.filename=this.env.filename||null,this.env.inputs=this.env.inputs||{},p={parse:function(b){var c,d=null;if(i=j=o=m=0,n=[],g=b.replace(/\r\n/g,"\n"),a.filename&&(q.env.inputs[a.filename]=g),n=function(a){for(var b,c,e,f,h=0,i=/(?:@\{[\w-]+\}|[^"'`\{\}\/\(\)\\])+/g,j=/\/\*(?:[^*]|\*+[^\/*])*\*+\/|\/\/.*/g,k=/"((?:[^"\\\r\n]|\\.)*)"|'((?:[^'\\\r\n]|\\.)*)'|`((?:[^`]|\\.)*)`/g,l=0,m=a[0],n=0;n<g.length;)if(i.lastIndex=n,(b=i.exec(g))&&b.index===n&&(n+=b[0].length,m.push(b[0])),e=g.charAt(n),j.lastIndex=k.lastIndex=n,(b=k.exec(g))&&b.index===n)n+=b[0].length,m.push(b[0]);else if(c||"/"!==e||"/"!==(f=g.charAt(n+1))&&"*"!==f||!(b=j.exec(g))||b.index!==n){switch(e){case"{":if(!c){l++,m.push(e);break}case"}":if(!c){l--,m.push(e),a[++h]=m=[];break}case"(":if(!c){c=!0,m.push(e);break}case")":if(c){c=!1,m.push(e);break}default:m.push(e)}n++}else n+=b[0].length,m.push(b[0]);return 0!==l&&(d={index:n-1,type:"Parse",message:l>0?"missing closing `}`":"missing opening `{`"}),a.map(function(a){return a.join("")})}([[]]),d)throw f(d);var k=function(a,b){var c=a.specificity,d=b.specificity;return c[0]!=d[0]?d[0]-c[0]:c[1]!=d[1]?d[1]-c[1]:c[2]!=d[2]?d[2]-c[2]:d[3]-c[3]};return(c=new h.SuperMap.CartoCSS.Tree.Ruleset([],e(this.parsers.primary))).root=!0,c.toList=function(a){a.error=function(b){a.errors||(a.errors=new Error("")),a.errors.message?a.errors.message+="\n"+f(b).message:a.errors.message=f(b).message},a.frames=a.frames||[];var b=this.flatten([],[],a);return b.sort(k),b},c},parsers:{primary:function(){for(var a,b=[];(a=e(this.rule)||e(this.ruleset)||e(this.comment))||e(/^[\s\n]+/)||(a=e(this.invalid));)a&&b.push(a);return b},invalid:function(){var a=e(/^[^;\n]*[;\n]/);return a?new h.SuperMap.CartoCSS.Tree.Invalid(a,l):void 0},comment:function(){var a;return"/"===g.charAt(i)?"/"===g.charAt(i+1)?new h.SuperMap.CartoCSS.Tree.Comment(e(/^\/\/.*/),!0):(a=e(/^\/\*(?:[^*]|\*+[^\/*])*\*+\/\n?/))?new h.SuperMap.CartoCSS.Tree.Comment(a):void 0:void 0},entities:{quoted:function(){if('"'===g.charAt(i)||"'"===g.charAt(i)){var a=e(/^"((?:[^"\\\r\n]|\\.)*)"|'((?:[^'\\\r\n]|\\.)*)'/);return a?new h.SuperMap.CartoCSS.Tree.Quoted(a[1]||a[2]):void 0}},field:function(){if(e("[")){var a=e(/(^[^\]]+)/);if(e("]"))return a?new h.SuperMap.CartoCSS.Tree.Field(a[1]):void 0}},comparison:function(){var a=e(/^=~|=|!=|<=|>=|<|>/);return a?a:void 0},keyword:function(){var a=e(/^[A-Za-z\u4e00-\u9fa5-]+[A-Za-z-0-9\u4e00-\u9fa5_]*/);return a?new h.SuperMap.CartoCSS.Tree.Keyword(a):void 0},call:function(){var a,b;if(a=/^([\w\-]+|%)\(/.exec(n[j])){if("url"===(a=a[1]))return null;if(i+=a.length,e("("),b=e(this.entities.arguments),e(")"))return a?new h.SuperMap.CartoCSS.Tree.Call(a,b,i):void 0}},arguments:function(){for(var a,b=[];(a=e(this.expression))&&(b.push(a),e(",")););return b},literal:function(){return e(this.entities.dimension)||e(this.entities.keywordcolor)||e(this.entities.hexcolor)||e(this.entities.quoted)},url:function(){var a;return"u"===g.charAt(i)&&e(/^url\(/)?(a=e(this.entities.quoted)||e(this.entities.variable)||e(/^[\-\w%@$\/.&=:;#+?~]+/)||"",e(")")?new h.SuperMap.CartoCSS.Tree.URL(void 0!==a.value||a instanceof h.SuperMap.CartoCSS.Tree.Variable?a:new h.SuperMap.CartoCSS.Tree.Quoted(a)):new h.SuperMap.CartoCSS.Tree.Invalid(a,l,"Missing closing ) in URL.")):void 0},variable:function(){var b,c=i;return"@"===g.charAt(i)&&(b=e(/^@[\w-]+/))?new h.SuperMap.CartoCSS.Tree.Variable(b,c,a.filename):void 0},hexcolor:function(){var a;return"#"===g.charAt(i)&&(a=e(/^#([a-fA-F0-9]{6}|[a-fA-F0-9]{3})/))?new h.SuperMap.CartoCSS.Tree.Color(a[1]):void 0},keywordcolor:function(){var a=n[j].match(/^[a-z]+/);return a&&a[0]in h.SuperMap.CartoCSS.Tree.Reference.data.colors?new h.SuperMap.CartoCSS.Tree.Color(h.SuperMap.CartoCSS.Tree.Reference.data.colors[e(/^[a-z]+/)]):void 0},dimension:function(){var a=g.charCodeAt(i);if(!(a>57||45>a||47===a)){var b=e(/^(-?\d*\.?\d+(?:[eE][-+]?\d+)?)(\%|\w+)?/);return b?new h.SuperMap.CartoCSS.Tree.Dimension(b[1],b[2],l):void 0}}},variable:function(){var a;return"@"===g.charAt(i)&&(a=e(/^(@[\w-]+)\s*:/))?a[1]:void 0},entity:function(){var a=e(this.entities.call)||e(this.entities.literal),b=e(this.entities.field)||e(this.entities.variable),c=e(this.entities.url)||e(this.entities.keyword);return a||b||c},end:function(){var a;return e(";")||("string"==typeof(a="}")?g.charAt(i)===a:!!a.test(n[j]))},element:function(){var a=e(/^(?:[.#][\w\u4e00-\u9fa5\-]+|\*|Map)/);return a?new h.SuperMap.CartoCSS.Tree.Element(a):void 0},attachment:function(){var a=e(/^::([\w\-]+(?:\/[\w\-]+)*)/);return a?a[1]:void 0},selector:function(){for(var a,b,c,d,j,k=[],m=new h.SuperMap.CartoCSS.Tree.Filterset,n=[],o=0,p=0;(c=e(this.element))||(j=e(this.zoom))||(d=e(this.filter))||(a=e(this.attachment));){if(o++,c)k.push(c);else if(j)n.push(j),p++;else if(d){var q=m.add(d);if(q)throw f({message:q,index:i-1});p++}else{if(b)throw f({message:"Encountered second attachment name.",index:i-1});b=a}var r=g.charAt(i);if("{"===r||"}"===r||";"===r||","===r)break}return o?new h.SuperMap.CartoCSS.Tree.Selector(m,n,k,b,p,l):void 0},filter:function(){b();var c,d,g;if(e("[")&&(c=e(/^[a-zA-Z0-9\-_]+/)||e(this.entities.quoted)||e(this.entities.variable)||e(this.entities.keyword)||e(this.entities.field))&&(c instanceof h.SuperMap.CartoCSS.Tree.Quoted&&(c=new h.SuperMap.CartoCSS.Tree.Field(c.toString())),(d=e(this.entities.comparison))&&(g=e(this.entities.quoted)||e(this.entities.variable)||e(this.entities.dimension)||e(this.entities.keyword)||e(this.entities.field)))){if(!e("]"))throw f({message:"Missing closing ] of filter.",index:l-1});return c.is||(c=new h.SuperMap.CartoCSS.Tree.Field(c)),new h.SuperMap.CartoCSS.Tree.Filter(c,d,g,l,a.filename)}},zoom:function(){b();var a,d;return e(/^\[\s*zoom/g)&&(a=e(this.entities.comparison))&&(d=e(this.entities.variable)||e(this.entities.dimension))&&e("]")?new h.SuperMap.CartoCSS.Tree.Zoom(a,d,l):void c()},block:function(){var a;return e("{")&&(a=e(this.primary))&&e("}")?a:void 0},ruleset:function(){var a,d,f=[];for(b();a=e(this.selector);){for(f.push(a);e(this.comment););if(!e(","))break;for(;e(this.comment););}if(a)for(;e(this.comment););if(f.length>0&&(d=e(this.block))){if(1===f.length&&f[0].elements.length&&"Map"===f[0].elements[0].value){var g=new h.SuperMap.CartoCSS.Tree.Ruleset(f,d);return g.isMap=!0,g}return new h.SuperMap.CartoCSS.Tree.Ruleset(f,d)}c()},rule:function(){var d,f,j=g.charAt(i);if(b(),"."!==j&&"#"!==j&&(d=e(this.variable)||e(this.property))){if((f=e(this.value))&&e(this.end))return new h.SuperMap.CartoCSS.Tree.Rule(d,f,l,a.filename);m=i,c()}},font:function(){for(var a,b=[],c=[];a=e(this.entity);)c.push(a);if(b.push(new h.SuperMap.CartoCSS.Tree.Expression(c)),e(","))for(;(a=e(this.expression))&&(b.push(a),e(",")););return new h.SuperMap.CartoCSS.Tree.Value(b)},value:function(){for(var a,b=[];(a=e(this.expression))&&(b.push(a),e(",")););return b.length>1?new h.SuperMap.CartoCSS.Tree.Value(b.map(function(a){return a.value[0]})):1===b.length?new h.SuperMap.CartoCSS.Tree.Value(b):void 0},sub:function(){var a;return e("(")&&(a=e(this.expression))&&e(")")?a:void 0},multiplication:function(){var a,b,c,d;if(a=e(this.operand)){for(;(c=e("/")||e("*")||e("%"))&&(b=e(this.operand));)d=new h.SuperMap.CartoCSS.Tree.Operation(c,[d||a,b],l);return d||a}},addition:function(){var a,b,c,d;if(a=e(this.multiplication)){for(;(c=e(/^[-+]\s+/)||" "!=g.charAt(i-1)&&(e("+")||e("-")))&&(b=e(this.multiplication));)d=new h.SuperMap.CartoCSS.Tree.Operation(c,[d||a,b],l);return d||a}},operand:function(){return e(this.sub)||e(this.entity)},expression:function(){for(var a,b=[];a=e(this.addition)||e(this.entity);)b.push(a);return b.length>0?new h.SuperMap.CartoCSS.Tree.Expression(b):void 0},property:function(){var a=e(/^(([a-z][-a-z_0-9]*\/)?\*?-?[-a-z_0-9]+)\s*:/);return a?a[1]:void 0}}}}},{key:"parse",value:function(a){var b=this.parser;return this.ruleSet=b.parse(a)}},{key:"toShaders",value:function(){if(this.ruleSet){var a=this.ruleSet;if(a){var b=a.toList(this.env);b.reverse();var c={},d=[];this._toShaders(c,d,b);for(var e=[],f={},g=0,h=b.length;h>g;++g){var i=b[g],j=i.attachment,k=c[d[g]],l=[];if(!f[j]){var m=0;for(var n in k)if("zoom"!==n&&"frames"!==n&&"attachment"!==n&&"elements"!=n)if("layer-index"===n){var o=(k[n].join("\n"),null);Object.defineProperty(l,"layerIndex",{configurable:!0,enumerable:!1,value:o})}else l[m++]=function(a,b){if(!Array.isArray(a))return a;var c=a.join("\n"),d='attributes["FEATUREID"]&&attributes["FEATUREID"]',e=c.indexOf(d);if(e>=0){if(!b.featureFilter){var f=e+d.length,g=c.indexOf(")",f+1),h="featureId&&(featureId"+c.substring(f,g)+")";
Object.defineProperty(b,"featureFilter",{configurable:!0,enumerable:!1,value:function(a){return!!h}})}return{property:n,getValue:Function("attributes","zoom","seftFilter","var _value = null; var isExcute=typeof seftFilter=='function'?sefgFilter():seftFilter;if(isExcute){"+c+";} return _value; ")}}return{property:n,getValue:Function("attributes","zoom","var _value = null;"+c+"; return _value; ")}}(k[n],l);Object.defineProperty(l,"attachment",{configurable:!0,enumerable:!1,value:j}),Object.defineProperty(l,"elements",{configurable:!0,enumerable:!1,value:i.elements}),e.push(l),f[d[g]]=!0}Object.defineProperty(l,"zoom",{configurable:!0,enumerable:!1,value:i.zoom})}return e}}return null}},{key:"_toShaders",value:function(a,b,c){for(var d=0,e=c.length;e>d;++d){for(var f=c[d],g=[],i=0,j=f.elements.length;j>i;i++)g.push(f.elements[i]);var k=f.filters.filters,l=[];for(var m in k)l.push(k[m].id);var n=g.join("/")+"::"+f.attachment+"_"+l.join("_");b.push(n);var o=a[n]=a[n]||{};o.zoom=h.SuperMap.CartoCSS.Tree.Zoom.all;var p=f.toJS(this.env);for(var q in p)(o[q]=o[q]||[]).push(p[q].join("\n"))}}},{key:"getShaders",value:function(){return this.shaders}},{key:"destroy",value:function(){this.cartoStr=null,this.env=null,this.ruleSet=null,this.parser=null,this.shaders=null}}]),a}();h.SuperMap._mapnik_reference_latest={version:"2.1.1",style:{"filter-mode":{type:["all","first"],doc:"Control the processing behavior of Rule filters within a Style. If 'all' is used then all Rules are processed sequentially independent of whether any previous filters matched. If 'first' is used then it means processing ends after the first match (a positive filter evaluation) and no further Rules in the Style are processed ('first' is usually the default for CSS implementations on top of Mapnik to simplify translation from CSS to Mapnik XML)","default-value":"all","default-meaning":"All Rules in a Style are processed whether they have filters or not and whether or not the filter conditions evaluate to true."},"image-filters":{css:"image-filters","default-value":"none","default-meaning":"no filters",type:"functions",functions:[["agg-stack-blur",2],["emboss",0],["blur",0],["gray",0],["sobel",0],["edge-detect",0],["x-gradient",0],["y-gradient",0],["invert",0],["sharpen",0]],doc:"A list of image filters."},"comp-op":{css:"comp-op","default-value":"src-over","default-meaning":"add the current layer on top of other layers",doc:"Composite operation. This defines how this layer should behave relative to layers atop or below it.",type:["clear","src","dst","src-over","dst-over","src-in","dst-in","src-out","dst-out","src-atop","dst-atop","xor","plus","minus","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","contrast","invert","invert-rgb","grain-merge","grain-extract","hue","saturation","color","value"]},opacity:{css:"opacity",type:"float",doc:"An alpha value for the style (which means an alpha applied to all features in separate buffer and then composited back to main buffer)","default-value":1,"default-meaning":"no separate buffer will be used and no alpha will be applied to the style after rendering"}},layer:{name:{"default-value":"",type:"string",required:!0,"default-meaning":"No layer name has been provided",doc:"The name of a layer. Can be anything you wish and is not strictly validated, but ideally unique  in the map"},srs:{"default-value":"",type:"string","default-meaning":"No srs value is provided and the value will be inherited from the Map's srs",doc:"The spatial reference system definition for the layer, aka the projection. Can either be a proj4 literal string like '+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs' or, if the proper proj4 epsg/nad/etc identifier files are installed, a string that uses an id like: '+init=epsg:4326'"},status:{"default-value":!0,type:"boolean","default-meaning":"This layer will be marked as active and available for processing",doc:"A property that can be set to false to disable this layer from being processed"},minzoom:{"default-value":"0",type:"float","default-meaning":"The layer will be visible at the minimum possible scale",doc:"The minimum scale denominator that this layer will be visible at. A layer's visibility is determined by whether its status is true and if the Map scale >= minzoom - 1e-6 and scale < maxzoom + 1e-6"},maxzoom:{"default-value":"1.79769e+308",type:"float","default-meaning":"The layer will be visible at the maximum possible scale",doc:"The maximum scale denominator that this layer will be visible at. The default is the numeric limit of the C++ double type, which may vary slightly by system, but is likely a massive number like 1.79769e+308 and ensures that this layer will always be visible unless the value is reduced. A layer's visibility is determined by whether its status is true and if the Map scale >= minzoom - 1e-6 and scale < maxzoom + 1e-6"},queryable:{"default-value":!1,type:"boolean","default-meaning":"The layer will not be available for the direct querying of data values",doc:"This property was added for GetFeatureInfo/WMS compatibility and is rarely used. It is off by default meaning that in a WMS context the layer will not be able to be queried unless the property is explicitly set to true"},"clear-label-cache":{"default-value":!1,type:"boolean","default-meaning":"The renderer's collision detector cache (used for avoiding duplicate labels and overlapping markers) will not be cleared immediately before processing this layer",doc:"This property, by default off, can be enabled to allow a user to clear the collision detector cache before a given layer is processed. This may be desirable to ensure that a given layers data shows up on the map even if it normally would not because of collisions with previously rendered labels or markers"},"group-by":{"default-value":"",type:"string","default-meaning":"No special layer grouping will be used during rendering",doc:"https://github.com/mapnik/mapnik/wiki/Grouped-rendering"},"buffer-size":{"default-value":"0",type:"float","default-meaning":"No buffer will be used",doc:"Extra tolerance around the Layer extent (in pixels) used to when querying and (potentially) clipping the layer data during rendering"},"maximum-extent":{"default-value":"none",type:"bbox","default-meaning":"No clipping extent will be used",doc:"An extent to be used to limit the bounds used to query this specific layer data during rendering. Should be minx, miny, maxx, maxy in the coordinates of the Layer."}},symbolizers:{"*":{"image-filters":{css:"image-filters","default-value":"none","default-meaning":"no filters",type:"functions",functions:[["agg-stack-blur",2],["emboss",0],["blur",0],["gray",0],["sobel",0],["edge-detect",0],["x-gradient",0],["y-gradient",0],["invert",0],["sharpen",0]],doc:"A list of image filters."},"comp-op":{css:"comp-op","default-value":"src-over","default-meaning":"add the current layer on top of other layers",doc:"Composite operation. This defines how this layer should behave relative to layers atop or below it.",type:["clear","src","dst","src-over","dst-over","src-in","dst-in","src-out","dst-out","src-atop","dst-atop","xor","plus","minus","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","contrast","invert","invert-rgb","grain-merge","grain-extract","hue","saturation","color","value"]},opacity:{css:"opacity",type:"float",doc:"An alpha value for the style (which means an alpha applied to all features in separate buffer and then composited back to main buffer)","default-value":1,"default-meaning":"no separate buffer will be used and no alpha will be applied to the style after rendering"}},map:{"background-color":{css:"background-color","default-value":"none","default-meaning":"transparent",type:"color",doc:"Map Background color"},"background-image":{css:"background-image",type:"uri","default-value":"","default-meaning":"transparent",doc:"An image that is repeated below all features on a map as a background.",description:"Map Background image"},srs:{css:"srs",type:"string","default-value":"+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs","default-meaning":"The proj4 literal of EPSG:4326 is assumed to be the Map's spatial reference and all data from layers within this map will be plotted using this coordinate system. If any layers do not declare an srs value then they will be assumed to be in the same srs as the Map and not transformations will be needed to plot them in the Map's coordinate space",doc:"Map spatial reference (proj4 string)"},"buffer-size":{css:"buffer-size","default-value":"0",type:"float","default-meaning":"No buffer will be used",doc:'Extra tolerance around the map (in pixels) used to ensure labels crossing tile boundaries are equally rendered in each tile (e.g. cut in each tile). Not intended to be used in combination with "avoid-edges".'},"maximum-extent":{css:"","default-value":"none",type:"bbox","default-meaning":"No clipping extent will be used",doc:"An extent to be used to limit the bounds used to query all layers during rendering. Should be minx, miny, maxx, maxy in the coordinates of the Map."},base:{css:"base","default-value":"","default-meaning":"This base path defaults to an empty string meaning that any relative paths to files referenced in styles or layers will be interpreted relative to the application process.",type:"string",doc:"Any relative paths used to reference files will be understood as relative to this directory path if the map is loaded from an in memory object rather than from the filesystem. If the map is loaded from the filesystem and this option is not provided it will be set to the directory of the stylesheet."},"paths-from-xml":{css:"","default-value":!0,"default-meaning":"Paths read from XML will be interpreted from the location of the XML",type:"boolean",doc:"value to control whether paths in the XML will be interpreted from the location of the XML or from the working directory of the program that calls load_map()"},"minimum-version":{css:"","default-value":"none","default-meaning":"Mapnik version will not be detected and no error will be thrown about compatibility",type:"string",doc:"The minumum Mapnik version (e.g. 0.7.2) needed to use certain functionality in the stylesheet"},"font-directory":{css:"font-directory",type:"uri","default-value":"none","default-meaning":"No map-specific fonts will be registered",doc:"Path to a directory which holds fonts which should be registered when the Map is loaded (in addition to any fonts that may be automatically registered)."}},polygon:{fill:{css:"polygon-fill",type:"color","default-value":"rgba(128,128,128,1)","default-meaning":"gray and fully opaque (alpha = 1), same as rgb(128,128,128)",doc:"Fill color to assign to a polygon"},"fill-opacity":{css:"polygon-opacity",type:"float",doc:"The opacity of the polygon","default-value":1,"default-meaning":"opaque"},gamma:{css:"polygon-gamma",type:"float","default-value":1,"default-meaning":"fully antialiased",range:"0-1",doc:"Level of antialiasing of polygon edges"},"gamma-method":{css:"polygon-gamma-method",type:["power","linear","none","threshold","multiply"],"default-value":"power","default-meaning":"pow(x,gamma) is used to calculate pixel gamma, which produces slightly smoother line and polygon antialiasing than the 'linear' method, while other methods are usually only used to disable AA",doc:"An Antigrain Geometry specific rendering hint to control the quality of antialiasing. Under the hood in Mapnik this method is used in combination with the 'gamma' value (which defaults to 1). The methods are in the AGG source at https://github.com/mapnik/mapnik/blob/master/deps/agg/include/agg_gamma_functions.h"},clip:{css:"polygon-clip",type:"boolean","default-value":!0,"default-meaning":"geometry will be clipped to map bounds before rendering",doc:"geometries are clipped to map bounds by default for best rendering performance. In some cases users may wish to disable this to avoid rendering artifacts."},smooth:{css:"polygon-smooth",type:"float","default-value":0,"default-meaning":"no smoothing",range:"0-1",doc:"Smooths out geometry angles. 0 is no smoothing, 1 is fully smoothed. Values greater than 1 will produce wild, looping geometries."},"geometry-transform":{css:"polygon-geometry-transform",type:"functions","default-value":"none","default-meaning":"geometry will not be transformed",doc:"Allows transformation functions to be applied to the geometry.",functions:[["matrix",6],["translate",2],["scale",2],["rotate",3],["skewX",1],["skewY",1]]},"comp-op":{css:"polygon-comp-op","default-value":"src-over","default-meaning":"add the current symbolizer on top of other symbolizer",doc:"Composite operation. This defines how this symbolizer should behave relative to symbolizers atop or below it.",type:["clear","src","dst","src-over","dst-over","src-in","dst-in","src-out","dst-out","src-atop","dst-atop","xor","plus","minus","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","contrast","invert","invert-rgb","grain-merge","grain-extract","hue","saturation","color","value"]}},line:{stroke:{css:"line-color","default-value":"rgba(0,0,0,1)",type:"color","default-meaning":"black and fully opaque (alpha = 1), same as rgb(0,0,0)",doc:"The color of a drawn line"},"stroke-width":{css:"line-width","default-value":1,type:"float",doc:"The width of a line in pixels"},"stroke-opacity":{css:"line-opacity","default-value":1,type:"float","default-meaning":"opaque",doc:"The opacity of a line"},"stroke-linejoin":{css:"line-join","default-value":"miter",type:["miter","round","bevel"],doc:"The behavior of lines when joining"},"stroke-linecap":{css:"line-cap","default-value":"butt",type:["butt","round","square"],doc:"The display of line endings"},"stroke-gamma":{css:"line-gamma",type:"float","default-value":1,"default-meaning":"fully antialiased",range:"0-1",doc:"Level of antialiasing of stroke line"},"stroke-gamma-method":{css:"line-gamma-method",type:["power","linear","none","threshold","multiply"],"default-value":"power","default-meaning":"pow(x,gamma) is used to calculate pixel gamma, which produces slightly smoother line and polygon antialiasing than the 'linear' method, while other methods are usually only used to disable AA",doc:"An Antigrain Geometry specific rendering hint to control the quality of antialiasing. Under the hood in Mapnik this method is used in combination with the 'gamma' value (which defaults to 1). The methods are in the AGG source at https://github.com/mapnik/mapnik/blob/master/deps/agg/include/agg_gamma_functions.h"},"stroke-dasharray":{css:"line-dasharray",type:"numbers",doc:"A pair of length values [a,b], where (a) is the dash length and (b) is the gap length respectively. More than two values are supported for more complex patterns.","default-value":"none","default-meaning":"solid line"},"stroke-dashoffset":{css:"line-dash-offset",type:"numbers",doc:"valid parameter but not currently used in renderers (only exists for experimental svg support in Mapnik which is not yet enabled)","default-value":"none","default-meaning":"solid line"},"stroke-miterlimit":{css:"line-miterlimit",type:"float",doc:"The limit on the ratio of the miter length to the stroke-width. Used to automatically convert miter joins to bevel joins for sharp angles to avoid the miter extending beyond the thickness of the stroking path. Normally will not need to be set, but a larger value can sometimes help avoid jaggy artifacts.","default-value":4,"default-meaning":"Will auto-convert miters to bevel line joins when theta is less than 29 degrees as per the SVG spec: 'miterLength / stroke-width = 1 / sin ( theta / 2 )'"},clip:{css:"line-clip",type:"boolean","default-value":!0,"default-meaning":"geometry will be clipped to map bounds before rendering",doc:"geometries are clipped to map bounds by default for best rendering performance. In some cases users may wish to disable this to avoid rendering artifacts."},smooth:{css:"line-smooth",type:"float","default-value":0,"default-meaning":"no smoothing",range:"0-1",doc:"Smooths out geometry angles. 0 is no smoothing, 1 is fully smoothed. Values greater than 1 will produce wild, looping geometries."},offset:{css:"line-offset",type:"float","default-value":0,"default-meaning":"no offset",doc:"Offsets a line a number of pixels parallel to its actual path. Postive values move the line left, negative values move it right (relative to the directionality of the line)."},rasterizer:{css:"line-rasterizer",type:["full","fast"],"default-value":"full",doc:"Exposes an alternate AGG rendering method that sacrifices some accuracy for speed."},"geometry-transform":{css:"line-geometry-transform",type:"functions","default-value":"none","default-meaning":"geometry will not be transformed",doc:"Allows transformation functions to be applied to the geometry.",functions:[["matrix",6],["translate",2],["scale",2],["rotate",3],["skewX",1],["skewY",1]]},"comp-op":{css:"line-comp-op","default-value":"src-over","default-meaning":"add the current symbolizer on top of other symbolizer",doc:"Composite operation. This defines how this symbolizer should behave relative to symbolizers atop or below it.",type:["clear","src","dst","src-over","dst-over","src-in","dst-in","src-out","dst-out","src-atop","dst-atop","xor","plus","minus","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","contrast","invert","invert-rgb","grain-merge","grain-extract","hue","saturation","color","value"]}},markers:{file:{css:"marker-file",doc:"An SVG file that this marker shows at each placement. If no file is given, the marker will show an ellipse.","default-value":"","default-meaning":"An ellipse or circle, if width equals height",type:"uri"},opacity:{css:"marker-opacity",doc:"The overall opacity of the marker, if set, overrides both the opacity of both the fill and stroke","default-value":1,"default-meaning":"The stroke-opacity and fill-opacity will be used",type:"float"},"fill-opacity":{css:"marker-fill-opacity",doc:"The fill opacity of the marker","default-value":1,"default-meaning":"opaque",type:"float"},stroke:{css:"marker-line-color",doc:"The color of the stroke around a marker shape.","default-value":"black",type:"color"},"stroke-width":{css:"marker-line-width",doc:"The width of the stroke around a marker shape, in pixels. This is positioned on the boundary, so high values can cover the area itself.",type:"float"},"stroke-opacity":{css:"marker-line-opacity","default-value":1,"default-meaning":"opaque",doc:"The opacity of a line",type:"float"},placement:{css:"marker-placement",type:["point","line","interior"],"default-value":"point","default-meaning":"Place markers at the center point (centroid) of the geometry",doc:"Attempt to place markers on a point, in the center of a polygon, or if markers-placement:line, then multiple times along a line. 'interior' placement can be used to ensure that points placed on polygons are forced to be inside the polygon interior"},"multi-policy":{css:"marker-multi-policy",type:["each","whole","largest"],"default-value":"each","default-meaning":"If a feature contains multiple geometries and the placement type is either point or interior then a marker will be rendered for each",doc:"A special setting to allow the user to control rendering behavior for 'multi-geometries' (when a feature contains multiple geometries). This setting does not apply to markers placed along lines. The 'each' policy is default and means all geometries will get a marker. The 'whole' policy means that the aggregate centroid between all geometries will be used. The 'largest' policy means that only the largest (by bounding box areas) feature will get a rendered marker (this is how text labeling behaves by default)."},"marker-type":{css:"marker-type",type:["arrow","ellipse"],"default-value":"ellipse",doc:"The default marker-type. If a SVG file is not given as the marker-file parameter, the renderer provides either an arrow or an ellipse (a circle if height is equal to width)"},width:{css:"marker-width","default-value":10,doc:"The width of the marker, if using one of the default types.",type:"expression"},height:{css:"marker-height","default-value":10,doc:"The height of the marker, if using one of the default types.",type:"expression"},fill:{css:"marker-fill","default-value":"blue",doc:"The color of the area of the marker.",type:"color"},"allow-overlap":{css:"marker-allow-overlap",type:"boolean","default-value":!1,doc:"Control whether overlapping markers are shown or hidden.","default-meaning":"Do not allow makers to overlap with each other - overlapping markers will not be shown."},"ignore-placement":{css:"marker-ignore-placement",type:"boolean","default-value":!1,"default-meaning":"do not store the bbox of this geometry in the collision detector cache",doc:"value to control whether the placement of the feature will prevent the placement of other features"},spacing:{css:"marker-spacing",doc:"Space between repeated labels","default-value":100,type:"float"},"max-error":{css:"marker-max-error",type:"float","default-value":.2,doc:"The maximum difference between actual marker placement and the marker-spacing parameter. Setting a high value can allow the renderer to try to resolve placement conflicts with other symbolizers."},transform:{css:"marker-transform",type:"functions",functions:[["matrix",6],["translate",2],["scale",2],["rotate",3],["skewX",1],["skewY",1]],"default-value":"","default-meaning":"No transformation",doc:"SVG transformation definition"},clip:{css:"marker-clip",type:"boolean","default-value":!0,"default-meaning":"geometry will be clipped to map bounds before rendering",doc:"geometries are clipped to map bounds by default for best rendering performance. In some cases users may wish to disable this to avoid rendering artifacts."},smooth:{css:"marker-smooth",type:"float","default-value":0,"default-meaning":"no smoothing",range:"0-1",doc:"Smooths out geometry angles. 0 is no smoothing, 1 is fully smoothed. Values greater than 1 will produce wild, looping geometries."},"geometry-transform":{css:"marker-geometry-transform",type:"functions","default-value":"none","default-meaning":"geometry will not be transformed",doc:"Allows transformation functions to be applied to the geometry.",functions:[["matrix",6],["translate",2],["scale",2],["rotate",3],["skewX",1],["skewY",1]]},"comp-op":{css:"marker-comp-op","default-value":"src-over","default-meaning":"add the current symbolizer on top of other symbolizer",doc:"Composite operation. This defines how this symbolizer should behave relative to symbolizers atop or below it.",type:["clear","src","dst","src-over","dst-over","src-in","dst-in","src-out","dst-out","src-atop","dst-atop","xor","plus","minus","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","contrast","invert","invert-rgb","grain-merge","grain-extract","hue","saturation","color","value"]}},shield:{name:{css:"shield-name",type:"expression",serialization:"content",doc:'Value to use for a shield"s text label. Data columns are specified using brackets like [column_name]'},file:{css:"shield-file",required:!0,type:"uri","default-value":"none",doc:"Image file to render behind the shield text"},"face-name":{css:"shield-face-name",type:"string",validate:"font",doc:"Font name and style to use for the shield text","default-value":"",required:!0},"unlock-image":{css:"shield-unlock-image",type:"boolean",doc:"This parameter should be set to true if you are trying to position text beside rather than on top of the shield image","default-value":!1,"default-meaning":"text alignment relative to the shield image uses the center of the image as the anchor for text positioning."},size:{css:"shield-size",type:"float",doc:"The size of the shield text in pixels"},fill:{css:"shield-fill",type:"color",doc:"The color of the shield text"},placement:{css:"shield-placement",type:["point","line","vertex","interior"],"default-value":"point",doc:"How this shield should be placed. Point placement attempts to place it on top of points, line places along lines multiple times per feature, vertex places on the vertexes of polygons, and interior attempts to place inside of polygons."},"avoid-edges":{css:"shield-avoid-edges",doc:"Tell positioning algorithm to avoid labeling near intersection edges.",type:"boolean","default-value":!1},"allow-overlap":{css:"shield-allow-overlap",type:"boolean","default-value":!1,doc:"Control whether overlapping shields are shown or hidden.","default-meaning":"Do not allow shields to overlap with other map elements already placed."},"minimum-distance":{css:"shield-min-distance",type:"float","default-value":0,doc:"Minimum distance to the next shield symbol, not necessarily the same shield."},spacing:{css:"shield-spacing",type:"float","default-value":0,doc:"The spacing between repeated occurrences of the same shield on a line"},"minimum-padding":{css:"shield-min-padding","default-value":0,doc:"Determines the minimum amount of padding that a shield gets relative to other shields",type:"float"},"wrap-width":{css:"shield-wrap-width",type:"unsigned","default-value":0,doc:"Length of a chunk of text in characters before wrapping text"},"wrap-before":{css:"shield-wrap-before",type:"boolean","default-value":!1,doc:"Wrap text before wrap-width is reached. If false, wrapped lines will be a bit longer than wrap-width."},"wrap-character":{css:"shield-wrap-character",type:"string","default-value":" ",doc:"Use this character instead of a space to wrap long names."},"halo-fill":{css:"shield-halo-fill",type:"color","default-value":"#FFFFFF","default-meaning":"white",doc:"Specifies the color of the halo around the text."},"halo-radius":{css:"shield-halo-radius",doc:"Specify the radius of the halo in pixels","default-value":0,"default-meaning":"no halo",type:"float"},"character-spacing":{css:"shield-character-spacing",type:"unsigned","default-value":0,doc:"Horizontal spacing between characters (in pixels). Currently works for point placement only, not line placement."},"line-spacing":{css:"shield-line-spacing",doc:"Vertical spacing between lines of multiline labels (in pixels)",type:"unsigned"},dx:{css:"shield-text-dx",type:"float",doc:"Displace text within shield by fixed amount, in pixels, +/- along the X axis.  A positive value will shift the text right","default-value":0},dy:{css:"shield-text-dy",type:"float",doc:"Displace text within shield by fixed amount, in pixels, +/- along the Y axis.  A positive value will shift the text down","default-value":0},"shield-dx":{css:"shield-dx",type:"float",doc:"Displace shield by fixed amount, in pixels, +/- along the X axis.  A positive value will shift the text right","default-value":0},"shield-dy":{css:"shield-dy",type:"float",doc:"Displace shield by fixed amount, in pixels, +/- along the Y axis.  A positive value will shift the text down","default-value":0},opacity:{css:"shield-opacity",type:"float",doc:"(Default 1.0) - opacity of the image used for the shield","default-value":1},"text-opacity":{css:"shield-text-opacity",type:"float",doc:"(Default 1.0) - opacity of the text placed on top of the shield","default-value":1},"horizontal-alignment":{css:"shield-horizontal-alignment",type:["left","middle","right","auto"],doc:"The shield's horizontal alignment from its centerpoint","default-value":"auto"},"vertical-alignment":{css:"shield-vertical-alignment",type:["top","middle","bottom","auto"],doc:"The shield's vertical alignment from its centerpoint","default-value":"middle"},"text-transform":{css:"shield-text-transform",type:["none","uppercase","lowercase","capitalize"],doc:"Transform the case of the characters","default-value":"none"},"justify-alignment":{css:"shield-justify-alignment",type:["left","center","right","auto"],doc:"Define how text in a shield's label is justified","default-value":"auto"},clip:{css:"shield-clip",type:"boolean","default-value":!0,"default-meaning":"geometry will be clipped to map bounds before rendering",doc:"geometries are clipped to map bounds by default for best rendering performance. In some cases users may wish to disable this to avoid rendering artifacts."},"comp-op":{css:"shield-comp-op","default-value":"src-over","default-meaning":"add the current symbolizer on top of other symbolizer",doc:"Composite operation. This defines how this symbolizer should behave relative to symbolizers atop or below it.",type:["clear","src","dst","src-over","dst-over","src-in","dst-in","src-out","dst-out","src-atop","dst-atop","xor","plus","minus","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","contrast","invert","invert-rgb","grain-merge","grain-extract","hue","saturation","color","value"]}},"line-pattern":{file:{css:"line-pattern-file",type:"uri","default-value":"none",required:!0,doc:"An image file to be repeated and warped along a line"},clip:{css:"line-pattern-clip",type:"boolean","default-value":!0,"default-meaning":"geometry will be clipped to map bounds before rendering",doc:"geometries are clipped to map bounds by default for best rendering performance. In some cases users may wish to disable this to avoid rendering artifacts."},smooth:{css:"line-pattern-smooth",type:"float","default-value":0,"default-meaning":"no smoothing",range:"0-1",doc:"Smooths out geometry angles. 0 is no smoothing, 1 is fully smoothed. Values greater than 1 will produce wild, looping geometries."},"geometry-transform":{css:"line-pattern-geometry-transform",type:"functions","default-value":"none","default-meaning":"geometry will not be transformed",doc:"Allows transformation functions to be applied to the geometry.",functions:[["matrix",6],["translate",2],["scale",2],["rotate",3],["skewX",1],["skewY",1]]},"comp-op":{css:"line-pattern-comp-op","default-value":"src-over","default-meaning":"add the current symbolizer on top of other symbolizer",doc:"Composite operation. This defines how this symbolizer should behave relative to symbolizers atop or below it.",type:["clear","src","dst","src-over","dst-over","src-in","dst-in","src-out","dst-out","src-atop","dst-atop","xor","plus","minus","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","contrast","invert","invert-rgb","grain-merge","grain-extract","hue","saturation","color","value"]}},"polygon-pattern":{file:{css:"polygon-pattern-file",type:"uri","default-value":"none",required:!0,doc:"Image to use as a repeated pattern fill within a polygon"},alignment:{css:"polygon-pattern-alignment",type:["local","global"],"default-value":"local",doc:"Specify whether to align pattern fills to the layer or to the map."},gamma:{css:"polygon-pattern-gamma",type:"float","default-value":1,"default-meaning":"fully antialiased",range:"0-1",doc:"Level of antialiasing of polygon pattern edges"},opacity:{css:"polygon-pattern-opacity",type:"float",doc:"(Default 1.0) - Apply an opacity level to the image used for the pattern","default-value":1,"default-meaning":"The image is rendered without modifications"},clip:{css:"polygon-pattern-clip",type:"boolean","default-value":!0,"default-meaning":"geometry will be clipped to map bounds before rendering",doc:"geometries are clipped to map bounds by default for best rendering performance. In some cases users may wish to disable this to avoid rendering artifacts."},smooth:{css:"polygon-pattern-smooth",type:"float","default-value":0,"default-meaning":"no smoothing",range:"0-1",doc:"Smooths out geometry angles. 0 is no smoothing, 1 is fully smoothed. Values greater than 1 will produce wild, looping geometries."},"geometry-transform":{css:"polygon-pattern-geometry-transform",type:"functions","default-value":"none","default-meaning":"geometry will not be transformed",
doc:"Allows transformation functions to be applied to the geometry.",functions:[["matrix",6],["translate",2],["scale",2],["rotate",3],["skewX",1],["skewY",1]]},"comp-op":{css:"polygon-pattern-comp-op","default-value":"src-over","default-meaning":"add the current symbolizer on top of other symbolizer",doc:"Composite operation. This defines how this symbolizer should behave relative to symbolizers atop or below it.",type:["clear","src","dst","src-over","dst-over","src-in","dst-in","src-out","dst-out","src-atop","dst-atop","xor","plus","minus","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","contrast","invert","invert-rgb","grain-merge","grain-extract","hue","saturation","color","value"]}},raster:{opacity:{css:"raster-opacity","default-value":1,"default-meaning":"opaque",type:"float",doc:"The opacity of the raster symbolizer on top of other symbolizers."},"filter-factor":{css:"raster-filter-factor","default-value":-1,"default-meaning":"Allow the datasource to choose appropriate downscaling.",type:"float",doc:"This is used by the Raster or Gdal datasources to pre-downscale images using overviews. Higher numbers can sometimes cause much better scaled image output, at the cost of speed."},scaling:{css:"raster-scaling",type:["near","fast","bilinear","bilinear8","bicubic","spline16","spline36","hanning","hamming","hermite","kaiser","quadric","catrom","gaussian","bessel","mitchell","sinc","lanczos","blackman"],"default-value":"near",doc:"The scaling algorithm used to making different resolution versions of this raster layer. Bilinear is a good compromise between speed and accuracy, while lanczos gives the highest quality."},"mesh-size":{css:"raster-mesh-size","default-value":16,"default-meaning":"Reprojection mesh will be 1/16 of the resolution of the source image",type:"unsigned",doc:"A reduced resolution mesh is used for raster reprojection, and the total image size is divided by the mesh-size to determine the quality of that mesh. Values for mesh-size larger than the default will result in faster reprojection but might lead to distortion."},"comp-op":{css:"raster-comp-op","default-value":"src-over","default-meaning":"add the current symbolizer on top of other symbolizer",doc:"Composite operation. This defines how this symbolizer should behave relative to symbolizers atop or below it.",type:["clear","src","dst","src-over","dst-over","src-in","dst-in","src-out","dst-out","src-atop","dst-atop","xor","plus","minus","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","contrast","invert","invert-rgb","grain-merge","grain-extract","hue","saturation","color","value"]}},point:{file:{css:"point-file",type:"uri",required:!1,"default-value":"none",doc:"Image file to represent a point"},"allow-overlap":{css:"point-allow-overlap",type:"boolean","default-value":!1,doc:"Control whether overlapping points are shown or hidden.","default-meaning":"Do not allow points to overlap with each other - overlapping markers will not be shown."},"ignore-placement":{css:"point-ignore-placement",type:"boolean","default-value":!1,"default-meaning":"do not store the bbox of this geometry in the collision detector cache",doc:"value to control whether the placement of the feature will prevent the placement of other features"},opacity:{css:"point-opacity",type:"float","default-value":1,"default-meaning":"Fully opaque",doc:"A value from 0 to 1 to control the opacity of the point"},placement:{css:"point-placement",type:["centroid","interior"],doc:"How this point should be placed. Centroid calculates the geometric center of a polygon, which can be outside of it, while interior always places inside of a polygon.","default-value":"centroid"},transform:{css:"point-transform",type:"functions",functions:[["matrix",6],["translate",2],["scale",2],["rotate",3],["skewX",1],["skewY",1]],"default-value":"","default-meaning":"No transformation",doc:"SVG transformation definition"},"comp-op":{css:"point-comp-op","default-value":"src-over","default-meaning":"add the current symbolizer on top of other symbolizer",doc:"Composite operation. This defines how this symbolizer should behave relative to symbolizers atop or below it.",type:["clear","src","dst","src-over","dst-over","src-in","dst-in","src-out","dst-out","src-atop","dst-atop","xor","plus","minus","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","contrast","invert","invert-rgb","grain-merge","grain-extract","hue","saturation","color","value"]}},text:{name:{css:"text-name",type:"expression",required:!0,"default-value":"",serialization:"content",doc:"Value to use for a text label. Data columns are specified using brackets like [column_name]"},"face-name":{css:"text-face-name",type:"string",validate:"font",doc:"Font name and style to render a label in",required:!0},size:{css:"text-size",type:"float","default-value":10,doc:"Text size in pixels"},"text-ratio":{css:"text-ratio",doc:"Define the amount of text (of the total) present on successive lines when wrapping occurs","default-value":0,type:"unsigned"},"wrap-width":{css:"text-wrap-width",doc:"Length of a chunk of text in characters before wrapping text","default-value":0,type:"unsigned"},"wrap-before":{css:"text-wrap-before",type:"boolean","default-value":!1,doc:"Wrap text before wrap-width is reached. If false, wrapped lines will be a bit longer than wrap-width."},"wrap-character":{css:"text-wrap-character",type:"string","default-value":" ",doc:"Use this character instead of a space to wrap long text."},spacing:{css:"text-spacing",type:"unsigned",doc:"Distance between repeated text labels on a line (aka. label-spacing)"},"character-spacing":{css:"text-character-spacing",type:"float","default-value":0,doc:"Horizontal spacing adjustment between characters in pixels"},"line-spacing":{css:"text-line-spacing","default-value":0,type:"unsigned",doc:"Vertical spacing adjustment between lines in pixels"},"label-position-tolerance":{css:"text-label-position-tolerance","default-value":0,type:"unsigned",doc:"Allows the label to be displaced from its ideal position by a number of pixels (only works with placement:line)"},"max-char-angle-delta":{css:"text-max-char-angle-delta",type:"float","default-value":"22.5",doc:"The maximum angle change, in degrees, allowed between adjacent characters in a label. This value internally is converted to radians to the default is 22.5*math.pi/180.0. The higher the value the fewer labels will be placed around around sharp corners."},fill:{css:"text-fill",doc:"Specifies the color for the text","default-value":"#000000",type:"color"},opacity:{css:"text-opacity",doc:"A number from 0 to 1 specifying the opacity for the text","default-value":1,"default-meaning":"Fully opaque",type:"float"},"halo-fill":{css:"text-halo-fill",type:"color","default-value":"#FFFFFF","default-meaning":"white",doc:"Specifies the color of the halo around the text."},"halo-radius":{css:"text-halo-radius",doc:"Specify the radius of the halo in pixels","default-value":0,"default-meaning":"no halo",type:"float"},dx:{css:"text-dx",type:"float",doc:"Displace text by fixed amount, in pixels, +/- along the X axis.  A positive value will shift the text right","default-value":0},dy:{css:"text-dy",type:"float",doc:"Displace text by fixed amount, in pixels, +/- along the Y axis.  A positive value will shift the text down","default-value":0},"vertical-alignment":{css:"text-vertical-alignment",type:["top","middle","bottom","auto"],doc:"Position of label relative to point position.","default-value":"auto","default-meaning":'Default affected by value of dy; "bottom" for dy>0, "top" for dy<0.'},"avoid-edges":{css:"text-avoid-edges",doc:"Tell positioning algorithm to avoid labeling near intersection edges.","default-value":!1,type:"boolean"},"minimum-distance":{css:"text-min-distance",doc:"Minimum permitted distance to the next text symbolizer.",type:"float"},"minimum-padding":{css:"text-min-padding",doc:"Determines the minimum amount of padding that a text symbolizer gets relative to other text",type:"float"},"minimum-path-length":{css:"text-min-path-length",type:"float","default-value":0,"default-meaning":"place labels on all paths",doc:"Place labels only on paths longer than this value."},"allow-overlap":{css:"text-allow-overlap",type:"boolean","default-value":!1,doc:"Control whether overlapping text is shown or hidden.","default-meaning":"Do not allow text to overlap with other text - overlapping markers will not be shown."},orientation:{css:"text-orientation",type:"expression",doc:"Rotate the text."},placement:{css:"text-placement",type:["point","line","vertex","interior"],"default-value":"point",doc:"Control the style of placement of a point versus the geometry it is attached to."},"placement-type":{css:"text-placement-type",doc:'Re-position and/or re-size text to avoid overlaps. "simple" for basic algorithm (using text-placements string,) "dummy" to turn this feature off.',type:["dummy","simple"],"default-value":"dummy"},placements:{css:"text-placements",type:"string","default-value":"",doc:'If "placement-type" is set to "simple", use this "POSITIONS,[SIZES]" string. An example is `text-placements: "E,NE,SE,W,NW,SW";` '},"text-transform":{css:"text-transform",type:["none","uppercase","lowercase","capitalize"],doc:"Transform the case of the characters","default-value":"none"},"horizontal-alignment":{css:"text-horizontal-alignment",type:["left","middle","right","auto"],doc:"The text's horizontal alignment from its centerpoint","default-value":"auto"},"justify-alignment":{css:"text-align",type:["left","right","center","auto"],doc:"Define how text is justified","default-value":"auto","default-meaning":"Auto alignment means that text will be centered by default except when using the `placement-type` parameter - in that case either right or left justification will be used automatically depending on where the text could be fit given the `text-placements` directives"},clip:{css:"text-clip",type:"boolean","default-value":!0,"default-meaning":"geometry will be clipped to map bounds before rendering",doc:"geometries are clipped to map bounds by default for best rendering performance. In some cases users may wish to disable this to avoid rendering artifacts."},"comp-op":{css:"text-comp-op","default-value":"src-over","default-meaning":"add the current symbolizer on top of other symbolizer",doc:"Composite operation. This defines how this symbolizer should behave relative to symbolizers atop or below it.",type:["clear","src","dst","src-over","dst-over","src-in","dst-in","src-out","dst-out","src-atop","dst-atop","xor","plus","minus","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","contrast","invert","invert-rgb","grain-merge","grain-extract","hue","saturation","color","value"]}},building:{fill:{css:"building-fill","default-value":"#FFFFFF",doc:"The color of the buildings walls.",type:"color"},"fill-opacity":{css:"building-fill-opacity",type:"float",doc:"The opacity of the building as a whole, including all walls.","default-value":1},height:{css:"building-height",doc:"The height of the building in pixels.",type:"expression","default-value":"0"}}},colors:{aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50],transparent:[0,0,0,0]},filter:{value:["true","false","null","point","linestring","polygon","collection"]}},k.mapnik_reference={version:{latest:h.SuperMap._mapnik_reference_latest,"2.1.1":h.SuperMap._mapnik_reference_latest}},h.SuperMap.CartoCSS=k,h.SuperMap.CartoCSS.Tree={},h.SuperMap.CartoCSS.Tree.operate=function(a,b,c){switch(a){case"+":return b+c;case"-":return b-c;case"*":return b*c;case"%":return b%c;case"/":return b/c}},h.SuperMap.CartoCSS.Tree.functions={rgb:function(a,b,c){return this.rgba(a,b,c,1)},rgba:function(a,b,c,d){var e=this,f=[a,b,c].map(function(a){return e.number(a)});return d=e.number(d),f.some(isNaN)||isNaN(d)?null:new h.SuperMap.CartoCSS.Tree.Color(f,d)},stop:function(a){var b,c;return arguments.length>1&&(b=arguments[1]),arguments.length>2&&(c=arguments[2]),{is:"tag",val:a,color:b,mode:c,toString:function(d){return'\n	<stop value="'+a.ev(d)+'"'+(b?' color="'+b.ev(d)+'" ':"")+(c?' mode="'+c.ev(d)+'" ':"")+"/>"}}},hsl:function(a,b,c){return this.hsla(a,b,c,1)},hsla:function(a,b,c,d){function e(a){return 6*(a=0>a?a+1:a>1?a-1:a)<1?g+(f-g)*a*6:1>2*a?f:2>3*a?g+(f-g)*(2/3-a)*6:g}if([a=this.number(a)%360/360,b=this.number(b),c=this.number(c),d=this.number(d)].some(isNaN))return null;var f=.5>=c?c*(b+1):c+b-c*b,g=2*c-f;return this.rgba(255*e(a+1/3),255*e(a),255*e(a-1/3),d)},hue:function(a){return"toHSL"in a?new h.SuperMap.CartoCSS.Tree.Dimension(Math.round(a.toHSL().h)):null},saturation:function(a){return"toHSL"in a?new h.SuperMap.CartoCSS.Tree.Dimension(Math.round(100*a.toHSL().s),"%"):null},lightness:function(a){return"toHSL"in a?new h.SuperMap.CartoCSS.Tree.Dimension(Math.round(100*a.toHSL().l),"%"):null},alpha:function(a){return"toHSL"in a?new h.SuperMap.CartoCSS.Tree.Dimension(a.toHSL().a):null},saturate:function(a,b){if(!("toHSL"in a))return null;var c=a.toHSL();return c.s+=b.value/100,c.s=this.clamp(c.s),this.hsla_simple(c)},desaturate:function(a,b){if(!("toHSL"in a))return null;var c=a.toHSL();return c.s-=b.value/100,c.s=this.clamp(c.s),this.hsla_simple(c)},lighten:function(a,b){if(!("toHSL"in a))return null;var c=a.toHSL();return c.l+=b.value/100,c.l=this.clamp(c.l),this.hsla_simple(c)},darken:function(a,b){if(!("toHSL"in a))return null;var c=a.toHSL();return c.l-=b.value/100,c.l=this.clamp(c.l),this.hsla_simple(c)},fadein:function(a,b){if(!("toHSL"in a))return null;var c=a.toHSL();return c.a+=b.value/100,c.a=this.clamp(c.a),this.hsla_simple(c)},fadeout:function(a,b){if(!("toHSL"in a))return null;var c=a.toHSL();return c.a-=b.value/100,c.a=this.clamp(c.a),this.hsla_simple(c)},spin:function(a,b){if(!("toHSL"in a))return null;var c=a.toHSL(),d=(c.h+b.value)%360;return c.h=0>d?360+d:d,this.hsla_simple(c)},replace:function(a,b,c){return"field"===a.is?a.toString+".replace("+b.toString()+", "+c.toString()+")":a.replace(b,c)},mix:function(a,b,c){var d=c.value/100,e=2*d-1,f=a.toHSL().a-b.toHSL().a,g=((e*f==-1?e:(e+f)/(1+e*f))+1)/2,i=1-g,j=[a.rgb[0]*g+b.rgb[0]*i,a.rgb[1]*g+b.rgb[1]*i,a.rgb[2]*g+b.rgb[2]*i],k=a.alpha*d+b.alpha*(1-d);return new h.SuperMap.CartoCSS.Tree.Color(j,k)},greyscale:function(a){return this.desaturate(a,new h.SuperMap.CartoCSS.Tree.Dimension(100))},"%":function(a){for(var b=Array.prototype.slice.call(arguments,1),c=a.value,d=0;d<b.length;d++)c=c.replace(/%s/,b[d].value).replace(/%[da]/,b[d].toString());return c=c.replace(/%%/g,"%"),new h.SuperMap.CartoCSS.Tree.Quoted(c)},hsla_simple:function(a){return this.hsla(a.h,a.s,a.l,a.a)},number:function(a){return a instanceof h.SuperMap.CartoCSS.Tree.Dimension?parseFloat("%"===a.unit?a.value/100:a.value):"number"==typeof a?a:NaN},clamp:function(a){return Math.min(1,Math.max(0,a))}},h.SuperMap.CartoCSS.Tree.Call=function(){function a(b,c,e){d(this,a),this.is="call",this.name=b,this.args=c,this.index=e}return g(a,[{key:"ev",value:function(a){for(var b=this.args.map(function(b){return b.ev(a)}),c=0;c<b.length;c++)if("undefined"===b[c].is)return{is:"undefined",value:"undefined"};if(this.name in h.SuperMap.CartoCSS.Tree.functions){if(h.SuperMap.CartoCSS.Tree.functions[this.name].length<=b.length){var d=h.SuperMap.CartoCSS.Tree.functions[this.name].apply(h.SuperMap.CartoCSS.Tree.functions,b);return null===d?(a.error({message:"incorrect arguments given to "+this.name+"()",index:this.index,type:"runtime",filename:this.filename}),{is:"undefined",value:"undefined"}):d}return a.error({message:"incorrect number of arguments for "+this.name+"(). "+h.SuperMap.CartoCSS.Tree.functions[this.name].length+" expected.",index:this.index,type:"runtime",filename:this.filename}),{is:"undefined",value:"undefined"}}var e=h.SuperMap.CartoCSS.Tree.Reference.mapnikFunctions[this.name];if(void 0===e){var f=j["default"](h.SuperMap.CartoCSS.Tree.Reference.mapnikFunctions),g=this.name,i=f.map(function(a){return[a[0],h.SuperMap.CartoCSS.Tree.Reference.editDistance(g,a[0]),a[1]]}).sort(function(a,b){return a[1]-b[1]});return a.error({message:"unknown function "+this.name+"(), did you mean "+i[0][0]+"("+i[0][2]+")",index:this.index,type:"runtime",filename:this.filename}),{is:"undefined",value:"undefined"}}return e!==b.length&&-1!==e?(a.error({message:"function "+this.name+"() takes "+e+" arguments and was given "+b.length,index:this.index,type:"runtime",filename:this.filename}),{is:"undefined",value:"undefined"}):(this.args=b,this)}},{key:"toString",value:function(a,b){return this.args.length?this.name+"("+this.args.join(",")+")":this.name}}]),a}(),h.SuperMap.CartoCSS.Tree.Color=function(){function a(b,c){d(this,a),this.is="color",Array.isArray(b)?this.rgb=b.slice(0,3):6==b.length?this.rgb=b.match(/.{2}/g).map(function(a){return parseInt(a,16)}):this.rgb=b.split("").map(function(a){return parseInt(a+a,16)}),"number"==typeof c?this.alpha=c:4===b.length?this.alpha=b[3]:this.alpha=1}return g(a,[{key:"ev",value:function(){return this}},{key:"toString",value:function(){return"rgba("+this.rgb.map(function(a){return Math.round(a)}).concat(this.alpha).join(", ")+")"}},{key:"operate",value:function(a,b,c){var d=[];c instanceof h.SuperMap.CartoCSS.Tree.Color||(c=c.toColor());for(var e=0;3>e;e++)d[e]=h.SuperMap.CartoCSS.Tree.operate(b,this.rgb[e],c.rgb[e]);return new h.SuperMap.CartoCSS.Tree.Color(d)}},{key:"toHSL",value:function(){var a,b,c=this.rgb[0]/255,d=this.rgb[1]/255,e=this.rgb[2]/255,f=this.alpha,g=Math.max(c,d,e),h=Math.min(c,d,e),i=(g+h)/2,j=g-h;if(g===h)a=b=0;else{switch(b=i>.5?j/(2-g-h):j/(g+h),g){case c:a=(d-e)/j+(e>d?6:0);break;case d:a=(e-c)/j+2;break;case e:a=(c-d)/j+4}a/=6}return{h:360*a,s:b,l:i,a:f}}}]),a}(),h.SuperMap.CartoCSS.Tree.Comment=function(){function a(b,c){d(this,a),this.value=b,this.silent=!!c}return g(a,[{key:"toString",value:function(a){return"<!--"+this.value+"-->"}},{key:"ev",value:function(){return this}}]),a}(),h.SuperMap.CartoCSS.Tree.Definition=function(){function a(b,c){d(this,a),this.elements=b.elements,this.rules=c,this.ruleIndex={};for(var e=0;e<this.rules.length;e++)"zoom"in this.rules[e]&&(this.rules[e]=this.rules[e].clone()),this.rules[e].zoom=b.zoom,this.ruleIndex[this.rules[e].updateID()]=!0;this.filters=b.filters,this.zoom=b.zoom,this.attachment=b.attachment||"__default__",this.specificity=b.specificity()}return g(a,[{key:"toString",value:function(){for(var a=this.filters.toString(),b=0;b<this.rules.length;b++)a+="\n    "+this.rules[b];return a}},{key:"toJS",value:function(a){function b(b){if(b instanceof h.SuperMap.CartoCSS.Tree.Rule)c[b.name]=c[b.name]||[],e?c[b.name].push("if("+e+"){"+b.value.toJS(a)+"}"):c[b.name].push(b.value.toJS(a));else if(b instanceof h.SuperMap.CartoCSS.Tree.Ruleset){var d=b.toJS(a);for(var f in d)for(var g in c[f]=c[f]||[],d[f])c[f].push(d[f][g])}}var c={},d=this.zoom,e=this.filters.toJS(a),f=[d];for(var g in e&&f.push(e),e=f.join(" && "),this.rules)b(this.rules[g]);return c}}]),a}(),h.SuperMap.CartoCSS.Tree.Dimension=function(){function a(b,c,e){d(this,a),this.is="float",this.physical_units=["m","cm","in","mm","pt","pc"],this.screen_units=["px","%"],this.all_units=["m","cm","in","mm","pt","pc","px","%"],this.densities={m:.0254,mm:25.4,cm:2.54,pt:72,pc:6},this.value=parseFloat(b),this.unit=c||null,this.index=e}return g(a,[{key:"ev",value:function(a){if(this.unit&&this.all_units.indexOf(this.unit)<0)return a.error({message:"Invalid unit: '"+this.unit+"'",index:this.index}),{is:"undefined",value:"undefined"};if(this.unit&&this.physical_units.indexOf(this.unit)>=0){if(!a.ppi)return a.error({message:"ppi is not set, so metric units can't be used",index:this.index}),{is:"undefined",value:"undefined"};this.value=this.value/this.densities[this.unit]*a.ppi,this.unit="px"}return this}},{key:"toColor",value:function(){return new h.SuperMap.CartoCSS.Tree.Color([this.value,this.value,this.value])}},{key:"round",value:function(){return this.value=Math.round(this.value),this}},{key:"toString",value:function(){return this.value.toString()}},{key:"operate",value:function(a,b,c){return"%"===this.unit&&"%"!==c.unit?(a.error({message:"If two operands differ, the first must not be %",index:this.index}),{is:"undefined",value:"undefined"}):"%"!==this.unit&&"%"===c.unit?"*"===b||"/"===b||"%"===b?(a.error({message:"Percent values can only be added or subtracted from other values",index:this.index}),{is:"undefined",value:"undefined"}):new h.SuperMap.CartoCSS.Tree.Dimension(h.SuperMap.CartoCSS.Tree.operate(b,this.value,this.value*c.value*.01),this.unit):new h.SuperMap.CartoCSS.Tree.Dimension(h.SuperMap.CartoCSS.Tree.operate(b,this.value,c.value),this.unit||c.unit)}}]),a}(),h.SuperMap.CartoCSS.Tree.Element=function(){function a(b){d(this,a),this.value=b.trim(),"#"===this.value[0]&&(this.type="id",this.clean=this.value.replace(/^#/,"")),"."===this.value[0]&&(this.type="class",this.clean=this.value.replace(/^\./,"")),-1!==this.value.indexOf("*")&&(this.type="wildcard")}return g(a,[{key:"specificity",value:function(){return["id"===this.type?1:0,"class"===this.type?1:0]}},{key:"toString",value:function(){return this.value}}]),a}(),h.SuperMap.CartoCSS.Tree.Expression=function(){function a(b){d(this,a),this.is="expression",this.value=b}return g(a,[{key:"ev",value:function(a){return this.value.length>1?new h.SuperMap.CartoCSS.Tree.Expression(this.value.map(function(b){return b.ev(a)})):this.value[0].ev(a)}},{key:"toString",value:function(a){return this.value.map(function(b){return b.toString(a)}).join(" ")}}]),a}(),h.SuperMap.CartoCSS.Tree.Field=function(){function a(b){d(this,a),this.is="field",this.value=b||""}return g(a,[{key:"toString",value:function(){return'["'+this.value.toUpperCase()+'"]'}},{key:"ev",value:function(){return this}}]),a}(),h.SuperMap.CartoCSS.Tree.Filter=function(){function a(b,c,e,f,g){d(this,a),this.ops={"<":[" &lt; ","numeric"],">":[" &gt; ","numeric"],"=":[" = ","both"],"!=":[" != ","both"],"<=":[" &lt;= ","numeric"],">=":[" &gt;= ","numeric"],"=~":[".match(","string",")"]},this.key=b,this.op=c,this.val=e,this.index=f,this.filename=g,this.id=this.key+this.op+this.val}return g(a,[{key:"ev",value:function(a){return this.key=this.key.ev(a),this.val=this.val.ev(a),this}},{key:"toString",value:function(){return"["+this.id+"]"}}]),a}(),h.SuperMap.CartoCSS.Tree.Filterset=function(){function a(){d(this,a),this.filters={}}return g(a,[{key:"toJS",value:function(a){function b(a){var b=a.op;"="===b&&(b="==");var c=a.val;void 0!==a._val&&(c=a._val.toString(!0)),a.key&&"scale"===a.key.value?c=+c:"string"!=typeof c&&"object"!==(void 0===c?"undefined":f(c))||(c="'"+c+"'");var d="attributes";return d+"&&"+d+a.key+"&&"+d+a.key+" "+b+c}var c=[];for(var d in this.filters)c.push(b(this.filters[d]));return c.join(" && ")}},{key:"toString",value:function(){var a=[];for(var b in this.filters)a.push(this.filters[b].id);return a.sort().join("	")}},{key:"ev",value:function(a){for(var b in this.filters)this.filters[b].ev(a);return this}},{key:"clone",value:function(){var a=new h.SuperMap.CartoCSS.Tree.Filterset;for(var b in this.filters)a.filters[b]=this.filters[b];return a}},{key:"cloneWith",value:function(a){var b=[];for(var c in a.filters){var d=this.addable(a.filters[c]);if(!1===d)return!1;!0===d&&b.push(a.filters[c])}if(!b.length)return null;var e=new h.SuperMap.CartoCSS.Tree.Filterset;for(c in this.filters)e.filters[c]=this.filters[c];for(;c=b.shift();)e.add(c);return e}},{key:"addable",value:function(a){var b=a.key.toString(),c=a.val.toString();switch(c.match(/^[0-9]+(\.[0-9]*)?$/)&&(c=parseFloat(c)),a.op){case"=":return void 0!==this.filters[b+"="]?this.filters[b+"="].val.toString()==c&&null:!(void 0!==this.filters[b+"!="+c]||void 0!==this.filters[b+">"]&&this.filters[b+">"].val>=c||void 0!==this.filters[b+"<"]&&this.filters[b+"<"].val<=c||void 0!==this.filters[b+">="]&&this.filters[b+">="].val>c||void 0!==this.filters[b+"<="]&&this.filters[b+"<="].val<c);case"=~":return!0;case"!=":return void 0!==this.filters[b+"="]?this.filters[b+"="].val!==c&&null:void 0!==this.filters[b+"!="+c]?null:void 0!==this.filters[b+">"]&&this.filters[b+">"].val>=c?null:void 0!==this.filters[b+"<"]&&this.filters[b+"<"].val<=c?null:void 0!==this.filters[b+">="]&&this.filters[b+">="].val>c?null:!(void 0!==this.filters[b+"<="]&&this.filters[b+"<="].val<c)||null;case">":return b+"="in this.filters?!(this.filters[b+"="].val<=c)&&null:!(void 0!==this.filters[b+"<"]&&this.filters[b+"<"].val<=c)&&!(void 0!==this.filters[b+"<="]&&this.filters[b+"<="].val<=c)&&(void 0!==this.filters[b+">"]&&this.filters[b+">"].val>=c?null:!(void 0!==this.filters[b+">="]&&this.filters[b+">="].val>c)||null);case">=":return void 0!==this.filters[b+"="]?!(this.filters[b+"="].val<c)&&null:!(void 0!==this.filters[b+"<"]&&this.filters[b+"<"].val<=c)&&!(void 0!==this.filters[b+"<="]&&this.filters[b+"<="].val<c)&&(void 0!==this.filters[b+">"]&&this.filters[b+">"].val>=c?null:!(void 0!==this.filters[b+">="]&&this.filters[b+">="].val>=c)||null);case"<":return void 0!==this.filters[b+"="]?!(this.filters[b+"="].val>=c)&&null:!(void 0!==this.filters[b+">"]&&this.filters[b+">"].val>=c)&&!(void 0!==this.filters[b+">="]&&this.filters[b+">="].val>=c)&&(void 0!==this.filters[b+"<"]&&this.filters[b+"<"].val<=c?null:!(void 0!==this.filters[b+"<="]&&this.filters[b+"<="].val<c)||null);case"<=":return void 0!==this.filters[b+"="]?!(this.filters[b+"="].val>c)&&null:!(void 0!==this.filters[b+">"]&&this.filters[b+">"].val>=c)&&!(void 0!==this.filters[b+">="]&&this.filters[b+">="].val>c)&&(void 0!==this.filters[b+"<"]&&this.filters[b+"<"].val<=c?null:!(void 0!==this.filters[b+"<="]&&this.filters[b+"<="].val<=c)||null)}}},{key:"conflict",value:function(a){var b=a.key.toString(),c=a.val.toString();return isNaN(parseFloat(c))||(c=parseFloat(c)),("="===a.op&&void 0!==this.filters[b+"="]&&c!=this.filters[b+"="].val.toString()||"!="===a.op&&void 0!==this.filters[b+"="]&&c==this.filters[b+"="].val.toString()||"="===a.op&&void 0!==this.filters[b+"!="]&&c===this.filters[b+"!="].val.toString())&&a.toString()+" added to "+this.toString()+" produces an invalid filter"}},{key:"add",value:function(a,b){var c,d=a.key.toString(),e=a.op,f=this.conflict(a);if(f)return f;if("="===e){for(var g in this.filters)this.filters[g].key===d&&delete this.filters[g];this.filters[d+"="]=a}else if("!="===e)this.filters[d+"!="+a.val]=a;else if("=~"===e)this.filters[d+"=~"+a.val]=a;else if(">"===e){for(var h in this.filters)this.filters[h].key===d&&this.filters[h].val<=a.val&&delete this.filters[h];this.filters[d+">"]=a}else if(">="===e){for(var i in this.filters)c=+this.filters[i].val.toString(),this.filters[i].key===d&&c<a.val&&delete this.filters[i];void 0!==this.filters[d+"!="+a.val]?(delete this.filters[d+"!="+a.val],a.op=">",this.filters[d+">"]=a):this.filters[d+">="]=a}else if("<"===e){for(var j in this.filters)c=+this.filters[j].val.toString(),this.filters[j].key===d&&c>=a.val&&delete this.filters[j];this.filters[d+"<"]=a}else if("<="===e){for(var k in this.filters)c=+this.filters[k].val.toString(),this.filters[k].key===d&&c>a.val&&delete this.filters[k];void 0!==this.filters[d+"!="+a.val]?(delete this.filters[d+"!="+a.val],a.op="<",this.filters[d+"<"]=a):this.filters[d+"<="]=a}}}]),a}(),h.SuperMap.CartoCSS.Tree.Fontset=function l(a,b){d(this,l),this.fonts=b,this.name="fontset-"+a.effects.length},h.SuperMap.CartoCSS.Tree.Invalid=function(){function a(b,c,e){d(this,a),this.is="invalid",this.chunk=b,this.index=c,this.type="syntax",this.message=e||"Invalid code: "+this.chunk}return g(a,[{key:"ev",value:function(a){return a.error({chunk:this.chunk,index:this.index,type:"syntax",message:this.message||"Invalid code: "+this.chunk}),{is:"undefined"}}}]),a}(),h.SuperMap.CartoCSS.Tree.Keyword=function(){function a(b){d(this,a),this.value=b;var c={transparent:"color","true":"boolean","false":"boolean"};this.is=c[b]?c[b]:"keyword"}return g(a,[{key:"ev",value:function(){return this}}]),g(a,[{key:"toString",value:function(){return this.value}}]),a}(),h.SuperMap.CartoCSS.Tree.Literal=function(){function a(b){d(this,a),this.value=b||"",this.is="field"}return g(a,[{key:"toString",value:function(){return this.value}},{key:"ev",value:function(){return this}}]),a}(),h.SuperMap.CartoCSS.Tree.Operation=function(){function a(b,c,e){d(this,a),this.is="operation",this.op=b.trim(),this.operands=c,this.index=e}return g(a,[{key:"ev",value:function(a){var b,c=this.operands[0].ev(a),d=this.operands[1].ev(a);return"undefined"===c.is||"undefined"===d.is?{is:"undefined",value:"undefined"}:(c instanceof h.SuperMap.CartoCSS.Tree.Dimension&&d instanceof h.SuperMap.CartoCSS.Tree.Color&&("*"===this.op||"+"===this.op?(b=d,
d=c,c=b):a.error({name:"OperationError",message:"Can't substract or divide a color from a number",index:this.index})),c instanceof h.SuperMap.CartoCSS.Tree.Quoted&&d instanceof h.SuperMap.CartoCSS.Tree.Quoted&&"+"!==this.op?(a.error({message:"Can't subtract, divide, or multiply strings.",index:this.index,type:"runtime",filename:this.filename}),{is:"undefined",value:"undefined"}):c instanceof h.SuperMap.CartoCSS.Tree.Field||d instanceof h.SuperMap.CartoCSS.Tree.Field||c instanceof h.SuperMap.CartoCSS.Tree.Literal||d instanceof h.SuperMap.CartoCSS.Tree.Literal?"color"===c.is||"color"===d.is?(a.error({message:"Can't subtract, divide, or multiply colors in expressions.",index:this.index,type:"runtime",filename:this.filename}),{is:"undefined",value:"undefined"}):new h.SuperMap.CartoCSS.Tree.Literal(c.ev(a).toString(!0)+this.op+d.ev(a).toString(!0)):void 0===c.operate?(a.error({message:"Cannot do math with type "+c.is+".",index:this.index,type:"runtime",filename:this.filename}),{is:"undefined",value:"undefined"}):c.operate(a,this.op,d))}}]),a}(),h.SuperMap.CartoCSS.Tree.Quoted=function(){function a(b){d(this,a),this.is="string",this.value=b||""}return g(a,[{key:"toString",value:function(a){var b=this.value.replace(/&/g,"&amp;"),c=b.replace(/\'/g,"\\'").replace(/\"/g,"&quot;").replace(/</g,"&lt;").replace(/\>/g,"&gt;");return!0===a?"'"+c+"'":b}},{key:"ev",value:function(){return this}},{key:"operate",value:function(a,b,c){return new h.SuperMap.CartoCSS.Tree.Quoted(h.SuperMap.CartoCSS.Tree.operate(b,this.toString(),c.toString(this.contains_field)))}}]),a}(),h.SuperMap.CartoCSS.Tree.Reference={_validateValue:{font:function(a,b){return!a.validation_data||!a.validation_data.fonts||-1!=a.validation_data.fonts.indexOf(b)}},setData:function(a){this.data=a,this.selector_cache=function(a){var b={};for(var c in a.symbolizers)for(var d in a.symbolizers[c])a.symbolizers[c][d].hasOwnProperty("css")&&(b[a.symbolizers[c][d].css]=[a.symbolizers[c][d],c,d]);return b}(a),this.mapnikFunctions=function(a){var b={};for(var c in a.symbolizers)for(var d in a.symbolizers[c])if("functions"===a.symbolizers[c][d].type)for(var e=0;e<a.symbolizers[c][d].functions.length;e++){var f=a.symbolizers[c][d].functions[e];b[f[0]]=f[1]}return b}(a),this.required_cache=function(a){var b={};for(var c in a.symbolizers)for(var d in b[c]=[],a.symbolizers[c])a.symbolizers[c][d].required&&b[c].push(a.symbolizers[c][d].css);return b}(a)},setVersion:function(a){return!!h.SuperMap.CartoCSS.mapnik_reference.version.hasOwnProperty(a)&&(this.setData(h.SuperMap.CartoCSS.mapnik_reference.version[a]),!0)},selectorData:function(a,b){return this.selector_cache&&this.selector_cache[a]?this.selector_cache[a][b]:void 0},validSelector:function(a){return!!this.selector_cache[a]},selectorName:function(a){return this.selectorData(a,2)},selector:function(a){return this.selectorData(a,0)},symbolizer:function(a){return this.selectorData(a,1)},requiredProperties:function(a,b){var c=this.required_cache[a];for(var d in c)if(!(c[d]in b))return"Property "+c[d]+" required for defining "+a+" styles."},isFont:function(a){return"font"===this.selector(a).validate},editDistance:function(a,b){if(0===a.length)return b.length;if(0===b.length)return a.length;for(var c=[],d=0;d<=b.length;d++)c[d]=[d];for(var e=0;e<=a.length;e++)c[0][e]=e;for(d=1;d<=b.length;d++)for(e=1;e<=a.length;e++)b.charAt(d-1)===a.charAt(e-1)?c[d][e]=c[d-1][e-1]:c[d][e]=Math.min(c[d-1][e-1]+1,Math.min(c[d][e-1]+1,c[d-1][e]+1));return c[b.length][a.length]},validValue:function(a,b,c){var d;if(this.selector(b)){if("keyword"===c.value[0].is)return function(a,b){return"object"===f(this.selector(b).type)?-1!==this.selector(b).type.indexOf(a.value[0].value):"string"===this.selector(b).type}(c,b);if("undefined"===c.value[0].is)return!0;if("numbers"===this.selector(b).type){for(d in c.value)if("float"!==c.value[d].is)return!1;return!0}if("tags"===this.selector(b).type){if(!c.value)return!1;if(!c.value[0].value)return"tag"===c.value[0].is;for(d=0;d<c.value[0].value.length;d++)if("tag"!==c.value[0].value[d].is)return!1;return!0}if("functions"==this.selector(b).type)return function(a,b){if("string"===a.value[0].is)return!0;for(var c in a.value)for(var d in a.value[c].value){if("call"!==a.value[c].value[d].is)return!1;var e=find(this.selector(b).functions,function(b){return b[0]===a.value[c].value[d].name});if(!(e&&-1===e[1]||e&&e[1]===a.value[c].value[d].args.length))return!1}return!0}(c,b);if("expression"===this.selector(b).type)return!0;if("unsigned"===this.selector(b).type)return"float"===c.value[0].is&&(c.value[0].round(),!0);if(this.selector(b).validate){for(d=0;d<c.value.length;d++)if(this.selector(b).type===c.value[d].is&&this._validateValue[this.selector(b).validate](a,c.value[d].value))return!0;return!1}return this.selector(b).type===c.value[0].is}return!1}},h.SuperMap.CartoCSS.Tree.Reference.setVersion("latest"),h.SuperMap.CartoCSS.Tree.Rule=function(){function a(b,c,e,f){d(this,a),this.is="rule";var g=b.split("/");this.name=g.pop(),this.instance=g.length?g[0]:"__default__",this.value=c instanceof h.SuperMap.CartoCSS.Tree.Value?c:new h.SuperMap.CartoCSS.Tree.Value([c]),this.index=e,this.symbolizer=h.SuperMap.CartoCSS.Tree.Reference.symbolizer(this.name),this.filename=f,this.variable="@"===b.charAt(0)}return g(a,[{key:"clone",value:function(){var a=Object.create(h.SuperMap.CartoCSS.Tree.Rule.prototype);return a.name=this.name,a.value=this.value,a.index=this.index,a.instance=this.instance,a.symbolizer=this.symbolizer,a.filename=this.filename,a.variable=this.variable,a}},{key:"updateID",value:function(){return this.id=this.zoom+"#"+this.instance+"#"+this.name}},{key:"toString",value:function(){return"["+h.SuperMap.CartoCSS.Tree.Zoom.toString(this.zoom)+"] "+this.name+": "+this.value}},{key:"ev",value:function(a){return new h.SuperMap.CartoCSS.Tree.Rule(this.name,this.value.ev(a),this.index,this.filename)}}]),a}(),h.SuperMap.CartoCSS.Tree.Ruleset=function(){function a(b,c){d(this,a),this.is="ruleset",this.selectors=b,this.rules=c,this._lookups={}}return g(a,[{key:"ev",value:function(a){var b,c,d=new h.SuperMap.CartoCSS.Tree.Ruleset(this.selectors,this.rules.slice(0));for(d.root=this.root,a.frames.unshift(d),b=0;b<d.rules.length;b++)c=d.rules[b],d.rules[b]=c.ev?c.ev(a):c;return a.frames.shift(),d}},{key:"match",value:function(a){return!a||0===a.length}},{key:"variables",value:function(){return this._variables?this._variables:this._variables=this.rules.reduce(function(a,b){return b instanceof h.SuperMap.CartoCSS.Tree.Rule&&!0===b.variable&&(a[b.name]=b),a},{})}},{key:"variable",value:function(a){return this.variables()[a]}},{key:"rulesets",value:function(){return this._rulesets?this._rulesets:this._rulesets=this.rules.filter(function(a){return a instanceof h.SuperMap.CartoCSS.Tree.Ruleset})}},{key:"find",value:function(a,b){b=b||this;var c=[],d=a.toString();return d in this._lookups?this._lookups[d]:(this.rulesets().forEach(function(d){if(d!==b)for(var e=0;e<d.selectors.length;e++)if(a.match(d.selectors[e])){a.elements.length>1?Array.prototype.push.apply(c,d.find(new h.SuperMap.CartoCSS.Tree.Selector(null,null,a.elements.slice(1)),b)):c.push(d);break}}),this._lookups[d]=c)}},{key:"evZooms",value:function(a){for(var b=0;b<this.selectors.length;b++){for(var c=h.SuperMap.CartoCSS.Tree.Zoom.all,d=0;d<this.selectors[b].zoom.length;d++)c=this.selectors[b].zoom[d].ev(a).zoom;this.selectors[b].zoom=c}}},{key:"flatten",value:function(a,b,c){var d,e,f=[];for(0===this.selectors.length&&(c.frames=c.frames.concat(this.rules)),this.evZooms(c),d=0;d<this.selectors.length;d++){var g=this.selectors[d];if(g.filters)if(b.length)for(e=0;e<b.length;e++){var i=b[e],j=i.filters.cloneWith(g.filters);if(null===j){if(i.zoom===g.zoom&&i.attachment===g.attachment&&i.elements.join()===g.elements.join()){f.push(i);continue}j=i.filters}else if(!j)continue;var k=Object.create(h.SuperMap.CartoCSS.Tree.Selector.prototype);k.filters=j,k.zoom=g.zoom,k.elements=i.elements.concat(g.elements),i.attachment&&g.attachment?k.attachment=i.attachment+"/"+g.attachment:k.attachment=g.attachment||i.attachment,k.conditions=i.conditions+g.conditions,k.index=g.index,f.push(k)}else f.push(g)}var l=[];for(d=0;d<this.rules.length;d++){var m=this.rules[d];m instanceof h.SuperMap.CartoCSS.Tree.Ruleset?m.flatten(a,f,c):m instanceof h.SuperMap.CartoCSS.Tree.Rule?l.push(m):m instanceof h.SuperMap.CartoCSS.Tree.Invalid&&c.error(m)}var n=!!l.length&&l[0].index;for(d=0;d<f.length;d++)!1!==n&&(f[d].index=n),a.push(new h.SuperMap.CartoCSS.Tree.Definition(f[d],l.slice()));return a}}]),a}(),h.SuperMap.CartoCSS.Tree.Selector=function(){function a(b,c,e,f,g,i){d(this,a),this.elements=e||[],this.attachment=f,this.filters=b||{},this.zoom=void 0!==c?c:h.SuperMap.CartoCSS.Tree.Zoom.all,this.conditions=g,this.index=i}return g(a,[{key:"specificity",value:function(){return this.elements.reduce(function(a,b){var c=b.specificity();return a[0]+=c[0],a[1]+=c[1],a},[0,0,this.conditions,this.index])}}]),a}(),h.SuperMap.CartoCSS.Tree.URL=function(){function a(b,c){d(this,a),this.is="uri",this.value=b,this.paths=c}return g(a,[{key:"toString",value:function(){return this.value.toString()}},{key:"ev",value:function(a){return new h.SuperMap.CartoCSS.Tree.URL(this.value.ev(a),this.paths)}}]),a}(),h.SuperMap.CartoCSS.Tree.Value=function(){function a(b){d(this,a),this.is="value",this.value=b}return g(a,[{key:"ev",value:function(a){return 1===this.value.length?this.value[0].ev(a):new h.SuperMap.CartoCSS.Tree.Value(this.value.map(function(b){return b.ev(a)}))}},{key:"toJS",value:function(a){var b=this.ev(a),c=b.toString();return"color"===b.is||"uri"===b.is||"string"===b.is||"keyword"===b.is?c="'"+c+"'":"field"===b.is?c=c.replace(/\[(.*)\]/g,"attributes['$1']"):b.value&&"object"===f(b.value)&&(c="["+c+"]"),"_value = "+c+";"}},{key:"toString",value:function(a,b,c,d){return this.value.map(function(b){return b.toString(a,d)}).join(c||", ")}},{key:"clone",value:function(){var a=Object.create(h.SuperMap.CartoCSS.Tree.Value.prototype);return Array.isArray(a)?a.value=this.value.slice():a.value=this.value,a.is=this.is,a}}]),a}(),h.SuperMap.CartoCSS.Tree.Variable=function(){function a(b,c,e){d(this,a),this.is="variable",this.name=b,this.index=c,this.filename=e}return g(a,[{key:"toString",value:function(){return this.name}},{key:"ev",value:function(a){if(this._css)return this._css;var b=a.frames.filter(function(a){return a.name===this.name}.bind(this));return b.length?b[0].value.ev(a):(a.error({message:"variable "+this.name+" is undefined",index:this.index,type:"runtime",filename:this.filename}),{is:"undefined",value:"undefined"})}}]),a}(),h.SuperMap.CartoCSS.Tree.Zoom=function(){function a(b,c,e){d(this,a),this.op=b,this.value=c,this.index=e}return g(a,[{key:"setZoom",value:function(a){return this.zoom=a,this}},{key:"ev",value:function(a){var b=parseInt(this.value.ev(a).toString(),10);switch((b>h.SuperMap.CartoCSS.Tree.Zoom.maxZoom||0>b)&&a.error({message:"Only zoom levels between 0 and "+h.SuperMap.CartoCSS.Tree.Zoom.maxZoom+" supported.",index:this.index}),this.op){case"=":return this.zoom="zoom && zoom === "+b,this;case">":this.zoom="zoom && zoom > "+b;break;case">=":this.zoom="zoom && zoom >= "+b;break;case"<":this.zoom="zoom && zoom < "+b;break;case"<=":this.zoom="zoom && zoom <= "+b;break;default:return this}return this}},{key:"toString",value:function(){for(var a="",b=0;b<=h.SuperMap.CartoCSS.Tree.Zoom.maxZoom;b++)a+=this.zoom&1<<b?"X":".";return a}}]),a}(),h.SuperMap.CartoCSS.Tree.Zoom.all=23,h.SuperMap.CartoCSS.Tree.Zoom.maxZoom=22,h.SuperMap.CartoCSS.Tree.Zoom.ranges={0:1e9,1:5e8,2:2e8,3:1e8,4:5e7,5:25e6,6:125e5,7:65e5,8:3e6,9:15e5,10:75e4,11:4e5,12:2e5,13:1e5,14:5e4,15:25e3,16:12500,17:5e3,18:2500,19:1500,20:750,21:500,22:250,23:100}},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ThemeStyle=b.CartoCSS=void 0;var d=c(466),e=c(464);b.CartoCSS=d.CartoCSS,b.ThemeStyle=e.ThemeStyle},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.FetchRequest=b.getRequestTimeout=b.setRequestTimeout=b.isCORS=b.setCORS=void 0;var d=c(21);b.setCORS=d.setCORS,b.isCORS=d.isCORS,b.setRequestTimeout=d.setRequestTimeout,b.getRequestTimeout=d.getRequestTimeout,b.FetchRequest=d.FetchRequest},function(a,b){a.exports=function(){try{return elasticsearch}catch(a){return{}}}()},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ElasticSearch=void 0;var d,e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=c(0),g=c(91),h=c(469),i=(d=h)&&d.__esModule?d:{"default":d},j=c(1),k=b.ElasticSearch=function(){function a(b,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),c=c||{},this.url=b,this.client=new i["default"].Client({host:this.url}),this.change=null,this.openGeoFence=!1,this.outOfGeoFence=null,this.geoFence=null,this.EVENT_TYPES=["change","error","outOfGeoFence"],this.events=new g.Events(this,null,this.EVENT_TYPES),this.eventListeners=null,j.Util.extend(this,c),this.eventListeners instanceof Object&&this.events.on(this.eventListeners)}return e(a,[{key:"setGeoFence",value:function(a){this.geoFence=a}},{key:"bulk",value:function(a,b){return this.client.bulk(a,b)}},{key:"clearScroll",value:function(a,b){return this.client.clearScroll(a,b)}},{key:"count",value:function(a,b){return this.client.count(a,b)}},{key:"create",value:function(a,b){return this.client.create(a,b)}},{key:"delete",value:function(a,b){return this.client["delete"](a,b)}},{key:"deleteByQuery",value:function(a,b){return this.client.deleteByQuery(a,b)}},{key:"deleteScript",value:function(a,b){return this.client.deleteScript(a,b)}},{key:"deleteTemplate",value:function(a,b){return this.client.deleteTemplate(a,b)}},{key:"exists",value:function(a,b){return this.client.exists(a,b)}},{key:"existsSource",value:function(a,b){return this.client.existsSource(a,b)}},{key:"explain",value:function(a,b){return this.client.explain(a,b)}},{key:"fieldCaps",value:function(a,b){return this.client.fieldCaps(a,b)}},{key:"get",value:function(a,b){return this.client.get(a,b)}},{key:"getScript",value:function(a,b){return this.client.getScript(a,b)}},{key:"getSource",value:function(a,b){return this.client.getSource(a,b)}},{key:"getTemplate",value:function(a,b){return this.client.getTemplate(a,b)}},{key:"index",value:function(a,b){return this.client.index(a,b)}},{key:"info",value:function(a,b){return this.client.info(a,b)}},{key:"mget",value:function(a,b){return this.client.mget(a,b)}},{key:"msearch",value:function(a,b){var c=this;return c.client.msearch(a).then(function(a){return c._update(a.responses,b),a},function(a){return b(a),c.events.triggerEvent("error",{error:a}),a})}},{key:"msearchTemplate",value:function(a,b){return this.client.msearchTemplate(a,b)}},{key:"mtermvectors",value:function(a,b){return this.client.mtermvectors(a,b)}},{key:"ping",value:function(a,b){return this.client.ping(a,b)}},{key:"putScript",value:function(a,b){return this.client.putScript(a,b)}},{key:"putTemplate",value:function(a,b){return this.client.putTemplate(a,b)}},{key:"reindex",value:function(a,b){return this.client.reindex(a,b)}},{key:"reindexRessrottle",value:function(a,b){return this.client.reindexRessrottle(a,b)}},{key:"renderSearchTemplate",value:function(a,b){return this.client.renderSearchTemplate(a,b)}},{key:"scroll",value:function(a,b){return this.client.scroll(a,b)}},{key:"search",value:function(a,b){var c=this;return c.client.search(a).then(function(a){return c._update(a.responses,b),a},function(a){return b(a),c.events.triggerEvent("error",{error:a}),a})}},{key:"searchShards",value:function(a,b){return this.client.searchShards(a,b)}},{key:"searchTemplate",value:function(a,b){return this.client.searchTemplate(a,b)}},{key:"suggest",value:function(a,b){return this.client.suggest(a,b)}},{key:"termvectors",value:function(a,b){return this.client.termvectors(a,b)}},{key:"update",value:function(a,b){return this.client.update(a,b)}},{key:"updateByQuery",value:function(a,b){return this.client.updateByQuery(a,b)}},{key:"_update",value:function(a,b){var c=this;a&&(c.data=a,c.openGeoFence&&c.geoFence&&c._validateDatas(a),c.events.triggerEvent("change",{data:c.data}),c.change?c.change&&c.change(a):b&&b(void 0,{responses:a}))}},{key:"_validateDatas",value:function(a){if(a){a instanceof Array||(a=[a]);var b,c=a.length;for(b=0;c>b;b++)this._validateData(a[b])}}},{key:"_validateData",value:function(a){var b=this;a.hits.hits.map(function(c){var d=c._source,e=b._getMeterPerMapUnit(b.geoFence.unit),f=b.geoFence.center[0]*e,g=b.geoFence.center[1]*e,h=d.x*e,i=d.y*e;return b._distance(h,i,f,g)>b.geoFence.radius&&(b.outOfGeoFence&&b.outOfGeoFence(a),b.events.triggerEvent("outOfGeoFence",{data:a})),c})}},{key:"_distance",value:function(a,b,c,d){return Math.sqrt((a-c)*(a-c)+(b-d)*(b-d))}},{key:"_getMeterPerMapUnit",value:function(a){var b=void 0;return"meter"===a?b=1:"degree"===a&&(b=2*Math.PI*6378137/360),b}}]),a}();f.SuperMap.ElasticSearch=k},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ElasticSearch=void 0;var d=c(470);b.ElasticSearch=d.ElasticSearch},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ElasticSearch=void 0;var d=c(471);b.ElasticSearch=d.ElasticSearch},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.TokenServiceParameter=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(4),h=b.TokenServiceParameter=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.userName=null,this.password=null,this.clientType=g.ClientType.NONE,this.ip=null,this.referer=null,this.expiration=60,f.Util.extend(this,b),this.CLASS_NAME="SuperMap.TokenServiceParameter"}return d(a,[{key:"toJSON",value:function(){return{userName:this.userName,password:this.password,clientType:this.clientType,ip:this.ip,referer:this.referer,expiration:this.expiration}}}]),a}();e.SuperMap.TokenServiceParameter=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ServerInfo=void 0;var d=c(0),e=c(1),f=c(4),g=b.ServerInfo=function h(a,b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,h),this.type=a,this.server=null,this.tokenServiceUrl=null,this.keyServiceUrl=null,e.Util.extend(this,b),this.CLASS_NAME="SuperMap.ServerInfo",this.type=this.type||f.ServerType.ISERVER,this.server||console.error("server url require is not  undefined");var c="/services/security/tokens.json";this.type===f.ServerType.ISERVER&&this.server.indexOf("iserver")<0&&(c="/iserver"+c),this.tokenServiceUrl||(this.tokenServiceUrl=this.server+c),this.keyServiceUrl||(this.type===f.ServerType.IPORTAL?this.keyServiceUrl=this.server+"/web/mycontent/keys/register.json":this.type===f.ServerType.ONLINE&&(this.keyServiceUrl=this.server+"/web/mycontent/keys.json"))};d.SuperMap.ServerInfo=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.KeyServiceParameter=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(4),h=b.KeyServiceParameter=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.name=null,this.serviceIds=null,this.clientType=g.ClientType.SERVER,this.limitation=null,f.Util.extend(this,b),this.CLASS_NAME="SuperMap.KeyServiceParameter"}return d(a,[{key:"toJSON",value:function(){return{name:this.name,serviceIds:this.serviceIds,clientType:this.clientType,limitation:this.limitation}}}]),a}();e.SuperMap.KeyServiceParameter=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.TokenServiceParameter=b.ServerInfo=b.SecurityManager=b.KeyServiceParameter=void 0;var d=c(475),e=c(40),f=c(474),g=c(473);b.KeyServiceParameter=d.KeyServiceParameter,b.SecurityManager=e.SecurityManager,b.ServerInfo=f.ServerInfo,b.TokenServiceParameter=g.TokenServiceParameter},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.OnlineQueryDatasParameter=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1);c(210);var g=b.OnlineQueryDatasParameter=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),b=b||{},this.userNames=null,this.types=null,this.fileName=null,this.serviceStatuses=null,this.serviceId=null,this.ids=null,this.keywords=null,this.orderBy=null,this.tags=null,this.filterFields=null,f.Util.extend(this,b),this.CLASS_NAME="SuperMap.OnlineQueryDatasParameter"}return d(a,[{key:"toJSON",value:function(){var a=this,b={types:a.types,fileName:a.fileName,serviceStatuses:a.serviceStatuses,serviceId:a.serviceId,ids:a.ids,keywords:a.keywords,orderBy:a.orderBy,tags:a.tags,filterFields:a.filterFields};for(var c in b)null==b[c]&&delete b[c];return b}}]),a}();e.SuperMap.OnlineQueryDatasParameter=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Online=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(40),g=c(209),h=c(21),i=b.Online=function(){function a(){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.rootUrl="http://www.supermapol.com",this.webUrl=this.rootUrl+"/web";var b=this.webUrl+"/mycontent";this.mDatasUrl=b+"/datas",this.CLASS_NAME="SuperMap.Online"}return d(a,[{key:"load",value:function(){return h.FetchRequest.get(this.rootUrl).then(function(a){return a})}},{key:"login",value:function(){f.SecurityManager.loginOnline(this.rootUrl,!0)}},{key:"queryDatas",value:function(a){var b=this,c=b.mDatasUrl;return a&&(a=a.toJSON()),h.FetchRequest.get(c,a).then(function(a){if(a&&a.content&&!(a.content.length<1)){for(var c=[],d=a.content,e=d.length,f=0;e>f;f++){var h=d[f],i=new g.OnlineData(b.mDatasUrl,h);c.push(i)}return c}})}}]),a}();e.SuperMap.Online=i},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.OnlineServiceBase=b.FilterField=b.DataItemOrderBy=b.DataItemType=b.ServiceStatus=b.OnlineQueryDatasParameter=b.OnlineData=b.Online=void 0;var d=c(210),e=c(478),f=c(209),g=c(477),h=c(208);b.Online=e.Online,b.OnlineData=f.OnlineData,b.OnlineQueryDatasParameter=g.OnlineQueryDatasParameter,b.ServiceStatus=d.ServiceStatus,b.DataItemType=d.DataItemType,b.DataItemOrderBy=d.DataItemOrderBy,b.FilterField=d.FilterField,b.OnlineServiceBase=h.OnlineServiceBase},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.VectorClipJobsService=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=function j(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:j(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0!==f?f.call(c):void 0},f=c(0),g=c(18),h=c(211),i=b.VectorClipJobsService=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.url+="/spatialanalyst/vectorclip",d.CLASS_NAME="SuperMap.VectorClipJobsService",d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g.ProcessingServiceBase),d(b,[{key:"destroy",value:function(){e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"getVectorClipJobs",value:function(){e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getJobs",this).call(this,this.url)}},{key:"getVectorClipJob",value:function(a){e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getJobs",this).call(this,this.url+"/"+a)}},{key:"addVectorClipJob",value:function(a,c){e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"addJob",this).call(this,this.url,a,h.VectorClipJobsParameter,c)}}]),b}();f.SuperMap.VectorClipJobsService=i},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.UpdateTurnNodeWeightService=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(15),g=c(212),h=b.UpdateTurnNodeWeightService=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.CLASS_NAME="SuperMap.UpdateTurnNodeWeightService",d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,f.NetworkAnalystServiceBase),d(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(a){if(a instanceof g.UpdateTurnNodeWeightParameters){var b=this,c=b.url.substr(b.url.length-1,1),d=b.parse(a);"/"===c&&b.url.splice(b.url.length-1,1),b.url=b.url+d+".json?";var e=a.turnNodeWeight?a.turnNodeWeight:null;b.request({method:"PUT",scope:b,data:e,success:b.serviceProcessCompleted,failure:b.serviceProcessFailed})}}},{key:"parse",value:function(a){if(a){var b="";for(var c in a)if(""!==a[c]&&"turnNodeWeight"!==a[c])switch(c){case"nodeId":b+="/turnnodeweight/"+a[c];break;case"fromEdgeId":b+="/fromedge/"+a[c];break;case"toEdgeId":b+="/toedge/"+a[c];break;case"weightField":b+="/weightfield/"+a[c]}return b}}}]),b}();e.SuperMap.UpdateTurnNodeWeightService=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.UpdateEdgeWeightService=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(15),g=c(213),h=b.UpdateEdgeWeightService=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.CLASS_NAME="SuperMap.UpdateEdgeWeightService",d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,f.NetworkAnalystServiceBase),d(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(a){if(a instanceof g.UpdateEdgeWeightParameters){var b=this,c=b.url.substr(b.url.length-1,1),d=b.parse(a);"/"===c&&b.url.splice(b.url.length-1,1),b.url=b.url+d+".json?";var e=a.edgeWeight?a.edgeWeight:null;b.request({method:"PUT",scope:b,data:e,success:b.serviceProcessCompleted,failure:b.serviceProcessFailed})}}},{key:"parse",value:function(a){if(a){var b="";for(var c in a)if(""!==a[c]&&"edgeWeight"!==a[c])switch(c){case"edgeId":b+="/edgeweight/"+a[c];break;case"fromNodeId":b+="/fromnode/"+a[c];break;case"toNodeId":b+="/tonode/"+a[c];break;case"weightField":b+="/weightfield/"+a[c]}return b}}}]),b}();e.SuperMap.UpdateEdgeWeightService=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.TransferSolutionService=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(6),h=c(214),i=b.TransferSolutionService=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.CLASS_NAME="SuperMap.TransferSolutionService",d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g.CommonServiceBase),d(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(a){if(a instanceof h.TransferSolutionParameters){var b,c,d=this;c=d.url.substr(d.url.length-1,1),d.url+="/"===c?"":"/",d.url+="solutions.json?",b={points:f.Util.toJSON(a.points),walkingRatio:a.walkingRatio,transferTactic:a.transferTactic,solutionCount:a.solutionCount,transferPreference:a.transferPreference},a.evadeLines&&(b.evadeLines=f.Util.toJSON(a.evadeLines)),a.evadeStops&&(b.evadeStops=f.Util.toJSON(a.evadeStops)),
a.priorLines&&(b.priorLines=f.Util.toJSON(a.priorLines)),a.priorStops&&(b.priorStops=f.Util.toJSON(a.priorStops)),a.travelTime&&(b.travelTime=a.travelTime),d.request({method:"GET",params:b,scope:d,success:d.serviceProcessCompleted,failure:d.serviceProcessFailed})}}}]),b}();e.SuperMap.TransferSolutionService=i},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.TransferPathService=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(6),h=c(215),i=b.TransferPathService=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.CLASS_NAME="SuperMap.TransferPathService",d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g.CommonServiceBase),d(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(a){if(a instanceof h.TransferPathParameters){var b,c,d=this;c=d.url.substr(d.url.length-1,1),d.url+="/"===c?"":"/",d.url+="path.json?",b={points:f.Util.toJSON(a.points),transferLines:f.Util.toJSON(a.transferLines)},d.request({method:"GET",params:b,scope:d,success:d.serviceProcessCompleted,failure:d.serviceProcessFailed})}}}]),b}();e.SuperMap.TransferPathService=i},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.TopologyValidatorJobsService=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=function j(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:j(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0!==f?f.call(c):void 0},f=c(0),g=c(18),h=c(217),i=b.TopologyValidatorJobsService=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.url+="/spatialanalyst/topologyvalidator",d.CLASS_NAME="SuperMap.TopologyValidatorJobsService",d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g.ProcessingServiceBase),d(b,[{key:"destroy",value:function(){e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"getTopologyValidatorJobs",value:function(){e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getJobs",this).call(this,this.url)}},{key:"getTopologyValidatorJob",value:function(a){e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getJobs",this).call(this,this.url+"/"+a)}},{key:"addTopologyValidatorJob",value:function(a,c){e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"addJob",this).call(this,this.url,a,h.TopologyValidatorJobsParameter,c)}}]),b}();f.SuperMap.TopologyValidatorJobsService=i},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.TilesetsService=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(6),g=b.TilesetsService=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.CLASS_NAME="SuperMap.TilesetsService",d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,f.CommonServiceBase),d(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(){if(this.url){var a=this,b=a.url.substr(a.url.length-1,1);a.url=a.url+("/"===b?"tilesets":"/tilesets")+".json?",a.request({method:"GET",scope:a,success:a.serviceProcessCompleted,failure:a.serviceProcessFailed})}}}]),b}();e.SuperMap.TilesetsService=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.GeometryBatchAnalystService=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(10),h=c(127),i=c(125),j=c(124),k=c(36),l=b.GeometryBatchAnalystService=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return c&&f.Util.extend(d,c),d.CLASS_NAME="SuperMap.GeometryBatchAnalystService",d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g.SpatialAnalystBase),d(b,[{key:"processAsync",value:function(a){var b=this;"/"!==b.url.substr(b.url.length-1,1)&&(b.url+="/"),b.url+="geometry/batchanalyst.json?returnContent=true&ignoreAnalystParam=true";var c=b._processParams(a),d=f.Util.toJSON(c);b.request({method:"POST",data:d,scope:b,success:b.serviceProcessCompleted,failure:b.serviceProcessFailed})}},{key:"_processParams",value:function(a){var b=this;if(f.Util.isArray(a)){var c=[];return a.map(function(a){return c.push(b._toJSON(a)),a}),c}}},{key:"_toJSON",value:function(a){var b={};if("buffer"===a.analystName)b.analystName="buffer",b.param={},h.GeometryBufferAnalystParameters.toObject(a.param,b.param);else if("overlay"===a.analystName)b.analystName="overlay",b.param={},i.GeometryOverlayAnalystParameters.toObject(a.param,b.param);else if("interpolationDensity"===a.analystName)b.analystName="interpolationDensity",b.param={},k.InterpolationAnalystParameters.toObject(a.param,b.param);else if("interpolationidw"===a.analystName)b.analystName="interpolationidw",b.param={},k.InterpolationAnalystParameters.toObject(a.param,b.param);else if("interpolationRBF"===a.analystName)b.analystName="interpolationRBF",b.param={},k.InterpolationAnalystParameters.toObject(a.param,b.param);else if("interpolationKriging"===a.analystName)b.analystName="interpolationKriging",b.param={},k.InterpolationAnalystParameters.toObject(a.param,b.param);else{if("thiessenpolygon"!==a.analystName)return a;b.analystName="thiessenpolygon",b.param={},j.GeometryThiessenAnalystParameters.toObject(a.param,b.param)}return b}},{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}}]),b}();e.SuperMap.GeometryBatchAnalystService=l},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ThiessenAnalystService=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(10),h=c(292),i=c(124),j=b.ThiessenAnalystService=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.mode=null,c&&f.Util.extend(d,c),d.CLASS_NAME="SuperMap.ThiessenAnalystService",d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g.SpatialAnalystBase),d(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this),this.mode=null}},{key:"processAsync",value:function(a){var b={},c=this;"/"!==c.url.substr(c.url.length-1,1)&&(c.url+="/"),a instanceof h.DatasetThiessenAnalystParameters?(c.mode="datasets",c.url+="datasets/"+a.dataset+"/thiessenpolygon",h.DatasetThiessenAnalystParameters.toObject(a,b)):a instanceof i.GeometryThiessenAnalystParameters&&(c.mode="geometry",c.url+="geometry/thiessenpolygon",i.GeometryThiessenAnalystParameters.toObject(a,b));var d=f.Util.toJSON(b);c.url+=".json?returnContent=true",c.request({method:"POST",data:d,scope:c,success:c.serviceProcessCompleted,failure:c.serviceProcessFailed})}}]),b}();e.SuperMap.ThiessenAnalystService=j},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ThemeService=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(6),h=c(218),i=b.ThemeService=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));c&&e.SuperMap.Util.extend(d,c);var f,g=d;return f=g.url.substr(g.url.length-1,1),g.url+="/"===f?"tempLayersSet.json?":"/tempLayersSet.json?",d.CLASS_NAME="SuperMap.ThemeService",d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g.CommonServiceBase),d(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(a){if(a instanceof h.ThemeParameters){var b,c=this;b=c.getJsonParameters(a),c.request({method:"POST",data:b,scope:c,success:c.serviceProcessCompleted,failure:c.serviceProcessFailed})}}},{key:"getJsonParameters",value:function(a){var b,c="",d=null,e=null,g=null;c+="[{'type': 'UGC','subLayers': {'layers': [";for(var h=0;h<a.themes.length;h++){d=a.themes[h];var i=f.Util.toJSON(d);if(c+="{'theme': "+(i=i.slice(0,-1))+"},'type': 'UGC','ugcLayerType': 'THEME',",(e=a.displayFilters)&&e.length>0&&(c+=1===e.length?"'displayFilter':\""+e[0]+'",':"'displayFilter':\""+e[h]+'",'),(g=a.displayOrderBy)&&g.length>0&&(c+=1===g.length?"'displayOrderBy':'"+g[0]+"',":"'displayOrderBy':'"+g[h]+"',"),(b=a.fieldValuesDisplayFilter)&&(c+="'fieldValuesDisplayFilter':"+f.Util.toJSON(b)+","),a.joinItems&&a.joinItems.length>0&&a.joinItems[h]&&(c+="'joinItems':["+f.Util.toJSON(a.joinItems[h])+"],"),a.datasetNames&&a.dataSourceNames){var j=a.datasetNames[h]?h:a.datasetNames.length-1,k=a.dataSourceNames[h]?h:a.dataSourceNames.length-1;c+="'datasetInfo': {'name': '"+a.datasetNames[j]+"','dataSourceName': '"+a.dataSourceNames[k]+"'}},"}else c+="},"}a.themes&&a.themes.length>0&&(c=c.substring(0,c.length-1)),c+="]},";var l=this.url.split("/");return c+="'name': '"+l[l.length-2]+"'}]"}}]),b}();e.SuperMap.ThemeService=i},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ThemeLabelUniqueItem=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(37),h=b.ThemeLabelUniqueItem=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.caption=null,this.unique=null,this.offsetX=0,this.offsetY=0,this.visible=!0,this.style=new g.ServerTextStyle,b&&f.Util.extend(this,b),this.CLASS_NAME="SuperMap.ThemeLabelUniqueItem"}return d(a,[{key:"destroy",value:function(){var a=this;a.unique=null,a.caption=null,a.offsetX=null,a.offsetY=null,a.style&&(a.style.destroy(),a.style=null),a.visible=null}}],[{key:"fromObj",value:function(b){if(b){var c=new a;return f.Util.copy(c,b),c}}}]),a}();e.SuperMap.ThemeLabelUniqueItem=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.TerrainCurvatureCalculationService=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(10),g=c(223),h=b.TerrainCurvatureCalculationService=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.CLASS_NAME="SuperMap.TerrainCurvatureCalculationService",d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,f.SpatialAnalystBase),d(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(a){var b=this;"/"!==b.url.substr(b.url.length-1,1)&&(b.url+="/");var c={};a instanceof g.TerrainCurvatureCalculationParameters&&(b.url+="datasets/"+a.dataset+"/terraincalculation/curvature"),g.TerrainCurvatureCalculationParameters.toObject(a,c);var d=e.SuperMap.Util.toJSON(c);b.url+=".json?returnContent=true",b.request({method:"POST",data:d,scope:b,success:b.serviceProcessCompleted,failure:b.serviceProcessFailed})}}]),b}();e.SuperMap.TerrainCurvatureCalculationService=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SurfaceAnalystService=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(10),g=c(1),h=c(294),i=c(274),j=c(86),k=b.SurfaceAnalystService=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.CLASS_NAME="SuperMap.SurfaceAnalystService",d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,f.SpatialAnalystBase),d(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(a){if(a instanceof j.SurfaceAnalystParameters){var b,c=this;b=c.getJsonParameters(a),c.request({method:"POST",data:b,scope:c,success:c.serviceProcessCompleted,failure:c.serviceProcessFailed})}}},{key:"getJsonParameters",value:function(a){var b,c="",d={},e=this;if(a instanceof h.DatasetSurfaceAnalystParameters)b=e.url.substr(e.url.length-1,1),e.url+="/"===b?"datasets/"+a.dataset+"/"+a.surfaceAnalystMethod.toLowerCase()+".json?returnContent=true":"/datasets/"+a.dataset+"/"+a.surfaceAnalystMethod.toLowerCase()+".json?returnContent=true",h.DatasetSurfaceAnalystParameters.toObject(a,d),c=g.Util.toJSON(d);else{if(!(a instanceof i.GeometrySurfaceAnalystParameters))return;b=e.url.substr(e.url.length-1,1),e.url+="/"===b?"geometry/"+a.surfaceAnalystMethod.toLowerCase()+".json?returnContent=true":"/geometry/"+a.surfaceAnalystMethod.toLowerCase()+".json?returnContent=true",c=g.Util.toJSON(a)}return c}}]),b}();e.SuperMap.SurfaceAnalystService=k},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SupplyCenter=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=b.SupplyCenter=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.maxWeight=null,this.nodeID=null,this.resourceValue=null,this.type=null,b&&f.Util.extend(this,b),this.CLASS_NAME="SuperMap.SupplyCenter"}return d(a,[{key:"destroy",value:function(){this.maxWeight=null,this.nodeID=null,this.resourceValue=null,this.type=null}}],[{key:"fromJson",value:function(b){return b?new a({maxWeight:b.maxWeight,nodeID:b.nodeID,resourceValue:b.resourceValue,type:b.type}):void 0}}]),a}();e.SuperMap.SupplyCenter=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SummaryRegionJobsService=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=function j(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:j(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0!==f?f.call(c):void 0},f=c(0),g=c(18),h=c(224),i=b.SummaryRegionJobsService=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.url+="/spatialanalyst/summaryregion",d.CLASS_NAME="SuperMap.SummaryRegionJobsService",d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g.ProcessingServiceBase),d(b,[{key:"destroy",value:function(){e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"getSummaryRegionJobs",value:function(){e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getJobs",this).call(this,this.url)}},{key:"getSummaryRegionJob",value:function(a){e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getJobs",this).call(this,this.url+"/"+a)}},{key:"addSummaryRegionJob",value:function(a,c){e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"addJob",this).call(this,this.url,a,h.SummaryRegionJobParameter,c)}}]),b}();f.SuperMap.SummaryRegionJobsService=i},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SummaryMeshJobsService=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=function j(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:j(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0!==f?f.call(c):void 0},f=c(0),g=c(18),h=c(225),i=b.SummaryMeshJobsService=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.url+="/spatialanalyst/aggregatepoints",d.CLASS_NAME="SuperMap.SummaryMeshJobsService",d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g.ProcessingServiceBase),d(b,[{key:"destroy",value:function(){e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"getSummaryMeshJobs",value:function(){e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getJobs",this).call(this,this.url)}},{key:"getSummaryMeshJob",value:function(a){e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getJobs",this).call(this,this.url+"/"+a)}},{key:"addSummaryMeshJob",value:function(a,c){e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"addJob",this).call(this,this.url,a,h.SummaryMeshJobParameter,c)}}]),b}();f.SuperMap.SummaryMeshJobsService=i},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SummaryAttributesJobsService=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=function j(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:j(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0!==f?f.call(c):void 0},f=c(0),g=c(18),h=c(226),i=b.SummaryAttributesJobsService=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.url+="/spatialanalyst/summaryattributes",d.CLASS_NAME="SuperMap.SummaryAttributesJobsService",d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g.ProcessingServiceBase),d(b,[{key:"destroy",value:function(){e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"getSummaryAttributesJobs",value:function(){e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getJobs",this).call(this,this.url)}},{key:"getSummaryAttributesJob",value:function(a){e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getJobs",this).call(this,this.url+"/"+a)}},{key:"addSummaryAttributesJob",value:function(a,c){e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"addJob",this).call(this,this.url,a,h.SummaryAttributesJobsParameter,c)}}]),b}();f.SuperMap.SummaryAttributesJobsService=i},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.StopQueryService=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(6),h=c(227),i=b.StopQueryService=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return c=c||{},f.Util.extend(d,c),d.CLASS_NAME="SuperMap.StopQueryService",d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g.CommonServiceBase),d(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this),f.Util.reset(this)}},{key:"processAsync",value:function(a){if(a instanceof h.StopQueryParameters){var b,c=this;b=c.url.substr(c.url.length-1,1),c.url+="/"===b?"":"/",c.url+="stops/keyword/"+a.keyWord,c.url+=".json?",c.request({method:"GET",params:{returnPosition:a.returnPosition},scope:c,success:c.serviceProcessCompleted,failure:c.serviceProcessFailed})}}}]),b}();e.SuperMap.StopQueryService=i},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SingleObjectQueryJobsService=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=function j(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:j(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0!==f?f.call(c):void 0},f=c(0),g=c(18),h=c(228),i=b.SingleObjectQueryJobsService=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.url+="/spatialanalyst/query",d.CLASS_NAME="SuperMap.SingleObjectQueryJobsService",d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g.ProcessingServiceBase),d(b,[{key:"destroy",value:function(){e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"getQueryJobs",value:function(){e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getJobs",this).call(this,this.url)}},{key:"getQueryJob",value:function(a){e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getJobs",this).call(this,this.url+"/"+a)}},{key:"addQueryJob",value:function(a,c){e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"addJob",this).call(this,this.url,a,h.SingleObjectQueryJobsParameter,c)}}]),b}();f.SuperMap.SingleObjectQueryJobsService=i},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SetLayerStatusService=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),
d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(6),h=c(229),i=b.SetLayerStatusService=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.lastparams=null,d.mapUrl=a,c&&f.Util.extend(d,c),d.CLASS_NAME="SuperMap.SetLayerStatusService",d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g.CommonServiceBase),d(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this),f.Util.reset(this)}},{key:"processAsync",value:function(a){if(a instanceof h.SetLayerStatusParameters){var b=this;b.url=b.mapUrl;var c=b.url.substr(b.url.length-1,1);if(b.url+="/"===c?"":"/",null==a.resourceID)b.url+="tempLayersSet",b.url+=".json?",b.lastparams=a,b.request({method:"POST",scope:b,success:b.createTempLayerComplete,failure:b.serviceProcessFailed});else{b.url+="tempLayersSet/"+a.resourceID,b.url+=".json?",b.url+="elementRemain=true&reference="+a.resourceID+"&holdTime="+a.holdTime.toString();var d="[{";d+='"type":"UGC",',null!=a.layerStatusList&&a.layerStatusList.length>0&&(d+='"subLayers":'+a.toJSON()),d+=',"visible":true,',d+='"name":"'+this.getMapName(this.mapUrl)+'"',d+="}]",b.request({method:"PUT",data:d,scope:b,success:b.serviceProcessCompleted,failure:b.serviceProcessFailed})}}}},{key:"createTempLayerComplete",value:function(a){(a=f.Util.transformResult(a)).succeed&&(this.lastparams.resourceID=a.newResourceID),this.processAsync(this.lastparams)}},{key:"getMapName",value:function(a){var b=a;"/"===b.charAt(b.length-1)&&(b=b.substr(0,b.length-1));var c=b.lastIndexOf("/");return b.substring(c+1,b.length)}},{key:"serviceProcessCompleted",value:function(a){null!=(a=f.Util.transformResult(a))&&null!=this.lastparams&&(a.newResourceID=this.lastparams.resourceID),this.events.triggerEvent("processCompleted",{result:a})}}]),b}();e.SuperMap.SetLayerStatusService=i},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SetLayersInfoService=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(6);c(230);var h=b.SetLayersInfoService=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.resourceID=null,d.isTempLayers=!1,c&&e.SuperMap.Util.extend(d,c),d.CLASS_NAME="SuperMap.SetLayersInfoService",d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g.CommonServiceBase),d(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this),f.Util.reset(this)}},{key:"processAsync",value:function(a){if(a){var b,c,d=[],e=this,g="";c=e.url.substr(e.url.length-1,1),e.url+="/"===c?"":"/",e.isTempLayers?(e.url+="tempLayersSet/"+e.resourceID,g="PUT"):(e.url+="tempLayersSet",g="POST"),e.url+=".json?",a.subLayers||(a.subLayers={layers:[]}),a.subLayers.layers||(a.subLayers.layers=[]);var h=a.subLayers.layers,i=h.length;for(var j in h){if("GRID"===h[j].ugcLayerType){var k={},l=h[j].colorDictionarys;for(var m in l)k[l[m].elevation]=l[m].color}h[j].colorDictionary=k,delete h[j].colorDictionarys}for(var n=0;i>n;n++)h[n].toJsonObject?d.push(h[n].toJsonObject()):d.push(h[n]);(b=f.Util.extend(b,a)).subLayers={layers:d},b.object=null;var o=f.Util.toJSON([b]);e.request({method:g,data:o,scope:e,success:e.serviceProcessCompleted,failure:e.serviceProcessFailed})}}}]),b}();e.SuperMap.SetLayersInfoService=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SetLayerInfoService=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(6);c(231);var h=b.SetLayerInfoService=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return c&&f.Util.extend(d,c),d.CLASS_NAME="SuperMap.SetLayerInfoService",d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g.CommonServiceBase),d(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this),f.Util.reset(this)}},{key:"processAsync",value:function(a){if(a){var b=this;b.url+=".json";var c=f.Util.toJSON(a);b.request({method:"PUT",data:c,scope:b,success:b.serviceProcessCompleted,failure:b.serviceProcessFailed})}}}]),b}();e.SuperMap.SetLayerInfoService=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ServerFeature=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(90),g=c(9),h=c(1),i=b.ServerFeature=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.fieldNames=null,this.fieldValues=null,this.geometry=null,b&&h.Util.extend(this,b),this.CLASS_NAME="SuperMap.ServerFeature"}return d(a,[{key:"destroy",value:function(){var a=this;a.fieldNames=null,a.fieldValues=null,a.geometry&&(a.geometry.destroy(),a.geometry=null)}},{key:"toFeature",value:function(){var a,b,c,d,e={},g=this;for(var h in a=g.fieldNames,b=g.fieldValues,a)e[a[h]]=b[h];return g.geometry&&(c=g.geometry.toGeometry()),d=new f.Vector(c,e),g.geometry&&g.geometry.id&&(d.fid=g.geometry.id),d}}],[{key:"fromJson",value:function(b){var c=null;return b?((c=b.geometry)&&(c=g.ServerGeometry.fromJson(c)),new a({fieldNames:b.fieldNames,fieldValues:b.fieldValues,geometry:c})):void 0}}]),a}();e.SuperMap.ServerFeature=i},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.RouteLocatorService=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(10),h=c(232),i=b.RouteLocatorService=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.CLASS_NAME="SuperMap.RouteLocatorService",d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g.SpatialAnalystBase),d(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(a){if(a instanceof h.RouteLocatorParameters){var b,c=this;b=c.getJsonParameters(a),c.request({method:"POST",data:b,scope:c,success:c.serviceProcessCompleted,failure:c.serviceProcessFailed})}}},{key:"getJsonParameters",value:function(a){var b,c="geometry/routelocator";return b=this.url.substr(this.url.length-1,1),a.dataset&&(c="datasets/"+a.dataset+"/linearreferencing/routelocator",a.sourceRoute=null),this.url+="/"===b?c+".json":"/"+c+".json",this.url+="?returnContent=true",f.Util.toJSON(a)}}]),b}();e.SuperMap.RouteLocatorService=i},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.RouteCalculateMeasureService=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(10),h=c(233),i=b.RouteCalculateMeasureService=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.CLASS_NAME="SuperMap.RouteCalculateMeasureService",d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g.SpatialAnalystBase),d(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(a){if(a instanceof h.RouteCalculateMeasureParameters){var b,c=this;b=c.getJsonParameters(a),c.request({method:"POST",data:b,scope:c,success:c.serviceProcessCompleted,failure:c.serviceProcessFailed})}}},{key:"getJsonParameters",value:function(a){var b,c="geometry/calculatemeasure";return b=this.url.substr(this.url.length-1,1),this.url+="/"===b?c+".json":"/"+c+".json",this.url+="?returnContent=true",f.Util.toJSON(a)}}]),b}();e.SuperMap.RouteCalculateMeasureService=i},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.QueryBySQLService=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(60),h=c(234),i=b.QueryBySQLService=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.CLASS_NAME="SuperMap.QueryBySQLService",d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g.QueryService),d(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"getJsonParameters",value:function(a){if(a instanceof h.QueryBySQLParameters){var b,c="";return b=this.getQueryParameters(a),c+="'queryMode':'SqlQuery','queryParameters':",c="{"+(c+=f.Util.toJSON(b))+"}"}}}]),b}();e.SuperMap.QueryBySQLService=i},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.QueryByGeometryService=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(60),h=c(235),i=c(9),j=b.QueryByGeometryService=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.CLASS_NAME="SuperMap.QueryByGeometryService",d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g.QueryService),d(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"getJsonParameters",value:function(a){if(a instanceof h.QueryByGeometryParameters){var b,c="",d=a.geometry,e=i.ServerGeometry.fromGeometry(d);return b=this.getQueryParameters(a),c+="'queryMode':'SpatialQuery','queryParameters':",c="{"+(c+=f.Util.toJSON(b)+",'geometry':"+f.Util.toJSON(e)+",'spatialQueryMode':"+f.Util.toJSON(a.spatialQueryMode))+"}"}}}]),b}();e.SuperMap.QueryByGeometryService=j},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.QueryByDistanceService=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(60),h=c(236),i=c(9),j=b.QueryByDistanceService=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.CLASS_NAME="SuperMap.QueryByDistanceService",d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g.QueryService),d(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"getJsonParameters",value:function(a){if(a instanceof h.QueryByDistanceParameters){var b="",c=this.getQueryParameters(a),d=i.ServerGeometry.fromGeometry(a.geometry);return b+=a.isNearest?"'queryMode':'FindNearest','queryParameters':":"'queryMode':'DistanceQuery','queryParameters':",b+=f.Util.toJSON(c),b="{"+(b+=",'geometry':"+f.Util.toJSON(d)+",'distance':"+a.distance)+"}"}}}]),b}();e.SuperMap.QueryByDistanceService=j},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.QueryByBoundsService=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(60),h=c(237),i=b.QueryByBoundsService=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.CLASS_NAME="SuperMap.QueryByBoundsService",d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g.QueryService),d(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"getJsonParameters",value:function(a){if(!(a instanceof h.QueryByBoundsParameters))return null;var b,c="",d=a.bounds;return b=this.getQueryParameters(a),c+="'queryMode':'BoundsQuery','queryParameters':",c+=f.Util.toJSON(b),c="{"+(c+=",'bounds': {'rightTop':{'y':"+d.top+",'x':"+d.right+"},'leftBottom':{'y':"+d.bottom+",'x':"+d.left+"}}")+"}"}}]),b}();e.SuperMap.QueryByBoundsService=i},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.OverlayGeoJobsService=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=function j(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:j(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0!==f?f.call(c):void 0},f=c(0),g=c(18),h=c(238),i=b.OverlayGeoJobsService=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.url+="/spatialanalyst/overlay",d.CLASS_NAME="SuperMap.OverlayGeoJobsService",d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g.ProcessingServiceBase),d(b,[{key:"destroy",value:function(){e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"getOverlayGeoJobs",value:function(){e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getJobs",this).call(this,this.url)}},{key:"getOverlayGeoJob",value:function(a){e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getJobs",this).call(this,this.url+"/"+a)}},{key:"addOverlayGeoJob",value:function(a,c){e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"addJob",this).call(this,this.url,a,h.OverlayGeoJobParameter,c)}}]),b}();f.SuperMap.OverlayGeoJobsService=i},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.OverlayAnalystService=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(10),h=c(295),i=c(125),j=b.OverlayAnalystService=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.mode=null,c&&f.Util.extend(d,c),d.CLASS_NAME="SuperMap.OverlayAnalystService",d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g.SpatialAnalystBase),d(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this),this.mode=null}},{key:"processAsync",value:function(a){var b={},c=this;"/"!==c.url.substr(c.url.length-1,1)&&(c.url+="/"),a instanceof h.DatasetOverlayAnalystParameters?(c.mode="datasets",c.url+="datasets/"+a.sourceDataset+"/overlay.json?returnContent=true",h.DatasetOverlayAnalystParameters.toObject(a,b)):a instanceof i.GeometryOverlayAnalystParameters&&(c.mode="geometry",a.operateGeometries&&a.sourceGeometries?c.url+="geometry/overlay/batch.json?returnContent=true&ignoreAnalystParam=true":c.url+="geometry/overlay.json?returnContent=true",i.GeometryOverlayAnalystParameters.toObject(a,b));var d=f.Util.toJSON(b);c.request({method:"POST",data:d,scope:c,success:c.serviceProcessCompleted,failure:c.serviceProcessFailed})}}]),b}();e.SuperMap.OverlayAnalystService=j},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.MeasureService=void 0;var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=c(0),g=c(1),h=c(6),i=c(239),j=c(9),k=c(4),l=b.MeasureService=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.measureMode=k.MeasureMode.DISTANCE,c&&g.Util.extend(d,c),d.CLASS_NAME="SuperMap.MeasureService",d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,h.CommonServiceBase),e(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this),this.measureMode=null}},{key:"processAsync",value:function(a){if(a instanceof i.MeasureParameters){var b,c,e,f=this,h=a.geometry;if(h){e=f.url.substr(f.url.length-1,1),f.measureMode===k.MeasureMode.AREA?f.url+="/"===e?"area.json?":"/area.json?":f.url+="/"===e?"distance.json?":"/distance.json?";var l,m,n,o=j.ServerGeometry.fromGeometry(h);o&&(b=o.parts[0],c=o.points.splice(0,b),a.prjCoordSys?("object"===d(a.prjCoordSys)?l='{"epsgCode"'+(m=a.prjCoordSys.projCode).substring(m.indexOf(":"),m.length)+"}":"string"==typeof a.prjCoordSys&&(l='{"epsgCode"'+a.prjCoordSys.substring(a.prjCoordSys.indexOf(":"),a.prjCoordSys.length)+"}"),n={point2Ds:g.Util.toJSON(c),unit:a.unit,prjCoordSys:l}):n={point2Ds:g.Util.toJSON(c),unit:a.unit},f.request({method:"GET",params:n,scope:f,success:f.serviceProcessCompleted,failure:f.serviceProcessFailed}))}}}}]),b}();f.SuperMap.MeasureService=l},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.MathExpressionAnalysisService=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(10),h=c(240),i=b.MathExpressionAnalysisService=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.CLASS_NAME="SuperMap.MathExpressionAnalysisService",d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g.SpatialAnalystBase),d(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(a){var b=this;"/"!==b.url.substr(b.url.length-1,1)&&(b.url+="/");var c={};a instanceof h.MathExpressionAnalysisParameters&&(b.url+="datasets/"+a.dataset+"/mathanalyst"),h.MathExpressionAnalysisParameters.toObject(a,c);var d=f.Util.toJSON(c);b.url+=".json?returnContent=true",b.request({method:"POST",data:d,scope:b,success:b.serviceProcessCompleted,failure:b.serviceProcessFailed})}}]),b}();e.SuperMap.MathExpressionAnalysisService=i},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.MapService=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(6),h=b.MapService=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));d.projection=null,d.CLASS_NAME="SuperMap.MapService",c&&f.Util.extend(d,c);var e=d;if(e.projection){var g=e.projection.split(":");g instanceof Array&&(2===g.length&&(e.url+='?prjCoordSys={"epsgCode":'+g[1]+"}"),1===g.length&&(e.url+='?prjCoordSys={"epsgCode":'+g[0]+"}"))}return d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g.CommonServiceBase),d(b,[{key:"destroy",value:function(){(function c(a,b,d){null===a&&(a=Function.prototype);var e=Object.getOwnPropertyDescriptor(a,b);if(void 0===e){var f=Object.getPrototypeOf(a);return null===f?void 0:c(f,b,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this);var a=this;a.events&&(a.events.un(a.eventListeners),a.events.listeners=null,a.events.destroy(),a.events=null,a.eventListeners=null)}},{key:"processAsync",value:function(){this.request({method:"GET",scope:this,success:this.serviceProcessCompleted,failure:this.serviceProcessFailed})}},{key:"serviceProcessCompleted",value:function(a){var b=(a=f.Util.transformResult(a)).code>=200&&a.code<300||0==a.code||304===a.code,c=a.code&&b;!a.code||c?this.events&&this.events.triggerEvent("processCompleted",{result:a}):this.events.triggerEvent("processFailed",{error:a})}}]),b}();e.SuperMap.MapService=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.KernelDensityJobsService=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=function j(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);
if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:j(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0!==f?f.call(c):void 0},f=c(0),g=c(18),h=c(245),i=b.KernelDensityJobsService=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.url+="/spatialanalyst/density",d.CLASS_NAME="SuperMap.KernelDensityJobsService",d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g.ProcessingServiceBase),d(b,[{key:"destroy",value:function(){e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"getKernelDensityJobs",value:function(){e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getJobs",this).call(this,this.url)}},{key:"getKernelDensityJob",value:function(a){e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getJobs",this).call(this,this.url+"/"+a)}},{key:"addKernelDensityJob",value:function(a,c){e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"addJob",this).call(this,this.url,a,h.KernelDensityJobParameter,c)}}]),b}();f.SuperMap.KernelDensityJobsService=i},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.InterpolationDensityAnalystParameters=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(36),h=b.InterpolationDensityAnalystParameters=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return a&&f.Util.extend(c,a),c.CLASS_NAME="SuperMap.InterpolationDensityAnalystParameters",c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g.InterpolationAnalystParameters),d(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}}]),b}();e.SuperMap.InterpolationDensityAnalystParameters=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.InterpolationAnalystService=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(10),h=c(248),i=c(515),j=c(247),k=c(246),l=c(36),m=b.InterpolationAnalystService=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.mode=null,c&&f.Util.extend(d,c),d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g.SpatialAnalystBase),d(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this),this.mode=null,this.CLASS_NAME="SuperMap.InterpolationAnalystService"}},{key:"processAsync",value:function(a){var b={},c=this;"/"!==c.url.substr(c.url.length-1,1)&&(c.url+="/"),a instanceof i.InterpolationDensityAnalystParameters?(c.mode="Density","geometry"===a.InterpolationAnalystType?c.url+="geometry/interpolation/density":c.url+="datasets/"+a.dataset+"/interpolation/density"):a instanceof j.InterpolationIDWAnalystParameters?(c.mode="IDW","geometry"===a.InterpolationAnalystType?c.url+="geometry/interpolation/idw":c.url+="datasets/"+a.dataset+"/interpolation/idw"):a instanceof h.InterpolationRBFAnalystParameters?(c.mode="RBF","geometry"===a.InterpolationAnalystType?c.url+="geometry/interpolation/rbf":c.url+="datasets/"+a.dataset+"/interpolation/rbf"):a instanceof k.InterpolationKrigingAnalystParameters&&(c.mode="Kriging","geometry"===a.InterpolationAnalystType?c.url+="geometry/interpolation/kriging":c.url+="datasets/"+a.dataset+"/interpolation/kriging"),l.InterpolationAnalystParameters.toObject(a,b);var d=f.Util.toJSON(b);c.url+=".json?returnContent=true",c.request({method:"POST",data:d,scope:c,success:c.serviceProcessCompleted,failure:c.serviceProcessFailed})}}]),b}();e.SuperMap.InterpolationAnalystService=m},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.GetLayersInfoService=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(6),h=c(266),i=c(251),j=c(250),k=c(249),l=b.GetLayersInfoService=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.isTempLayers=!1,c&&f.Util.extend(d,c),d.CLASS_NAME="SuperMap.GetLayersInfoService",d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g.CommonServiceBase),d(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this),f.Util.reset(this)}},{key:"processAsync",value:function(){var a=this,b=a.url.substr(a.url.length-1,1);a.isTempLayers?a.url+=".json?":(a.url+="/"===b?"":"/",a.url+="layers.json?"),a.request({method:"GET",params:null,scope:a,success:a.serviceProcessCompleted,failure:a.serviceProcessFailed})}},{key:"serviceProcessCompleted",value:function(a){var b,c;c=(b=(a=f.Util.transformResult(a))&&a.length>0?a[0].subLayers.layers:null)?b.length:0,this.handleLayers(c,b),this.events.triggerEvent("processCompleted",{result:a[0]})}},{key:"handleLayers",value:function(a,b){var c;if(a)for(var d=0;a>d;d++)if(b[d].subLayers&&b[d].subLayers.layers&&b[d].subLayers.layers.length>0)this.handleLayers(b[d].subLayers.layers.length,b[d].subLayers.layers);else switch(b[d].ugcLayerType){case"THEME":(c=new h.ServerTheme).fromJson(b[d]),b[d]=c;break;case"GRID":(c=new i.Grid).fromJson(b[d]),b[d]=c;break;case"IMAGE":(c=new j.UGCImage).fromJson(b[d]),b[d]=c;break;case"VECTOR":(c=new k.Vector).fromJson(b[d]),b[d]=c}}}]),b}();e.SuperMap.GetLayersInfoService=l},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.GetGridCellInfosService=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(6),h=c(267),i=b.GetGridCellInfosService=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.datasetName=null,d.dataSourceName=null,d.datasetType=null,d.X=null,d.Y=null,c&&f.Util.extend(d,c),d.CLASS_NAME="SuperMap.GetGridCellInfosService",d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g.CommonServiceBase),d(b,[{key:"destroy",value:function(){(function c(a,b,d){null===a&&(a=Function.prototype);var e=Object.getOwnPropertyDescriptor(a,b);if(void 0===e){var f=Object.getPrototypeOf(a);return null===f?void 0:c(f,b,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this);var a=this;a.X=null,a.Y=null,a.datasetName=null,a.dataSourceName=null,a.datasetType=null}},{key:"processAsync",value:function(a){if(a instanceof h.GetGridCellInfosParameters){f.Util.extend(this,a);var b=this,c=b.url.substr(b.url.length-1,1);b.url+="/"==c?"datasources/"+b.dataSourceName+"/datasets/"+b.datasetName+".json":"/datasources/"+b.dataSourceName+"/datasets/"+b.datasetName+".json",b.queryRequest(b.getDatasetInfoCompleted,b.getDatasetInfoFailed)}}},{key:"queryRequest",value:function(a,b){this.request({method:"GET",data:null,scope:this,success:a,failure:b})}},{key:"getDatasetInfoCompleted",value:function(a){a=f.Util.transformResult(a),this.datasetType=a.datasetInfo.type,this.queryGridInfos()}},{key:"queryGridInfos",value:function(){var a=this,b=/\.json/.exec(a.url).index,c=a.url.substring(b),d=a.url.substring(0,a.url.length-c.length);"GRID"==a.datasetType?a.url=d+"/gridValue"+c:a.url=d+"/imageValue"+c,null!=a.X&&null!=a.Y&&(a.url+="?x="+a.X+"&y="+a.Y),a.queryRequest(a.serviceProcessCompleted,a.serviceProcessFailed)}},{key:"getDatasetInfoFailed",value:function(a){this.serviceProcessFailed(a)}}]),b}();e.SuperMap.GetGridCellInfosService=i},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.GetFieldsService=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(6),h=b.GetFieldsService=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.datasource=null,d.dataset=null,c&&f.Util.extend(d,c),d.CLASS_NAME="SuperMap.GetFieldsService",d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g.CommonServiceBase),d(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this),this.datasource=null,this.dataset=null}},{key:"processAsync",value:function(){var a=this,b=a.url.substr(a.url.length-1,1),c="datasources/"+a.datasource+"/datasets/"+a.dataset;a.url+="/"==b?c+"/fields.json?":"/"+c+"/fields.json?",a.request({method:"GET",data:null,scope:a,success:a.serviceProcessCompleted,failure:a.serviceProcessFailed})}}]),b}();e.SuperMap.GetFieldsService=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.GetFeaturesBySQLService=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(45),g=c(268),h=b.GetFeaturesBySQLService=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.CLASS_NAME="SuperMap.GetFeaturesBySQLService",d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,f.GetFeaturesServiceBase),d(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"getJsonParameters",value:function(a){return g.GetFeaturesBySQLParameters.toJsonParameters(a)}}]),b}();e.SuperMap.GetFeaturesBySQLService=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.GetFeaturesByIDsService=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(45),g=c(269),h=b.GetFeaturesByIDsService=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.CLASS_NAME="SuperMap.GetFeaturesByIDsService",d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,f.GetFeaturesServiceBase),d(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"getJsonParameters",value:function(a){return g.GetFeaturesByIDsParameters.toJsonParameters(a)}}]),b}();e.SuperMap.GetFeaturesByIDsService=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.GetFeaturesByGeometryService=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(45),g=c(270),h=b.GetFeaturesByGeometryService=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.CLASS_NAME="SuperMap.GetFeaturesByGeometryService",d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,f.GetFeaturesServiceBase),d(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"getJsonParameters",value:function(a){return g.GetFeaturesByGeometryParameters.toJsonParameters(a)}}]),b}();e.SuperMap.GetFeaturesByGeometryService=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.GetFeaturesByBufferService=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(45),g=c(271),h=b.GetFeaturesByBufferService=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.CLASS_NAME="SuperMap.GetFeaturesByBufferService",d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,f.GetFeaturesServiceBase),d(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"getJsonParameters",value:function(a){return a instanceof g.GetFeaturesByBufferParameters?e.SuperMap.GetFeaturesByBufferParameters.toJsonParameters(a):void 0}}]),b}();e.SuperMap.GetFeaturesByBufferService=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.GetFeaturesByBoundsService=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(45),g=c(272),h=b.GetFeaturesByBoundsService=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.CLASS_NAME="SuperMap.GetFeaturesByBoundsService",d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,f.GetFeaturesServiceBase),d(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"getJsonParameters",value:function(a){return g.GetFeaturesByBoundsParameters.toJsonParameters(a)}}]),b}();e.SuperMap.GetFeaturesByBoundsService=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.GeoRelationAnalystService=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(10),g=c(273),h=b.GeoRelationAnalystService=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.CLASS_NAME="SuperMap.GeoRelationAnalystService",d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,f.SpatialAnalystBase),d(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(a){if(a instanceof g.GeoRelationAnalystParameters){var b=this,c=b.url.substr(b.url.length-1,1);b.url+="/"===c?"datasets/"+a.dataset+"/georelation":"/datasets/"+a.dataset+"/georelation";var d=e.SuperMap.Util.toJSON(a);b.url+=".json?returnContent=true",b.request({method:"POST",data:d,scope:b,success:b.serviceProcessCompleted,failure:b.serviceProcessFailed})}}}]),b}();e.SuperMap.GeoRelationAnalystService=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.GeoHashGridAggParameter=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(4),g=c(1),h=c(130),i=b.GeoHashGridAggParameter=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.precision=5,c.aggType=f.AggregationType.GEOHASH_GRID,g.Util.extend(c,a),c.CLASS_NAME="SuperMap.GeoHashGridAggParameter",c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,h.AggregationParameter),d(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this),this.aggType=null}}],[{key:"toJsonParameters",value:function(a){var b={aggName:a.aggName,aggFieldName:a.aggFieldName,aggType:a.aggType,precision:a.precision};return a.subAgg&&(b.subAgg=a.subAgg),g.Util.toJson(b)}}]),b}();e.SuperMap.GeoHashGridAggParameter=i},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.GeoBoundingBoxQueryBuilderParameter=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(4),h=c(131),i=b.GeoBoundingBoxQueryBuilderParameter=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.bounds=null,c.queryType=g.AggregationQueryBuilderType.GEO_BOUNDING_BOX,c.CLASS_NAME="SuperMap.GeoBoundingBoxQueryBuilderParameter",f.Util.extend(c,a),c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,h.AggQueryBuilderParameter),d(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this),this.bounds=null,this.queryType=null}}]),b}();e.SuperMap.GeoBoundingBoxQueryBuilderParameter=i},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.GenerateSpatialDataService=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(10),h=c(275),i=b.GenerateSpatialDataService=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.CLASS_NAME="SuperMap.GenerateSpatialDataService",d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g.SpatialAnalystBase),d(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(a){if(a instanceof h.GenerateSpatialDataParameters){var b,c=this;b=c.getJsonParameters(a),c.request({method:"POST",data:b,scope:c,success:c.serviceProcessCompleted,failure:c.serviceProcessFailed})}}},{key:"getJsonParameters",value:function(a){var b,c="datasets/"+a.routeTable+"/linearreferencing/generatespatialdata";return b=this.url.substr(this.url.length-1,1),this.url+="/"===b?c+".json":"/"+c+".json",this.url+="?returnContent=true",f.Util.toJSON(a)}}]),b}();e.SuperMap.GenerateSpatialDataService=i},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.FindTSPPathsService=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(15),g=c(276),h=c(17),i=b.FindTSPPathsService=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.CLASS_NAME="SuperMap.FindTSPPathsService",d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,f.NetworkAnalystServiceBase),d(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(a){if(a instanceof g.FindTSPPathsParameters){var b,c=this,d=c.url.substr(c.url.length-1,1);c.url=c.url+("/"===d?"tsppath":"/tsppath")+".json?",b={parameter:e.SuperMap.Util.toJSON(a.parameter),endNodeAssigned:a.endNodeAssigned,nodes:c.getNodesJson(a)},c.request({method:"GET",params:b,scope:c,success:c.serviceProcessCompleted,failure:c.serviceProcessFailed})}}},{key:"getNodesJson",value:function(a){var b,c,d,e,f="";if(!1===a.isAnalyzeById){for(b="[",c=0,d=(e=a.nodes).length;d>c;c++)c>0&&(b+=","),
b+='{"x":'+e[c].x+',"y":'+e[c].y+"}";f+=b+="]"}else if(1==a.isAnalyzeById){for(var g="[",h=a.nodes,i=h.length,j=0;i>j;j++)j>0&&(g+=","),g+=h[j];f+=g+="]"}return f}},{key:"toGeoJSONResult",value:function(a){if(!a||!a.tspPathList)return null;var b=new h.GeoJSON;return a.tspPathList.forEach(function(a){a.route&&(a.route=b.toGeoJSON(a.route)),a.pathGuideItems&&(a.pathGuideItems=b.toGeoJSON(a.pathGuideItems)),a.edgeFeatures&&(a.edgeFeatures=b.toGeoJSON(a.edgeFeatures)),a.nodeFeatures&&(a.nodeFeatures=b.toGeoJSON(a.nodeFeatures))}),a}}]),b}();e.SuperMap.FindTSPPathsService=i},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.FindServiceAreasService=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(15),h=c(277),i=c(17),j=b.FindServiceAreasService=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.CLASS_NAME="SuperMap.FindServiceAreasService",d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g.NetworkAnalystServiceBase),d(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(a){if(a instanceof h.FindServiceAreasParameters){var b,c=this,d=c.url.substr(c.url.length-1,1);c.url=c.url+("/"===d?"servicearea":"/servicearea")+".json?",b={isFromCenter:a.isFromCenter,isCenterMutuallyExclusive:a.isCenterMutuallyExclusive,parameter:f.Util.toJSON(a.parameter),centers:c.getJson(a.isAnalyzeById,a.centers),weights:c.getJson(!0,a.weights)},c.request({method:"GET",params:b,scope:c,success:c.serviceProcessCompleted,failure:c.serviceProcessFailed})}}},{key:"getJson",value:function(a,b){var c="[",d=b?b.length:0;if(!1===a)for(var e=0;d>e;e++)e>0&&(c+=","),c+='{"x":'+b[e].x+',"y":'+b[e].y+"}";else if(1==a)for(var f=0;d>f;f++)f>0&&(c+=","),c+=b[f];return c+="]"}},{key:"toGeoJSONResult",value:function(a){if(!a||!a.serviceAreaList)return a;var b=new i.GeoJSON;return a.serviceAreaList.map(function(a){return a.serviceRegion&&(a.serviceRegion=b.toGeoJSON(a.serviceRegion)),a.edgeFeatures&&(a.edgeFeatures=b.toGeoJSON(a.edgeFeatures)),a.nodeFeatures&&(a.nodeFeatures=b.toGeoJSON(a.nodeFeatures)),a.routes&&(a.routes=b.toGeoJSON(a.routes)),a}),a}}]),b}();e.SuperMap.FindServiceAreasService=j},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.FindPathService=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(15),h=c(278),i=c(17),j=b.FindPathService=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.CLASS_NAME="SuperMap.FindPathService",d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g.NetworkAnalystServiceBase),d(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(a){if(a instanceof h.FindPathParameters){var b,c=this,d=c.url.substr(c.url.length-1,1);c.url=c.url+("/"===d?"path":"/path")+".json?",b={hasLeastEdgeCount:a.hasLeastEdgeCount,parameter:f.Util.toJSON(a.parameter),nodes:c.getJson(a.isAnalyzeById,a.nodes)},c.request({method:"GET",params:b,scope:c,success:c.serviceProcessCompleted,failure:c.serviceProcessFailed})}}},{key:"getJson",value:function(a,b){var c="[",d=b?b.length:0;if(!1===a)for(var e=0;d>e;e++)e>0&&(c+=","),c+='{"x":'+b[e].x+',"y":'+b[e].y+"}";else if(1==a)for(var f=0;d>f;f++)f>0&&(c+=","),c+=b[f];return c+="]"}},{key:"toGeoJSONResult",value:function(a){if(!a||!a.pathList||a.pathList.length<1)return null;var b=new i.GeoJSON;return a.pathList.forEach(function(a){a.route&&(a.route=b.toGeoJSON(a.route)),a.pathGuideItems&&(a.pathGuideItems=b.toGeoJSON(a.pathGuideItems)),a.edgeFeatures&&(a.edgeFeatures=b.toGeoJSON(a.edgeFeatures)),a.nodeFeatures&&(a.nodeFeatures=b.toGeoJSON(a.nodeFeatures))}),a}}]),b}();e.SuperMap.FindPathService=j},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.FindMTSPPathsService=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(15),h=c(279),i=c(17),j=b.FindMTSPPathsService=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.CLASS_NAME="SuperMap.FindMTSPPathsService",d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g.NetworkAnalystServiceBase),d(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(a){if(a instanceof h.FindMTSPPathsParameters){var b,c=this,d=c.getJson(a.isAnalyzeById,a.centers),e=c.getJson(a.isAnalyzeById,a.nodes);c.url=c.url+"/mtsppath.json?",b={centers:d,nodes:e,parameter:f.Util.toJSON(a.parameter),hasLeastTotalCost:a.hasLeastTotalCost},c.request({method:"GET",params:b,scope:c,success:c.serviceProcessCompleted,failure:c.serviceProcessFailed})}}},{key:"getJson",value:function(a,b){var c="[",d=b?b.length:0;if(!1===a)for(var e=0;d>e;e++)e>0&&(c+=","),c+='{"x":'+b[e].x+',"y":'+b[e].y+"}";else if(1==a)for(var f=0;d>f;f++)f>0&&(c+=","),c+=b[f];return c+="]"}},{key:"toGeoJSONResult",value:function(a){if(!a||!a.pathList)return null;var b=new i.GeoJSON;return a.pathList.map(function(a){return a.route&&(a.route=b.toGeoJSON(a.route)),a.pathGuideItems&&(a.pathGuideItems=b.toGeoJSON(a.pathGuideItems)),a.edgeFeatures&&(a.edgeFeatures=b.toGeoJSON(a.edgeFeatures)),a.nodeFeatures&&(a.nodeFeatures=b.toGeoJSON(a.nodeFeatures)),a}),a}}]),b}();e.SuperMap.FindMTSPPathsService=j},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.FindLocationService=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(15),h=c(280),i=c(17),j=b.FindLocationService=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.CLASS_NAME="SuperMap.FindLocationService",d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g.NetworkAnalystServiceBase),d(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(a){if(a instanceof h.FindLocationParameters){var b,c=this,d=c.url.substr(c.url.length-1,1);c.url=c.url+("/"===d?"location":"/location")+".json?",b={isFromCenter:a.isFromCenter,expectedSupplyCenterCount:a.expectedSupplyCenterCount,weightName:a.weightName,turnWeightField:a.turnWeightField,returnEdgeFeature:!0,returnEdgeGeometry:!0,returnNodeFeature:!0,mapParameter:f.Util.toJSON(a.mapParameter),supplyCenters:c.getCentersJson(a.supplyCenters)},c.request({method:"GET",params:b,scope:c,success:c.serviceProcessCompleted,failure:c.serviceProcessFailed})}}},{key:"getCentersJson",value:function(a){for(var b="[",c=a?a.length:0,d=0;c>d;d++)d>0&&(b+=","),b+=f.Util.toJSON(a[d]);return b+="]"}},{key:"toGeoJSONResult",value:function(a){if(!a)return null;var b=new i.GeoJSON;return a.demandResults&&(a.demandResults=b.toGeoJSON(a.demandResults)),a.supplyResults&&(a.supplyResults=b.toGeoJSON(a.supplyResults)),a}}]),b}();e.SuperMap.FindLocationService=j},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.FindClosestFacilitiesService=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(17),h=c(15),i=c(281),j=b.FindClosestFacilitiesService=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.CLASS_NAME="SuperMap.FindClosestFacilitiesService",d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,h.NetworkAnalystServiceBase),d(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(a){if(a instanceof i.FindClosestFacilitiesParameters){var b,c=this,d=c.url.substr(c.url.length-1,1);c.url=c.url+("/"===d?"closestfacility":"/closestfacility")+".json?",b={expectFacilityCount:a.expectFacilityCount,fromEvent:a.fromEvent,maxWeight:a.maxWeight,parameter:f.Util.toJSON(a.parameter),event:f.Util.toJSON(a.event),facilities:c.getJson(a.isAnalyzeById,a.facilities)},c.request({method:"GET",params:b,scope:c,success:c.serviceProcessCompleted,failure:c.serviceProcessFailed})}}},{key:"getJson",value:function(a,b){var c="[",d=b?b.length:0;if(!1===a)for(var e=0;d>e;e++)e>0&&(c+=","),c+='{"x":'+b[e].x+',"y":'+b[e].y+"}";else if(1==a)for(var f=0;d>f;f++)f>0&&(c+=","),c+=b[f];return c+="]"}},{key:"toGeoJSONResult",value:function(a){if(!a||!a.facilityPathList)return a;var b=new g.GeoJSON;return a.facilityPathList.map(function(a){return a.route&&(a.route=b.toGeoJSON(a.route)),a.pathGuideItems&&(a.pathGuideItems=b.toGeoJSON(a.pathGuideItems)),a.edgeFeatures&&(a.edgeFeatures=b.toGeoJSON(a.edgeFeatures)),a.nodeFeatures&&(a.nodeFeatures=b.toGeoJSON(a.nodeFeatures)),a}),a}}]),b}();e.SuperMap.FindClosestFacilitiesService=j},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.FieldStatisticService=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(6),g=c(1);c(282);var h=b.FieldStatisticService=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.datasource=null,d.dataset=null,d.field=null,d.statisticMode=null,c&&g.Util.extend(d,c),d.CLASS_NAME="SuperMap.FieldStatisticService",d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,f.CommonServiceBase),d(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this),this.datasource=null,this.dataset=null,this.field=null,this.statisticMode=null}},{key:"processAsync",value:function(){var a=this,b=a.url.substr(a.url.length-1,1),c="datasources/"+a.datasource+"/datasets/"+a.dataset+"/fields/"+a.field+"/"+a.statisticMode;a.url+="/"==b?c+".json?":"/"+c+".json?",a.request({method:"GET",data:null,scope:a,success:a.serviceProcessCompleted,failure:a.serviceProcessFailed})}}]),b}();e.SuperMap.FieldStatisticService=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.FilterAggParameter=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(4),g=c(1),h=c(130);c(131);var i=b.FilterAggParameter=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.filterParam=null,c.aggType=f.AggregationType.FILTER,c.CLASS_NAME="SuperMap.FilterAggParameter",g.Util.extend(c,a),c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,h.AggregationParameter),d(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this),this.filterParam&&(this.filterParam=null)}}]),b}();e.SuperMap.FilterAggParameter=i},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.FacilityAnalystUpstream3DService=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(6),g=c(284),h=b.FacilityAnalystUpstream3DService=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.CLASS_NAME="SuperMap.FacilityAnalystUpstream3DService",d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,f.CommonServiceBase),d(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(a){if(a instanceof g.FacilityAnalystUpstream3DParameters){var b,c=this,d=c.url.substr(c.url.length-1,1);c.url=c.url+("/"===d?"upstreamcirticalfaclilities":"/upstreamcirticalfaclilities")+".json?",b={sourceNodeIDs:a.sourceNodeIDs,edgeID:a.edgeID,nodeID:a.nodeID,isUncertainDirectionValid:a.isUncertainDirectionValid},c.request({method:"GET",params:b,scope:c,success:c.serviceProcessCompleted,failure:c.serviceProcessFailed})}}}]),b}();e.SuperMap.FacilityAnalystUpstream3DService=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.FacilityAnalystTraceup3DService=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(6),g=c(285),h=b.FacilityAnalystTraceup3DService=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.CLASS_NAME="SuperMap.FacilityAnalystTraceup3DService",d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,f.CommonServiceBase),d(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(a){if(a instanceof g.FacilityAnalystTraceup3DParameters){var b,c=this,d=c.url.substr(c.url.length-1,1);c.url=c.url+("/"===d?"traceupresult":"/traceupresult")+".json?",b={edgeID:a.edgeID,nodeID:a.nodeID,weightName:a.weightName,isUncertainDirectionValid:a.isUncertainDirectionValid},c.request({method:"GET",params:b,scope:c,success:c.serviceProcessCompleted,failure:c.serviceProcessFailed})}}}]),b}();e.SuperMap.FacilityAnalystTraceup3DService=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.FacilityAnalystTracedown3DService=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(6),g=c(286),h=b.FacilityAnalystTracedown3DService=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.CLASS_NAME="SuperMap.FacilityAnalystTracedown3DService",d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,f.CommonServiceBase),d(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(a){if(a instanceof g.FacilityAnalystTracedown3DParameters){var b,c=this,d=c.url.substr(c.url.length-1,1);c.url=c.url+("/"===d?"tracedownresult":"/tracedownresult")+".json?",b={edgeID:a.edgeID,nodeID:a.nodeID,weightName:a.weightName,isUncertainDirectionValid:a.isUncertainDirectionValid},c.request({method:"GET",params:b,scope:c,success:c.serviceProcessCompleted,failure:c.serviceProcessFailed})}}}]),b}();e.SuperMap.FacilityAnalystTracedown3DService=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.FacilityAnalystStreamService=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(15),g=c(287),h=b.FacilityAnalystStreamService=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.CLASS_NAME="SuperMap.FacilityAnalystStreamService",d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,f.NetworkAnalystServiceBase),d(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(a){if(a instanceof g.FacilityAnalystStreamParameters){var b,c=this,d=c.url.substr(c.url.length-1,1);if(0===a.queryType)c.url=c.url+("/"===d?"upstreamcirticalfaclilities":"/upstreamcirticalfaclilities")+".json?";else{if(1!==a.queryType)return;c.url=c.url+("/"===d?"downstreamcirticalfaclilities":"/downstreamcirticalfaclilities")+".json?"}b={sourceNodeIDs:a.sourceNodeIDs,isUncertainDirectionValid:a.isUncertainDirectionValid},null!==a.edgeID&&null!==a.nodeID||null===a.edgeID&&null===a.nodeID||(null!==a.edgeID?b.edgeID=a.edgeID:b.nodeID=a.nodeID,c.request({method:"GET",params:b,scope:c,success:c.serviceProcessCompleted,failure:c.serviceProcessFailed}))}}}]),b}();e.SuperMap.FacilityAnalystStreamService=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.FacilityAnalystSources3DService=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(6),g=c(288),h=b.FacilityAnalystSources3DService=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.CLASS_NAME="SuperMap.FacilityAnalystSources3DService",d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,f.CommonServiceBase),d(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(a){if(a instanceof g.FacilityAnalystSources3DParameters){var b,c=this,d=c.url.substr(c.url.length-1,1);c.url=c.url+("/"===d?"sources":"/sources")+".json?",b={edgeID:a.edgeID,nodeID:a.nodeID,weightName:a.weightName,isUncertainDirectionValid:a.isUncertainDirectionValid},c.request({method:"GET",params:b,scope:c,success:c.serviceProcessCompleted,failure:c.serviceProcessFailed})}}}]),b}();e.SuperMap.FacilityAnalystSources3DService=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.FacilityAnalystSinks3DService=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(6),g=c(289),h=b.FacilityAnalystSinks3DService=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.CLASS_NAME="SuperMap.FacilityAnalystSinks3DService",d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,f.CommonServiceBase),d(b,[{key:"destroy",value:function(){f.CommonServiceBase.prototype.destroy.apply(this,arguments)}},{key:"processAsync",value:function(a){if(a instanceof g.FacilityAnalystSinks3DParameters){var b,c=this,d=c.url.substr(c.url.length-1,1);c.url=c.url+("/"===d?"sinks":"/sinks")+".json?",b={edgeID:a.edgeID,nodeID:a.nodeID,weightName:a.weightName,isUncertainDirectionValid:a.isUncertainDirectionValid},c.request({method:"GET",params:b,scope:c,success:c.serviceProcessCompleted,failure:c.serviceProcessFailed})}}}]),b}();e.SuperMap.FacilityAnalystSinks3DService=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.EditFeaturesService=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(4),h=c(6),i=c(290),j=b.EditFeaturesService=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));d.returnContent=!1,d.isUseBatch=!1,c&&f.Util.extend(d,c);var e,g=d;return e=g.url.substr(g.url.length-1,1),g.url+="/"==e?"features.json?":"/features.json?",d.CLASS_NAME="SuperMap.EditFeaturesService",d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,h.CommonServiceBase),d(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this),this.returnContent=null,this.isUseBatch=null,this.fromIndex=null,this.toIndex=null}},{key:"processAsync",value:function(a){if(a instanceof i.EditFeaturesParameters){var b=this,c="POST",d="",e=a.editType,h=null;b.returnContent=a.returnContent,b.isUseBatch=a.isUseBatch,h=i.EditFeaturesParameters.toJsonParameters(a),e===g.EditType.DELETE?(d=f.Util.toJSON(a.IDs),b.url+="ids="+d,c="DELETE",h=d):e===g.EditType.UPDATE?c="PUT":(b.isUseBatch&&(b.url+="isUseBatch="+b.isUseBatch,
b.returnContent=!1),b.returnContent&&(b.url+="returnContent="+b.returnContent,c="POST")),b.request({method:c,data:h,scope:b,success:b.serviceProcessCompleted,failure:b.serviceProcessFailed})}}}]),b}();e.SuperMap.EditFeaturesService=j},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.DensityAnalystService=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(10),h=c(291),i=b.DensityAnalystService=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.mode=null,c&&f.Util.extend(d,c),d.CLASS_NAME="SuperMap.DensityAnalystService",d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g.SpatialAnalystBase),d(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this),this.mode=null}},{key:"processAsync",value:function(a){var b=this;"/"!==b.url.substr(b.url.length-1,1)&&(b.url+="/");var c=new Object;a instanceof h.DensityKernelAnalystParameters&&(b.url+="datasets/"+a.dataset+"/densityanalyst/kernel",b.mode="kernel"),h.DensityKernelAnalystParameters.toObject(a,c);var d=f.Util.toJSON(c);b.url+=".json?returnContent=true",b.request({method:"POST",data:d,scope:b,success:b.serviceProcessCompleted,failure:b.serviceProcessFailed})}}]),b}();e.SuperMap.DensityAnalystService=i},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.DataFlowService=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(6),g=c(1),h=c(40),i=b.DataFlowService=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b),(c=c||{}).EVENT_TYPES=["broadcastSocketConnected","broadcastSocketError","broadcastFailed","broadcastSucceeded","subscribeSocketConnected","subscribeSocketError","messageSucceeded","setFilterParamSucceeded"];var d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));d.geometry=null,d.prjCoordSys=null,d.excludeField=null;var e=d;return"/"!==e.url.substr(e.url.length-1,1)&&(e.url+="/"),g.Util.extend(e,c),d.CLASS_NAME="SuperMap.DataFlowService",d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,f.CommonServiceBase),d(b,[{key:"initBroadcast",value:function(){var a=this;return this.broadcastWebSocket=this._connect(a.url+"broadcast"),this.broadcastWebSocket.onopen=function(b){a.broadcastWebSocket.isOpen=!0,b.eventType="broadcastSocketConnected",a.events.triggerEvent("broadcastSocketConnected",b)},this.broadcastWebSocket.onclose=function(b){a.broadcastWebSocket.isOpen=!1,b.eventType="broadcastSocketConnected",a.events.triggerEvent("broadcastSocketConnected",b)},this.broadcastWebSocket.onerror=function(b){b.eventType="broadcastSocketError",a.events.triggerEvent("broadcastSocketError",b)},this}},{key:"broadcast",value:function(a){this.broadcastWebSocket&&this.broadcastWebSocket.isOpen?(this.broadcastWebSocket.send(JSON.stringify(a)),this.events.triggerEvent("broadcastSucceeded")):this.events.triggerEvent("broadcastFailed")}},{key:"initSubscribe",value:function(){var a=this;return this.subscribeWebSocket=this._connect(this.url+"subscribe"),this.subscribeWebSocket.onopen=function(b){a.subscribeWebSocket.send(a._getFilterParams()),b.eventType="subscribeSocketConnected",a.events.triggerEvent("subscribeSocketConnected",b)},this.subscribeWebSocket.onerror=function(b){b.eventType="subscribeSocketError",a.events.triggerEvent("subscribeSocketError",b)},this.subscribeWebSocket.onmessage=function(b){a._onMessage(b)},this}},{key:"setExcludeField",value:function(a){return this.excludeField=a,this.subscribeWebSocket.send(this._getFilterParams()),this}},{key:"setGeometry",value:function(a){return this.geometry=a,this.subscribeWebSocket.send(this._getFilterParams()),this}},{key:"unSubscribe",value:function(){this.subscribeWebSocket&&(this.subscribeWebSocket.close(),this.subscribeWebSocket=null)}},{key:"unBroadcast",value:function(){this.broadcastWebSocket&&(this.broadcastWebSocket.close(),this.broadcastWebSocket=null)}},{key:"destroy",value:function(){f.CommonServiceBase.prototype.destroy.apply(this,arguments),this.geometry=null,this.prjCoordSys=null,this.excludeField=null,this.unBroadcast(),this.unSubscribe()}},{key:"_getFilterParams",value:function(){var a={filterParam:{prjCoordSys:this.prjCoordSys,excludeField:this.excludeField,geometry:this.geometry}};return g.Util.toJSON(a)}},{key:"_onMessage",value:function(a){if(a.data&&a.data.indexOf("filterParam")>=0){var b=JSON.parse(a.data);return a.filterParam=b,a.eventType="setFilterParamSucceeded",void this.events.triggerEvent("setFilterParamSucceeded",a)}var c=JSON.parse(a.data);a.featureResult=c,a.eventType="messageSucceeded",this.events.triggerEvent("messageSucceeded",a)}},{key:"_connect",value:function(a){return a=this._appendCredentials(a),"WebSocket"in window?new WebSocket(a):"MozWebSocket"in window?new window.MozWebSocket(a):(console.log("no WebSocket"),null)}},{key:"_appendCredentials",value:function(a){var b=h.SecurityManager.getToken(a);return b&&(a+="?token="+b),a}}]),b}();e.SuperMap.DataFlowService=i},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ComputeWeightMatrixService=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(298),h=c(15),i=b.ComputeWeightMatrixService=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.CLASS_NAME="SuperMap.ComputeWeightMatrixService",d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,h.NetworkAnalystServiceBase),d(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(a){if(a instanceof g.ComputeWeightMatrixParameters){var b,c=this,d=c.url.substr(c.url.length-1,1);c.url=c.url+("/"===d?"weightmatrix":"/weightmatrix")+".json?",b={parameter:f.Util.toJSON(a.parameter),nodes:c.getJson(a.isAnalyzeById,a.nodes)},c.request({method:"GET",params:b,scope:c,success:c.serviceProcessCompleted,failure:c.serviceProcessFailed})}}},{key:"getJson",value:function(a,b){var c="[",d=b?b.length:0;if(!1===a)for(var e=0;d>e;e++)e>0&&(c+=","),c+='{"x":'+b[e].x+',"y":'+b[e].y+"}";else if(1==a)for(var f=0;d>f;f++)f>0&&(c+=","),c+=b[f];return c+="]"}}]),b}();e.SuperMap.ComputeWeightMatrixService=i},function(a,b,c){"use strict";function d(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}Object.defineProperty(b,"__esModule",{value:!0}),b.ChartQueryService=void 0;var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=c(0),g=c(1),h=c(4),i=c(6),j=c(39),k=c(301),l=c(17),m=b.ChartQueryService=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var e=d(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));c=c||{},e.returnContent=null,e.format=h.DataFormat.GEOJSON,g.Util.extend(e,c);var f,i=e;return c.format&&(i.format=c.format.toUpperCase()),i.url?(f=i.url.substr(i.url.length-1,1),i.url+="/"===f?"queryResults.json?":"/queryResults.json?",e.CLASS_NAME="SuperMap.ChartQueryService",e):d(e)}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,i.CommonServiceBase),e(b,[{key:"destroy",value:function(){i.CommonServiceBase.prototype.destroy.apply(this,arguments),this.returnContent=null,this.format=null}},{key:"processAsync",value:function(a){if(a instanceof k.ChartQueryParameters){var b,c=this;c.returnContent=a.returnContent,b=a.getVariablesJson(),c.returnContent&&(c.url+="returnContent="+c.returnContent),c.request({method:"POST",data:b,scope:c,success:c.serviceProcessCompleted,failure:c.serviceProcessFailed})}}},{key:"serviceProcessCompleted",value:function(a){if((a=g.Util.transformResult(a))&&a.recordsets&&this.format===h.DataFormat.GEOJSON)for(var b=0,c=a.recordsets,d=c.length;d>b;b++)if(c[b].features){var e=new l.GeoJSON;c[b].features=e.toGeoJSON(c[b].features)}this.events.triggerEvent("processCompleted",{result:a})}},{key:"getQueryParameters",value:function(a){return new j.QueryParameters({queryMode:a.queryMode,bounds:a.bounds,chartLayerNames:a.chartLayerNames,chartQueryFilterParameters:a.chartQueryFilterParameters,returnContent:a.returnContent})}}]),b}();f.SuperMap.ChartQueryService=m},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ChartFeatureInfoSpecsService=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(6),h=b.ChartFeatureInfoSpecsService=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.CLASS_NAME="SuperMap.ChartFeatureInfoSpecsService",d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g.CommonServiceBase),d(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this),f.Util.reset(this)}},{key:"processAsync",value:function(){var a=this,b=a.url.substr(a.url.length-1,1);a.isTempLayers?a.url+=".json?":(a.url+="/"===b?"":"/",a.url+="chartFeatureInfoSpecs.json?"),a.request({method:"GET",params:null,scope:a,success:a.serviceProcessCompleted,failure:a.serviceProcessFailed})}}]),b}();e.SuperMap.ChartFeatureInfoSpecsService=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.BurstPipelineAnalystService=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(15),g=c(303),h=b.BurstPipelineAnalystService=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.CLASS_NAME="SuperMap.BurstPipelineAnalystService",d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,f.NetworkAnalystServiceBase),d(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(a){if(!(a instanceof g.BurstPipelineAnalystParameters))return null;var b,c=this,d=c.url.substr(c.url.length-1,1);if(c.url=c.url+("/"===d?"burstAnalyse":"/burstAnalyse")+".json?",b={sourceNodeIDs:a.sourceNodeIDs,isUncertainDirectionValid:a.isUncertainDirectionValid},null!==a.edgeID&&null!==a.nodeID)throw new Error("edgeID and nodeID cannot be null at the same time.");if(null===a.edgeID&&null===a.nodeID)throw new Error("edgeID and nodeID cannot be null at the same time.");null!==a.edgeID?b.edgeID=a.edgeID:b.nodeID=a.nodeID,c.request({method:"GET",params:b,scope:c,success:c.serviceProcessCompleted,failure:c.serviceProcessFailed})}}]),b}();e.SuperMap.BurstPipelineAnalystService=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.BuffersAnalystJobsService=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=function j(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:j(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0!==f?f.call(c):void 0},f=c(0),g=c(18),h=c(304),i=b.BuffersAnalystJobsService=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.url+="/spatialanalyst/buffers",d.CLASS_NAME="SuperMap.BuffersAnalystJobsService",d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g.ProcessingServiceBase),d(b,[{key:"destroy",value:function(){e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"getBuffersJobs",value:function(){e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getJobs",this).call(this,this.url)}},{key:"getBuffersJob",value:function(a){e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getJobs",this).call(this,this.url+"/"+a)}},{key:"addBuffersJob",value:function(a,c){e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"addJob",this).call(this,this.url,a,h.BuffersAnalystJobsParameter,c)}}]),b}();f.SuperMap.BuffersAnalystJobsService=i},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.BufferAnalystService=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(1),g=c(10),h=c(306),i=c(127),j=b.BufferAnalystService=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.mode=null,c&&f.Util.extend(d,c),d.CLASS_NAME="SuperMap.BufferAnalystService",d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g.SpatialAnalystBase),d(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this),this.mode=null}},{key:"processAsync",value:function(a){var b={},c=this;"/"!==c.url.substr(c.url.length-1,1)&&(c.url+="/"),a instanceof h.DatasetBufferAnalystParameters?(c.mode="datasets",c.url+="datasets/"+a.dataset+"/buffer",h.DatasetBufferAnalystParameters.toObject(a,b)):a instanceof i.GeometryBufferAnalystParameters&&(c.mode="geometry",c.url+="geometry/buffer",i.GeometryBufferAnalystParameters.toObject(a,b));var d=f.Util.toJSON(b);c.url+=".json?returnContent=true",c.request({method:"POST",data:d,scope:c,success:c.serviceProcessCompleted,failure:c.serviceProcessFailed})}}]),b}();e.SuperMap.BufferAnalystService=j},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.AreaSolarRadiationService=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(10),g=c(309),h=c(1),i=b.AreaSolarRadiationService=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.CLASS_NAME="SuperMap.AreaSolarRadiationService",d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,f.SpatialAnalystBase),d(b,[{key:"destroy",value:function(){(function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0})(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(a){if(a instanceof g.AreaSolarRadiationParameters){var b=this;"/"!==b.url.substr(b.url.length-1,1)&&(b.url+="/");var c={};a instanceof g.AreaSolarRadiationParameters&&(b.url+="datasets/"+a.dataset+"/solarradiation"),g.AreaSolarRadiationParameters.toObject(a,c);var d=h.Util.toJSON(c);b.url+=".json?returnContent=true",b.request({method:"POST",data:d,scope:b,success:b.serviceProcessCompleted,failure:b.serviceProcessFailed})}}}]),b}();e.SuperMap.AreaSolarRadiationService=i},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.AddressMatchService=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=function l(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:l(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0!==f?f.call(c):void 0},f=c(0),g=c(6),h=c(21),i=c(311),j=c(310),k=b.AddressMatchService=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.CLASS_NAME="SuperMap.AddressMatchService",d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g.CommonServiceBase),d(b,[{key:"destroy",value:function(){e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"code",value:function(a,b){b instanceof i.GeoCodingParameter&&this.processAsync(a,b)}},{key:"decode",value:function(a,b){b instanceof j.GeoDecodingParameter&&this.processAsync(a,b)}},{key:"processAsync",value:function(a,b){var c=this;h.FetchRequest.get(a,b,{proxy:c.proxy}).then(function(a){return a.json()}).then(function(a){a?c.serviceProcessCompleted(a):c.serviceProcessFailed(a)})["catch"](function(a){c.eventListeners.processFailed({error:a})})}},{key:"serviceProcessCompleted",value:function(a){e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"serviceProcessCompleted",this).call(this,a)}},{key:"serviceProcessFailed",value:function(a){e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"serviceProcessFailed",this).call(this,a)}}]),b}();f.SuperMap.AddressMatchService=k},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.VectorClipJobsService=b.VectorClipJobsParameter=b.Vector=b.UpdateTurnNodeWeightService=b.UpdateTurnNodeWeightParameters=b.UpdateEdgeWeightService=b.UpdateEdgeWeightParameters=b.UGCSubLayer=b.UGCMapLayer=b.UGCLayer=b.TransferSolutionParameters=b.TransportationAnalystResultSetting=b.TransportationAnalystParameter=b.TransferSolutionService=b.TransferPathService=b.TransferPathParameters=b.TransferLine=b.TopologyValidatorJobsService=b.TopologyValidatorJobsParameter=void 0,b.TilesetsService=b.GeometryBatchAnalystService=b.ThiessenAnalystService=b.ThiessenAnalystParameters=b.ThemeUniqueItem=b.ThemeUnique=b.ThemeService=b.ThemeRangeItem=b.ThemeRange=b.ThemeParameters=b.ThemeOffset=b.ThemeMemoryData=b.ThemeLabelUniqueItem=b.ThemeLabelText=b.ThemeLabelItem=b.ThemeLabelBackground=b.ThemeLabelAlongLine=b.ThemeLabel=b.ThemeGridUniqueItem=b.ThemeGridUnique=b.ThemeGridRangeItem=b.ThemeGridRange=b.ThemeGraphText=b.ThemeGraphSize=b.ThemeGraphItem=b.ThemeGraphAxes=b.ThemeGraph=b.ThemeGraduatedSymbolStyle=b.ThemeGraduatedSymbol=b.ThemeFlow=b.ThemeDotDensity=b.Theme=b.TerrainCurvatureCalculationService=b.TerrainCurvatureCalculationParameters=b.SurfaceAnalystService=b.SurfaceAnalystParametersSetting=b.SurfaceAnalystParameters=b.SupplyCenter=b.SummaryRegionJobsService=b.SummaryRegionJobParameter=b.SummaryMeshJobsService=b.SummaryMeshJobParameter=b.SummaryAttributesJobsService=b.SummaryAttributesJobsParameter=b.StopQueryService=b.StopQueryParameters=b.SpatialAnalystBase=b.SingleObjectQueryJobsService=b.SingleObjectQueryJobsParameter=b.SetLayerStatusService=b.SetLayerStatusParameters=b.SetLayersInfoService=b.SetLayersInfoParameters=b.SetLayerInfoService=b.SetLayerInfoParameters=b.ServerTheme=b.ServerTextStyle=b.ServerStyle=b.ServerGeometry=b.ServerFeature=b.ServerColor=b.RouteLocatorService=b.RouteLocatorParameters=b.RouteCalculateMeasureService=b.RouteCalculateMeasureParameters=b.Route=b.QueryService=b.QueryParameters=b.QueryBySQLService=b.QueryBySQLParameters=b.QueryByGeometryService=b.QueryByGeometryParameters=b.QueryByDistanceService=b.QueryByDistanceParameters=b.QueryByBoundsService=b.QueryByBoundsParameters=b.ProcessingServiceBase=b.PointWithMeasure=b.OverlayGeoJobsService=b.OverlayGeoJobParameter=b.OverlayAnalystService=b.OverlayAnalystParameters=b.MappingParameters=b.OutputSetting=b.OverlapDisplayedOptions=b.NetworkAnalystServiceBase=b.MeasureService=b.MeasureParameters=b.MathExpressionAnalysisService=b.MathExpressionAnalysisParameters=b.MapService=b.LinkItem=b.LayerStatus=b.LabelThemeCell=b.LabelSymbolCell=b.LabelMixedTextStyle=b.LabelMatrixCell=b.LabelImageCell=b.KernelDensityJobsService=b.KernelDensityJobParameter=void 0,b.JoinItem=b.InterpolationRBFAnalystParameters=b.InterpolationKrigingAnalystParameters=b.InterpolationIDWAnalystParameters=b.InterpolationAnalystService=b.InterpolationAnalystParameters=b.UGCImage=b.Grid=b.GetLayersInfoService=b.GetGridCellInfosService=b.GetGridCellInfosParameters=b.GetFieldsService=b.GetFeaturesServiceBase=b.GetFeaturesParametersBase=b.GetFeaturesBySQLService=b.GetFeaturesBySQLParameters=b.GetFeaturesByIDsService=b.GetFeaturesByIDsParameters=b.GetFeaturesByGeometryService=b.GetFeaturesByGeometryParameters=b.GetFeaturesByBufferService=b.GetFeaturesByBufferParameters=b.GetFeaturesByBoundsService=b.GetFeaturesByBoundsParameters=b.GeoRelationAnalystService=b.GeoRelationAnalystParameters=b.GeometryThiessenAnalystParameters=b.GeometrySurfaceAnalystParameters=b.GeometryOverlayAnalystParameters=b.GeometryBufferAnalystParameters=b.GeoHashGridAggParameter=b.GeoDecodingParameter=b.GeoCodingParameter=b.GeoBoundingBoxQueryBuilderParameter=b.GenerateSpatialDataService=b.GenerateSpatialDataParameters=b.FindTSPPathsService=b.FindTSPPathsParameters=b.FindServiceAreasService=b.FindServiceAreasParameters=b.FindPathService=b.FindPathParameters=b.FindMTSPPathsService=b.FindMTSPPathsParameters=b.FindLocationService=b.FindLocationParameters=b.FindClosestFacilitiesService=b.FindClosestFacilitiesParameters=b.FilterParameter=b.FieldStatisticsParameters=b.FieldStatisticService=b.FieldParameters=b.FilterAggParameter=b.FacilityAnalystUpstream3DService=b.FacilityAnalystUpstream3DParameters=b.FacilityAnalystTraceup3DService=b.FacilityAnalystTraceup3DParameters=b.FacilityAnalystTracedown3DService=b.FacilityAnalystTracedown3DParameters=b.FacilityAnalystStreamService=b.FacilityAnalystStreamParameters=b.FacilityAnalystSources3DService=b.FacilityAnalystSources3DParameters=b.FacilityAnalystSinks3DService=b.FacilityAnalystSinks3DParameters=b.FacilityAnalyst3DParameters=b.EditFeaturesService=b.EditFeaturesParameters=b.DensityKernelAnalystParameters=b.DensityAnalystService=b.DatasourceConnectionInfo=b.DatasetThiessenAnalystParameters=b.DatasetSurfaceAnalystParameters=b.DatasetOverlayAnalystParameters=b.DatasetInfo=b.DatasetBufferAnalystParameters=b.DataReturnOption=b.DataFlowService=b.ComputeWeightMatrixService=b.ComputeWeightMatrixParameters=b.CommonServiceBase=b.ColorDictionary=b.ClipParameter=b.ChartQueryService=b.ChartQueryParameters=b.ChartQueryFilterParameter=b.ChartFeatureInfoSpecsService=b.BurstPipelineAnalystService=b.BurstPipelineAnalystParameters=b.BufferSetting=b.BuffersAnalystJobsService=b.BuffersAnalystJobsParameter=b.BufferDistance=b.BufferAnalystService=b.BufferAnalystParameters=b.AreaSolarRadiationService=b.AreaSolarRadiationParameters=b.AggregationParameter=b.AggQueryBuilderParameter=b.AddressMatchService=void 0;var d=c(553),e=c(131),f=c(130),g=c(309),h=c(552),i=c(129),j=c(551),k=c(307),l=c(304),m=c(550),n=c(308),o=c(303),p=c(549),q=c(548),r=c(302),s=c(301),t=c(547),u=c(300),v=c(299),w=c(6),x=c(298),y=c(546),z=c(545),A=c(62),B=c(306),C=c(296),D=c(295),E=c(294),F=c(292),G=c(128),H=c(544),I=c(291),J=c(290),K=c(543),L=c(47),M=c(289),N=c(542),O=c(288),P=c(541),Q=c(287),R=c(540),S=c(286),T=c(539),U=c(285),V=c(538),W=c(284),X=c(537),Y=c(536),Z=c(283),$=c(535),_=c(282),aa=c(16),ba=c(281),ca=c(534),da=c(280),ea=c(533),fa=c(279),ga=c(532),ha=c(278),ia=c(531),ja=c(277),ka=c(530),la=c(276),ma=c(529),na=c(275),oa=c(528),pa=c(527),qa=c(311),ra=c(310),sa=c(526),ta=c(127),ua=c(125),va=c(274),wa=c(124),xa=c(273),ya=c(525),za=c(272),Aa=c(524),Ba=c(271),Ca=c(523),Da=c(270),Ea=c(522),Fa=c(269),Ga=c(521),Ha=c(268),Ia=c(520),Ja=c(46),Ka=c(45),La=c(519),Ma=c(267),Na=c(518),Oa=c(517),Pa=c(251),Qa=c(250),Ra=c(36),Sa=c(516),Ta=c(247),Ua=c(246),Va=c(248),Wa=c(87),Xa=c(245),Ya=c(514),Za=c(244),$a=c(81),_a=c(262),ab=c(243),bb=c(242),cb=c(241),db=c(305),eb=c(513),fb=c(240),gb=c(512),hb=c(239),ib=c(511),jb=c(15),kb=c(20),lb=c(19),mb=c(252),nb=c(126),ob=c(510),pb=c(238),qb=c(509),rb=c(320),sb=c(18),tb=c(237),ub=c(508),vb=c(236),wb=c(507),xb=c(235),yb=c(506),zb=c(234),Ab=c(505),Bb=c(39),Cb=c(60),Db=c(89),Eb=c(233),Fb=c(504),Gb=c(232),Hb=c(503),Ib=c(22),Jb=c(502),Kb=c(9),Lb=c(14),Mb=c(37),Nb=c(266),Ob=c(231),Pb=c(501),Qb=c(230),Rb=c(500),Sb=c(229),Tb=c(499),Ub=c(228),Vb=c(498),Wb=c(10),Xb=c(227),Yb=c(497),Zb=c(226),$b=c(496),_b=c(225),ac=c(495),bc=c(224),cc=c(494),dc=c(493),ec=c(86),fc=c(293),gc=c(492),hc=c(223),ic=c(491),jc=c(28),kc=c(120),lc=c(83),mc=c(119),nc=c(255),oc=c(121),pc=c(259),qc=c(256),rc=c(258),sc=c(257),tc=c(222),uc=c(221),vc=c(220),wc=c(219),xc=c(84),yc=c(261),zc=c(260),Ac=c(264),Bc=c(263),Cc=c(490),Dc=c(265),Ec=c(82),Fc=c(218),Gc=c(118),Hc=c(254),Ic=c(489),Jc=c(122),Kc=c(123),Lc=c(85),Mc=c(488),Nc=c(487),Oc=c(486),Pc=c(217),Qc=c(485),Rc=c(216),Sc=c(215),Tc=c(484),Uc=c(483),Vc=c(38),Wc=c(297),Xc=c(214),Yc=c(117),Zc=c(253),$c=c(61),_c=c(213),ad=c(482),bd=c(212),cd=c(481),dd=c(249),ed=c(211),fd=c(480);b.AddressMatchService=d.AddressMatchService,b.AggQueryBuilderParameter=e.AggQueryBuilderParameter,
b.AggregationParameter=f.AggregationParameter,b.AreaSolarRadiationParameters=g.AreaSolarRadiationParameters,b.AreaSolarRadiationService=h.AreaSolarRadiationService,b.BufferAnalystParameters=i.BufferAnalystParameters,b.BufferAnalystService=j.BufferAnalystService,b.BufferDistance=k.BufferDistance,b.BuffersAnalystJobsParameter=l.BuffersAnalystJobsParameter,b.BuffersAnalystJobsService=m.BuffersAnalystJobsService,b.BufferSetting=n.BufferSetting,b.BurstPipelineAnalystParameters=o.BurstPipelineAnalystParameters,b.BurstPipelineAnalystService=p.BurstPipelineAnalystService,b.ChartFeatureInfoSpecsService=q.ChartFeatureInfoSpecsService,b.ChartQueryFilterParameter=r.ChartQueryFilterParameter,b.ChartQueryParameters=s.ChartQueryParameters,b.ChartQueryService=t.ChartQueryService,b.ClipParameter=u.ClipParameter,b.ColorDictionary=v.ColorDictionary,b.CommonServiceBase=w.CommonServiceBase,b.ComputeWeightMatrixParameters=x.ComputeWeightMatrixParameters,b.ComputeWeightMatrixService=y.ComputeWeightMatrixService,b.DataFlowService=z.DataFlowService,b.DataReturnOption=A.DataReturnOption,b.DatasetBufferAnalystParameters=B.DatasetBufferAnalystParameters,b.DatasetInfo=C.DatasetInfo,b.DatasetOverlayAnalystParameters=D.DatasetOverlayAnalystParameters,b.DatasetSurfaceAnalystParameters=E.DatasetSurfaceAnalystParameters,b.DatasetThiessenAnalystParameters=F.DatasetThiessenAnalystParameters,b.DatasourceConnectionInfo=G.DatasourceConnectionInfo,b.DensityAnalystService=H.DensityAnalystService,b.DensityKernelAnalystParameters=I.DensityKernelAnalystParameters,b.EditFeaturesParameters=J.EditFeaturesParameters,b.EditFeaturesService=K.EditFeaturesService,b.FacilityAnalyst3DParameters=L.FacilityAnalyst3DParameters,b.FacilityAnalystSinks3DParameters=M.FacilityAnalystSinks3DParameters,b.FacilityAnalystSinks3DService=N.FacilityAnalystSinks3DService,b.FacilityAnalystSources3DParameters=O.FacilityAnalystSources3DParameters,b.FacilityAnalystSources3DService=P.FacilityAnalystSources3DService,b.FacilityAnalystStreamParameters=Q.FacilityAnalystStreamParameters,b.FacilityAnalystStreamService=R.FacilityAnalystStreamService,b.FacilityAnalystTracedown3DParameters=S.FacilityAnalystTracedown3DParameters,b.FacilityAnalystTracedown3DService=T.FacilityAnalystTracedown3DService,b.FacilityAnalystTraceup3DParameters=U.FacilityAnalystTraceup3DParameters,b.FacilityAnalystTraceup3DService=V.FacilityAnalystTraceup3DService,b.FacilityAnalystUpstream3DParameters=W.FacilityAnalystUpstream3DParameters,b.FacilityAnalystUpstream3DService=X.FacilityAnalystUpstream3DService,b.FilterAggParameter=Y.FilterAggParameter,b.FieldParameters=Z.FieldParameters,b.FieldStatisticService=$.FieldStatisticService,b.FieldStatisticsParameters=_.FieldStatisticsParameters,b.FilterParameter=aa.FilterParameter,b.FindClosestFacilitiesParameters=ba.FindClosestFacilitiesParameters,b.FindClosestFacilitiesService=ca.FindClosestFacilitiesService,b.FindLocationParameters=da.FindLocationParameters,b.FindLocationService=ea.FindLocationService,b.FindMTSPPathsParameters=fa.FindMTSPPathsParameters,b.FindMTSPPathsService=ga.FindMTSPPathsService,b.FindPathParameters=ha.FindPathParameters,b.FindPathService=ia.FindPathService,b.FindServiceAreasParameters=ja.FindServiceAreasParameters,b.FindServiceAreasService=ka.FindServiceAreasService,b.FindTSPPathsParameters=la.FindTSPPathsParameters,b.FindTSPPathsService=ma.FindTSPPathsService,b.GenerateSpatialDataParameters=na.GenerateSpatialDataParameters,b.GenerateSpatialDataService=oa.GenerateSpatialDataService,b.GeoBoundingBoxQueryBuilderParameter=pa.GeoBoundingBoxQueryBuilderParameter,b.GeoCodingParameter=qa.GeoCodingParameter,b.GeoDecodingParameter=ra.GeoDecodingParameter,b.GeoHashGridAggParameter=sa.GeoHashGridAggParameter,b.GeometryBufferAnalystParameters=ta.GeometryBufferAnalystParameters,b.GeometryOverlayAnalystParameters=ua.GeometryOverlayAnalystParameters,b.GeometrySurfaceAnalystParameters=va.GeometrySurfaceAnalystParameters,b.GeometryThiessenAnalystParameters=wa.GeometryThiessenAnalystParameters,b.GeoRelationAnalystParameters=xa.GeoRelationAnalystParameters,b.GeoRelationAnalystService=ya.GeoRelationAnalystService,b.GetFeaturesByBoundsParameters=za.GetFeaturesByBoundsParameters,b.GetFeaturesByBoundsService=Aa.GetFeaturesByBoundsService,b.GetFeaturesByBufferParameters=Ba.GetFeaturesByBufferParameters,b.GetFeaturesByBufferService=Ca.GetFeaturesByBufferService,b.GetFeaturesByGeometryParameters=Da.GetFeaturesByGeometryParameters,b.GetFeaturesByGeometryService=Ea.GetFeaturesByGeometryService,b.GetFeaturesByIDsParameters=Fa.GetFeaturesByIDsParameters,b.GetFeaturesByIDsService=Ga.GetFeaturesByIDsService,b.GetFeaturesBySQLParameters=Ha.GetFeaturesBySQLParameters,b.GetFeaturesBySQLService=Ia.GetFeaturesBySQLService,b.GetFeaturesParametersBase=Ja.GetFeaturesParametersBase,b.GetFeaturesServiceBase=Ka.GetFeaturesServiceBase,b.GetFieldsService=La.GetFieldsService,b.GetGridCellInfosParameters=Ma.GetGridCellInfosParameters,b.GetGridCellInfosService=Na.GetGridCellInfosService,b.GetLayersInfoService=Oa.GetLayersInfoService,b.Grid=Pa.Grid,b.UGCImage=Qa.UGCImage,b.InterpolationAnalystParameters=Ra.InterpolationAnalystParameters,b.InterpolationAnalystService=Sa.InterpolationAnalystService,b.InterpolationIDWAnalystParameters=Ta.InterpolationIDWAnalystParameters,b.InterpolationKrigingAnalystParameters=Ua.InterpolationKrigingAnalystParameters,b.InterpolationRBFAnalystParameters=Va.InterpolationRBFAnalystParameters,b.JoinItem=Wa.JoinItem,b.KernelDensityJobParameter=Xa.KernelDensityJobParameter,b.KernelDensityJobsService=Ya.KernelDensityJobsService,b.LabelImageCell=Za.LabelImageCell,b.LabelMatrixCell=$a.LabelMatrixCell,b.LabelMixedTextStyle=_a.LabelMixedTextStyle,b.LabelSymbolCell=ab.LabelSymbolCell,b.LabelThemeCell=bb.LabelThemeCell,b.LayerStatus=cb.LayerStatus,b.LinkItem=db.LinkItem,b.MapService=eb.MapService,b.MathExpressionAnalysisParameters=fb.MathExpressionAnalysisParameters,b.MathExpressionAnalysisService=gb.MathExpressionAnalysisService,b.MeasureParameters=hb.MeasureParameters,b.MeasureService=ib.MeasureService,b.NetworkAnalystServiceBase=jb.NetworkAnalystServiceBase,b.OverlapDisplayedOptions=mb.OverlapDisplayedOptions,b.OutputSetting=kb.OutputSetting,b.MappingParameters=lb.MappingParameters,b.OverlayAnalystParameters=nb.OverlayAnalystParameters,b.OverlayAnalystService=ob.OverlayAnalystService,b.OverlayGeoJobParameter=pb.OverlayGeoJobParameter,b.OverlayGeoJobsService=qb.OverlayGeoJobsService,b.PointWithMeasure=rb.PointWithMeasure,b.ProcessingServiceBase=sb.ProcessingServiceBase,b.QueryByBoundsParameters=tb.QueryByBoundsParameters,b.QueryByBoundsService=ub.QueryByBoundsService,b.QueryByDistanceParameters=vb.QueryByDistanceParameters,b.QueryByDistanceService=wb.QueryByDistanceService,b.QueryByGeometryParameters=xb.QueryByGeometryParameters,b.QueryByGeometryService=yb.QueryByGeometryService,b.QueryBySQLParameters=zb.QueryBySQLParameters,b.QueryBySQLService=Ab.QueryBySQLService,b.QueryParameters=Bb.QueryParameters,b.QueryService=Cb.QueryService,b.Route=Db.Route,b.RouteCalculateMeasureParameters=Eb.RouteCalculateMeasureParameters,b.RouteCalculateMeasureService=Fb.RouteCalculateMeasureService,b.RouteLocatorParameters=Gb.RouteLocatorParameters,b.RouteLocatorService=Hb.RouteLocatorService,b.ServerColor=Ib.ServerColor,b.ServerFeature=Jb.ServerFeature,b.ServerGeometry=Kb.ServerGeometry,b.ServerStyle=Lb.ServerStyle,b.ServerTextStyle=Mb.ServerTextStyle,b.ServerTheme=Nb.ServerTheme,b.SetLayerInfoParameters=Ob.SetLayerInfoParameters,b.SetLayerInfoService=Pb.SetLayerInfoService,b.SetLayersInfoParameters=Qb.SetLayersInfoParameters,b.SetLayersInfoService=Rb.SetLayersInfoService,b.SetLayerStatusParameters=Sb.SetLayerStatusParameters,b.SetLayerStatusService=Tb.SetLayerStatusService,b.SingleObjectQueryJobsParameter=Ub.SingleObjectQueryJobsParameter,b.SingleObjectQueryJobsService=Vb.SingleObjectQueryJobsService,b.SpatialAnalystBase=Wb.SpatialAnalystBase,b.StopQueryParameters=Xb.StopQueryParameters,b.StopQueryService=Yb.StopQueryService,b.SummaryAttributesJobsParameter=Zb.SummaryAttributesJobsParameter,b.SummaryAttributesJobsService=$b.SummaryAttributesJobsService,b.SummaryMeshJobParameter=_b.SummaryMeshJobParameter,b.SummaryMeshJobsService=ac.SummaryMeshJobsService,b.SummaryRegionJobParameter=bc.SummaryRegionJobParameter,b.SummaryRegionJobsService=cc.SummaryRegionJobsService,b.SupplyCenter=dc.SupplyCenter,b.SurfaceAnalystParameters=ec.SurfaceAnalystParameters,b.SurfaceAnalystParametersSetting=fc.SurfaceAnalystParametersSetting,b.SurfaceAnalystService=gc.SurfaceAnalystService,b.TerrainCurvatureCalculationParameters=hc.TerrainCurvatureCalculationParameters,b.TerrainCurvatureCalculationService=ic.TerrainCurvatureCalculationService,b.Theme=jc.Theme,b.ThemeDotDensity=kc.ThemeDotDensity,b.ThemeFlow=lc.ThemeFlow,b.ThemeGraduatedSymbol=mc.ThemeGraduatedSymbol,b.ThemeGraduatedSymbolStyle=nc.ThemeGraduatedSymbolStyle,b.ThemeGraph=oc.ThemeGraph,b.ThemeGraphAxes=pc.ThemeGraphAxes,b.ThemeGraphItem=qc.ThemeGraphItem,b.ThemeGraphSize=rc.ThemeGraphSize,b.ThemeGraphText=sc.ThemeGraphText,b.ThemeGridRange=tc.ThemeGridRange,b.ThemeGridRangeItem=uc.ThemeGridRangeItem,b.ThemeGridUnique=vc.ThemeGridUnique,b.ThemeGridUniqueItem=wc.ThemeGridUniqueItem,b.ThemeLabel=xc.ThemeLabel,b.ThemeLabelAlongLine=yc.ThemeLabelAlongLine,b.ThemeLabelBackground=zc.ThemeLabelBackground,b.ThemeLabelItem=Ac.ThemeLabelItem,b.ThemeLabelText=Bc.ThemeLabelText,b.ThemeLabelUniqueItem=Cc.ThemeLabelUniqueItem,b.ThemeMemoryData=Dc.ThemeMemoryData,b.ThemeOffset=Ec.ThemeOffset,b.ThemeParameters=Fc.ThemeParameters,b.ThemeRange=Gc.ThemeRange,b.ThemeRangeItem=Hc.ThemeRangeItem,b.ThemeService=Ic.ThemeService,b.ThemeUnique=Jc.ThemeUnique,b.ThemeUniqueItem=Kc.ThemeUniqueItem,b.ThiessenAnalystParameters=Lc.ThiessenAnalystParameters,b.ThiessenAnalystService=Mc.ThiessenAnalystService,b.GeometryBatchAnalystService=Nc.GeometryBatchAnalystService,b.TilesetsService=Oc.TilesetsService,b.TopologyValidatorJobsParameter=Pc.TopologyValidatorJobsParameter,b.TopologyValidatorJobsService=Qc.TopologyValidatorJobsService,b.TransferLine=Rc.TransferLine,b.TransferPathParameters=Sc.TransferPathParameters,b.TransferPathService=Tc.TransferPathService,b.TransferSolutionService=Uc.TransferSolutionService,b.TransportationAnalystParameter=Vc.TransportationAnalystParameter,b.TransportationAnalystResultSetting=Wc.TransportationAnalystResultSetting,b.TransferSolutionParameters=Xc.TransferSolutionParameters,b.UGCLayer=Yc.UGCLayer,b.UGCMapLayer=Zc.UGCMapLayer,b.UGCSubLayer=$c.UGCSubLayer,b.UpdateEdgeWeightParameters=_c.UpdateEdgeWeightParameters,b.UpdateEdgeWeightService=ad.UpdateEdgeWeightService,b.UpdateTurnNodeWeightParameters=bd.UpdateTurnNodeWeightParameters,b.UpdateTurnNodeWeightService=cd.UpdateTurnNodeWeightService,b.Vector=dd.Vector,b.VectorClipJobsParameter=ed.VectorClipJobsParameter,b.VectorClipJobsService=fd.VectorClipJobsService},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.IPortal=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(315),g=c(314),h=c(21),i=c(313),j=c(312),k=c(88),l=b.IPortal=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.iportalUrl=a,c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,k.IPortalServiceBase),d(b,[{key:"load",value:function(){return h.FetchRequest.get(this.iportalUrl+"/web")}},{key:"queryServices",value:function(a){if(!(a instanceof f.IPortalServicesQueryParam))return null;var b=this.iportalUrl+"/web/services";return this.request("GET",b,a).then(function(a){var c=[];return a.content.map(function(a){return c.push(new i.IPortalService(b,a)),a}),c})}},{key:"deleteServices",value:function(a){var b=this.iportalUrl+"/web/services";return this.request("DELETE",b,{ids:a})}},{key:"queryMaps",value:function(a){if(!(a instanceof g.IPortalMapsQueryParam))return null;var b=this.iportalUrl+"/web/maps";return this.request("GET",b,a).then(function(a){var c={},d=[];return a.content.map(function(a){return d.push(new j.IPortalMap(b+"/"+a.id,a)),a}),c.content=d,c.currentPage=a.currentPage,c.pageSize=a.pageSize,c.total=a.total,c.totalPage=a.totalPage,c})}}]),b}();e.SuperMap.iPortal=l},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.IPortalServicesQueryParam=b.IPortalServiceBase=b.IPortalService=b.IPortalMapsQueryParam=b.IPortalMap=b.IPortal=void 0;var d=c(555),e=c(312),f=c(314),g=c(313),h=c(88),i=c(315);b.IPortal=d.IPortal,b.IPortalMap=e.IPortalMap,b.IPortalMapsQueryParam=f.IPortalMapsQueryParam,b.IPortalService=g.IPortalService,b.IPortalServiceBase=h.IPortalServiceBase,b.IPortalServicesQueryParam=i.IPortalServicesQueryParam},function(a,b,c){"use strict";var d,e,f;e=[b,a],void 0===(f="function"==typeof(d=function(a,b){function c(a){try{delete window[a]}catch(b){window[a]=void 0}}function d(a){var b=document.getElementById(a);document.getElementsByTagName("head")[0].removeChild(b)}var e={timeout:5e3,jsonpCallback:"callback",jsonpCallbackFunction:null};b.exports=function(a){var b=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],f=a,g=b.timeout||e.timeout,h=b.jsonpCallback||e.jsonpCallback,i=void 0;return new Promise1(function(e,j){var k=b.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),l=h+"_"+k;window[k]=function(a){e({ok:!0,json:function(){return Promise1.resolve(a)}}),i&&clearTimeout(i),d(l),c(k)},f+=-1===f.indexOf("?")?"?":"&";var m=document.createElement("script");m.setAttribute("src",""+f+h+"="+k),m.id=l,document.getElementsByTagName("head")[0].appendChild(m),i=setTimeout(function(){j(new Error("JSONP request to "+a+" timed out")),c(k),d(l)},g)})}})?d.apply(b,e):d)||(a.exports=f)},function(a,b,c){"use strict";!function(b){function c(a){if("string"!=typeof a&&(a=String(a)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(a))throw new TypeError("Invalid character in header field name");return a.toLowerCase()}function d(a){return"string"!=typeof a&&(a=String(a)),a}function e(a){this.map={},a instanceof e?a.forEach(function(a,b){this.append(b,a)},this):a&&Object.getOwnPropertyNames(a).forEach(function(b){this.append(b,a[b])},this)}function f(a){return a.bodyUsed?Promise1.reject(new TypeError("Already read")):void(a.bodyUsed=!0)}function g(a){return new Promise1(function(b,c){a.onload=function(){b(a.result)},a.onerror=function(){c(a.error)}})}function h(a){var b=new FileReader;return b.readAsArrayBuffer(a),g(b)}function i(){return this.bodyUsed=!1,this._initBody=function(a,b){if(this._bodyInit=a,"string"==typeof a)this._bodyText=a;else if(m.blob&&Blob.prototype.isPrototypeOf(a))this._bodyBlob=a,this._options=b;else if(m.formData&&FormData.prototype.isPrototypeOf(a))this._bodyFormData=a;else if(a){if(!m.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(a))throw new Error("unsupported BodyInit type")}else this._bodyText=""},m.blob?(this.blob=function(){var a=f(this);if(a)return a;if(this._bodyBlob)return Promise1.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise1.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(h)},this.text=function(){var a,b,c,d,e,h,i,j=f(this);if(j)return j;if(this._bodyBlob)return a=this._bodyBlob,b=this._options,c=new FileReader,d=b.headers.map["content-type"]?b.headers.map["content-type"].toString():"",e=/charset\=[0-9a-zA-Z\-\_]*;?/,h=a.type.match(e)||d.match(e),i=[a],h&&i.push(h[0].replace(/^charset\=/,"").replace(/;$/,"")),c.readAsText.apply(c,i),g(c);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise1.resolve(this._bodyText)}):this.text=function(){var a=f(this);return a||Promise1.resolve(this._bodyText)},m.formData&&(this.formData=function(){return this.text().then(k)}),this.json=function(){return this.text().then(JSON.parse)},this}function j(a,b){var c,d,f=(b=b||{}).body;if(j.prototype.isPrototypeOf(a)){if(a.bodyUsed)throw new TypeError("Already read");this.url=a.url,this.credentials=a.credentials,b.headers||(this.headers=new e(a.headers)),this.method=a.method,this.mode=a.mode,f||(f=a._bodyInit,a.bodyUsed=!0)}else this.url=a;if(this.credentials=b.credentials||this.credentials||"omit",!b.headers&&this.headers||(this.headers=new e(b.headers)),this.method=(c=b.method||this.method||"GET",d=c.toUpperCase(),n.indexOf(d)>-1?d:c),this.mode=b.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&f)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(f,b)}function k(a){var b=new FormData;return a.trim().split("&").forEach(function(a){if(a){var c=a.split("="),d=c.shift().replace(/\+/g," "),e=c.join("=").replace(/\+/g," ");b.append(decodeURIComponent(d),decodeURIComponent(e))}}),b}function l(a,b){b||(b={}),this._initBody(a,b),this.type="default",this.status=b.status,this.ok=this.status>=200&&this.status<300,this.statusText=b.statusText,this.headers=b.headers instanceof e?b.headers:new e(b.headers),this.url=b.url||""}if(b.__disableNativeFetch||!b.fetch){e.prototype.append=function(a,b){a=c(a),b=d(b);var e=this.map[a];e||(e=[],this.map[a]=e),e.push(b)},e.prototype["delete"]=function(a){delete this.map[c(a)]},e.prototype.get=function(a){var b=this.map[c(a)];return b?b[0]:null},e.prototype.getAll=function(a){return this.map[c(a)]||[]},e.prototype.has=function(a){return this.map.hasOwnProperty(c(a))},e.prototype.set=function(a,b){this.map[c(a)]=[d(b)]},e.prototype.forEach=function(a,b){Object.getOwnPropertyNames(this.map).forEach(function(c){this.map[c].forEach(function(d){a.call(b,d,c,this)},this)},this)};var m={blob:"FileReader"in b&&"Blob"in b&&function(){try{return new Blob,!0}catch(a){return!1}}(),formData:"FormData"in b,arrayBuffer:"ArrayBuffer"in b},n=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];j.prototype.clone=function(){return new j(this)},i.call(j.prototype),i.call(l.prototype),l.prototype.clone=function(){return new l(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new e(this.headers),url:this.url})},l.error=function(){var a=new l(null,{status:0,statusText:""});return a.type="error",a};var o=[301,302,303,307,308];l.redirect=function(a,b){if(-1===o.indexOf(b))throw new RangeError("Invalid status code");return new l(null,{status:b,headers:{location:a}})},b.Headers=e,b.Request=j,b.Response=l,b.fetch=function(a,b){return new Promise1(function(a,c){function d(){if(4===g.readyState){var b=1223===g.status?204:g.status;if(100>b||b>599){if(h)return;return h=!0,void c(new TypeError("Network request failed"))}var d={status:b,statusText:g.statusText,headers:function(a){var b=new e;return a.getAllResponseHeaders().trim().split("\n").forEach(function(a){var c=a.trim().split(":"),d=c.shift().trim(),e=c.join(":").trim();b.append(d,e)}),b}(g),url:"responseURL"in g?g.responseURL:/^X-Request-URL:/m.test(g.getAllResponseHeaders())?g.getResponseHeader("X-Request-URL"):void 0},f="response"in g?g.response:g.responseText;h||(h=!0,a(new l(f,d)))}}var f;f=j.prototype.isPrototypeOf(i)&&!b?i:new j(i,b);var g=new XMLHttpRequest,h=!1;g.onreadystatechange=d,g.onload=d,g.onerror=function(){h||(h=!0,c(new TypeError("Network request failed")))},g.open(f.method,f.url,!0);try{"include"===f.credentials&&("withCredentials"in g?g.withCredentials=!0:console&&console.warn&&console.warn("withCredentials is not supported, you can ignore this warning"))}catch(i){console&&console.warn&&console.warn("set withCredentials error:"+i)}"responseType"in g&&m.blob&&(g.responseType="blob"),f.headers.forEach(function(a,b){g.setRequestHeader(b,a)}),g.send(void 0===f._bodyInit?null:f._bodyInit)})},b.fetch.polyfill=!0,void 0!==a&&a.exports&&(a.exports=b.fetch)}}("undefined"!=typeof self?self:void 0)},function(a,b,c){"use strict";function d(){throw new Error("setTimeout has not been defined")}function e(){throw new Error("clearTimeout has not been defined")}function f(a){if(k===setTimeout)return setTimeout(a,0);if((k===d||!k)&&setTimeout)return k=setTimeout,setTimeout(a,0);try{return k(a,0)}catch(b){try{return k.call(null,a,0)}catch(b){return k.call(this,a,0)}}}function g(){p&&n&&(p=!1,n.length?o=n.concat(o):q=-1,o.length&&h())}function h(){if(!p){var a=f(g);p=!0;for(var b=o.length;b;){for(n=o,o=[];++q<b;)n&&n[q].run();q=-1,b=o.length}n=null,p=!1,function(a){if(l===clearTimeout)return clearTimeout(a);if((l===e||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(a);try{l(a)}catch(b){try{return l.call(null,a)}catch(b){return l.call(this,a)}}}(a)}}function i(a,b){this.fun=a,this.array=b}function j(){}var k,l,m=a.exports={};!function(){try{k="function"==typeof setTimeout?setTimeout:d}catch(a){k=d}try{l="function"==typeof clearTimeout?clearTimeout:e}catch(a){l=e}}();var n,o=[],p=!1,q=-1;m.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];o.push(new i(a,b)),1!==o.length||p||f(h)},i.prototype.run=function(){this.fun.apply(null,this.array)},m.title="browser",m.browser=!0,m.env={},m.argv=[],m.version="",m.versions={},m.on=j,m.addListener=j,m.once=j,m.off=j,m.removeListener=j,m.removeAllListeners=j,m.emit=j,m.prependListener=j,m.prependOnceListener=j,m.listeners=function(a){return[]},m.binding=function(a){throw new Error("process.binding is not supported")},m.cwd=function(){return"/"},m.chdir=function(a){throw new Error("process.chdir is not supported")},m.umask=function(){return 0}},function(a,b,c){(function(a,b){!function(a,c){"use strict";function d(a){delete l[a]}function e(a){if(m)setTimeout(e,0,a);else{var b=l[a];if(b){m=!0;try{!function(a){var b=a.callback,d=a.args;switch(d.length){case 0:b();break;case 1:b(d[0]);break;case 2:b(d[0],d[1]);break;case 3:b(d[0],d[1],d[2]);break;default:b.apply(c,d)}}(b)}finally{d(a),m=!1}}}}if(!a.setImmediate){var f,g,h,i,j,k=1,l={},m=!1,n=a.document,o=Object.getPrototypeOf&&Object.getPrototypeOf(a);o=o&&o.setTimeout?o:a,"[object process]"==={}.toString.call(a.process)?f=function(a){b.nextTick(function(){e(a)})}:function(){if(a.postMessage&&!a.importScripts){var b=!0,c=a.onmessage;return a.onmessage=function(){b=!1},a.postMessage("","*"),a.onmessage=c,b}}()?(i="setImmediate$"+Math.random()+"$",j=function(b){b.source===a&&"string"==typeof b.data&&0===b.data.indexOf(i)&&e(+b.data.slice(i.length))},a.addEventListener?a.addEventListener("message",j,!1):a.attachEvent("onmessage",j),f=function(b){a.postMessage(i+b,"*")}):a.MessageChannel?((h=new MessageChannel).port1.onmessage=function(a){e(a.data)},f=function(a){h.port2.postMessage(a)}):n&&"onreadystatechange"in n.createElement("script")?(g=n.documentElement,f=function(a){var b=n.createElement("script");b.onreadystatechange=function(){e(a),b.onreadystatechange=null,g.removeChild(b),b=null},g.appendChild(b)}):f=function(a){setTimeout(e,0,a)},o.setImmediate=function(a){"function"!=typeof a&&(a=new Function(""+a));for(var b=new Array(arguments.length-1),c=0;c<b.length;c++)b[c]=arguments[c+1];var d={callback:a,args:b};return l[k]=d,f(k),k++},o.clearImmediate=d}}("undefined"==typeof self?void 0===a?this:a:self)}).call(this,c(132),c(559))},function(a,b,c){"use strict";(function(a){function d(a,b){this._id=a,this._clearFn=b}var e=void 0!==a&&a||"undefined"!=typeof self&&self||window,f=Function.prototype.apply;b.setTimeout=function(){return new d(f.call(setTimeout,e,arguments),clearTimeout)},b.setInterval=function(){return new d(f.call(setInterval,e,arguments),clearInterval)},b.clearTimeout=b.clearInterval=function(a){a&&a.close()},d.prototype.unref=d.prototype.ref=function(){},d.prototype.close=function(){this._clearFn.call(e,this._id)},b.enroll=function(a,b){clearTimeout(a._idleTimeoutId),a._idleTimeout=b},b.unenroll=function(a){clearTimeout(a._idleTimeoutId),a._idleTimeout=-1},b._unrefActive=b.active=function(a){clearTimeout(a._idleTimeoutId);var b=a._idleTimeout;b>=0&&(a._idleTimeoutId=setTimeout(function(){a._onTimeout&&a._onTimeout()},b))},c(560),b.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==a&&a.setImmediate||void 0,b.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==a&&a.clearImmediate||void 0}).call(this,c(132))},function(a,b,c){"use strict";(function(b){var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(d){function e(){}function f(a){if("object"!==c(this))throw new TypeError("Promises must be constructed via new");if("function"!=typeof a)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],k(a,this)}function g(a,b){for(;3===a._state;)a=a._value;0!==a._state?(a._handled=!0,f._immediateFn(function(){var a=1===d._state?b.onFulfilled:b.onRejected;if(null!==a){var c;try{c=a(d._value)}catch(d){return void i(b.Promise1,d)}h(b.Promise1,c)}else(1===d._state?h:i)(b.Promise1,d._value)})):a._deferreds.push(b)}function h(a,b){try{if(b===a)throw new TypeError("A Promise1 cannot be resolved with itself.");if(b&&("object"===(void 0===b?"undefined":c(b))||"function"==typeof b)){var d=b.then;if(b instanceof f)return a._state=3,a._value=b,void j(a);if("function"==typeof d)return void k((e=d,g=b,function(){e.apply(g,arguments)}),a)}a._state=1,a._value=b,j(a)}catch(b){i(a,b)}var e,g}function i(a,b){a._state=2,a._value=b,j(a)}function j(a){2===a._state&&0===a._deferreds.length&&f._immediateFn(function(){a._handled||f._unhandledRejectionFn(a._value)});for(var b=0,c=a._deferreds.length;c>b;b++)g(a,a._deferreds[b]);a._deferreds=null}function k(a,b){var c=!1;try{a(function(a){c||(c=!0,h(b,a))},function(a){c||(c=!0,i(b,a))})}catch(a){if(c)return;c=!0,i(b,a)}}var l=setTimeout;f.prototype["catch"]=function(a){return this.then(null,a)},f.prototype.then=function(a,b){var c=new this.constructor(e);return g(this,new function(a,b,c){this.onFulfilled="function"==typeof a?a:null,this.onRejected="function"==typeof b?b:null,this.Promise1=c}(a,b,c)),c},f.all=function(a){var b=Array.prototype.slice.call(a);return new f(function(a,d){function e(a,g){try{if(g&&("object"===(void 0===g?"undefined":c(g))||"function"==typeof g)){var h=g.then;if("function"==typeof h)return void h.call(g,function(b){e(a,b)},d)}b[a]=g,0==--f&&i(b)}catch(i){d(i)}}if(0===b.length)return a([]);for(var f=b.length,g=0;g<b.length;g++)e(g,b[g])})},f.resolve=function(a){return a&&"object"===(void 0===a?"undefined":c(a))&&a.constructor===f?a:new f(function(b){b(a)})},f.reject=function(a){return new f(function(b,c){c(a)})},f.race=function(a){return new f(function(b,c){for(var d=0,e=a.length;e>d;d++)a[d].then(b,c)})},f._immediateFn="function"==typeof b&&function(a){b(a)}||function(a){l(a,0)},f._unhandledRejectionFn=function(a){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise1 Rejection:",a)},f._setImmediateFn=function(a){f._immediateFn=a},f._setUnhandledRejectionFn=function(a){f._unhandledRejectionFn=a},void 0!==a&&a.exports?a.exports=f:d.Promise1||(d.Promise1=f)}(void 0)}).call(this,c(561).setImmediate)},function(a,b,c){"use strict";var d,e=c(562),f=(d=e)&&d.__esModule?d:{"default":d};window.Promise1=f["default"]},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.IManager=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(317),g=c(316),h=b.IManager=function(a){function b(a){return function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b),function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a))}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,f.IManagerServiceBase),d(b,[{key:"load",value:function(){return this.request("GET",this.serviceUrl+"/web/api/service.json")}},{key:"createIServer",value:function(a){return this.request("POST",this.serviceUrl+"/icloud/web/nodes/server.json",new g.IManagerCreateNodeParam(a))}},{key:"createIPortal",value:function(a){return this.request("POST",this.serviceUrl+"/icloud/web/nodes/portal.json",new g.IManagerCreateNodeParam(a))}},{key:"iServerList",value:function(){return this.request("GET",this.serviceUrl+"/icloud/web/nodes/server.json")}},{key:"iPortalList",value:function(){return this.request("GET",this.serviceUrl+"/icloud/web/nodes/portal.json")}},{key:"startNodes",value:function(a){return this.request("POST",this.serviceUrl+"/icloud/web/nodes/started.json",a)}},{key:"stopNodes",value:function(a){return this.request("POST",this.serviceUrl+"/icloud/web/nodes/stopped.json",a)}}]),b}();e.SuperMap.iManager=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.IManagerServiceBase=b.IManagerCreateNodeParam=b.IManager=void 0;var d=c(564),e=c(316),f=c(317);b.IManager=d.IManager,b.IManagerCreateNodeParam=e.IManagerCreateNodeParam,b.IManagerServiceBase=f.IManagerServiceBase},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.TimeFlowControl=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=function i(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:i(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0!==f?f.call(c):void 0},f=c(0),g=c(318),h=b.TimeFlowControl=function(a){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var d=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,c)),e=d;return e.callback=a,Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e}),e.update=e.update.bind(e),e.oldTime=e.currentTime,e.CLASS_NAME="SuperMap.TimeFlowControl",d}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,g.TimeControlBase),d(b,[{key:"updateOptions",value:function(a){
a=a||{},e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"updateOptions",this).call(this,a)}},{key:"start",value:function(){var a=this;a.running||(a.running=!0,a.reverse?a.currentTime===a.startTime&&(a.oldTime=a.endTime,a.currentTime=a.oldTime):a.oldTime===a.endTime&&(a.currentTime=a.startTime,a.oldTime=a.currentTime),a.tick())}},{key:"stop",value:function(){e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"stop",this).call(this);var a=this;a.oldTime=a.currentTime,a.running&&(a.running=!1),a.intervalId&&window.clearTimeout(a.intervalId)}},{key:"destroy",value:function(){e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this),this.oldTime=null,this.callback=null}},{key:"tick",value:function(){var a=this;a.intervalId&&window.clearInterval(a.intervalId),a.intervalId=null,a.update(),a.intervalId=window.setInterval(a.update,a.frequency)}},{key:"update",value:function(){var a=this;if(a.running)if(a.callback&&a.callback(a.currentTime),a.reverse){if(a.currentTime===a.startTime){if(!a.repeat)return a.running=!1,null;a.oldTime=a.endTime,a.currentTime=a.oldTime}else a.currentTime=a.oldTime,a.oldTime-=a.speed;a.oldTime<=a.startTime&&(a.oldTime=a.startTime)}else{if(a.currentTime===a.endTime){if(!a.repeat)return a.running=!1,a.stop(),null;a.stop(),a.currentTime=a.startTime,a.oldTime=a.currentTime,a.start()}else a.oldTime=a.currentTime,a.currentTime+=a.speed;a.currentTime>=a.endTime&&(a.currentTime=a.endTime)}}}]),b}();f.SuperMap.TimeFlowControl=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.TimeFlowControl=b.TimeControlBase=b.LogoBase64=void 0;var d=c(319),e=c(318),f=c(566);b.LogoBase64=d.LogoBase64,b.TimeControlBase=e.TimeControlBase,b.TimeFlowControl=f.TimeFlowControl},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.WKT=void 0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(0),f=c(134),g=c(66),h=c(90),i=c(24),j=c(48),k=c(23),l=c(65),m=c(41),n=c(63),o=c(64),p=b.WKT=function(a){function b(a){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var c=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.regExes={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},c.CLASS_NAME="SuperMap.Format.WKT",c.extract={point:function(a){return a.x+" "+a.y},multipoint:function(a){for(var b=[],c=0,d=a.components.length;d>c;++c)b.push("("+this.extract.point.apply(this,[a.components[c]])+")");return b.join(",")},linestring:function(a){for(var b=[],c=0,d=a.components.length;d>c;++c)b.push(this.extract.point.apply(this,[a.components[c]]));return b.join(",")},multilinestring:function(a){for(var b=[],c=0,d=a.components.length;d>c;++c)b.push("("+this.extract.linestring.apply(this,[a.components[c]])+")");return b.join(",")},polygon:function(a){for(var b=[],c=0,d=a.components.length;d>c;++c)b.push("("+this.extract.linestring.apply(this,[a.components[c]])+")");return b.join(",")},multipolygon:function(a){for(var b=[],c=0,d=a.components.length;d>c;++c)b.push("("+this.extract.polygon.apply(this,[a.components[c]])+")");return b.join(",")},collection:function(a){for(var b=[],c=0,d=a.components.length;d>c;++c)b.push(this.extractGeometry.apply(this,[a.components[c]]));return b.join(",")}},c.parse={point:function(a){var b=g.StringExt.trim(a).split(this.regExes.spaces);return new h.Vector(new i.Point(b[0],b[1]))},multipoint:function(a){for(var b,c=g.StringExt.trim(a).split(","),d=[],e=0,f=c.length;f>e;++e)b=c[e].replace(this.regExes.trimParens,"$1"),d.push(this.parse.point.apply(this,[b]).geometry);return new h.Vector(new j.MultiPoint(d))},linestring:function(a){for(var b=g.StringExt.trim(a).split(","),c=[],d=0,e=b.length;e>d;++d)c.push(this.parse.point.apply(this,[b[d]]).geometry);return new h.Vector(new k.LineString(c))},multilinestring:function(a){for(var b,c=g.StringExt.trim(a).split(this.regExes.parenComma),d=[],e=0,f=c.length;f>e;++e)b=c[e].replace(this.regExes.trimParens,"$1"),d.push(this.parse.linestring.apply(this,[b]).geometry);return new h.Vector(new l.MultiLineString(d))},polygon:function(a){for(var b,c,d,e=g.StringExt.trim(a).split(this.regExes.parenComma),f=[],i=0,j=e.length;j>i;++i)b=e[i].replace(this.regExes.trimParens,"$1"),c=this.parse.linestring.apply(this,[b]).geometry,d=new m.LinearRing(c.components),f.push(d);return new h.Vector(new n.Polygon(f))},multipolygon:function(a){for(var b,c=g.StringExt.trim(a).split(this.regExes.doubleParenComma),d=[],e=0,f=c.length;f>e;++e)b=c[e].replace(this.regExes.trimParens,"$1"),d.push(this.parse.polygon.apply(this,[b]).geometry);return new h.Vector(new o.MultiPolygon(d))},geometrycollection:function(a){a=a.replace(/,\s*([A-Za-z])/g,"|$1");for(var b=g.StringExt.trim(a).split("|"),c=[],d=0,e=b.length;e>d;++d)c.push(this.read(b[d]));return c}},c}return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(b,f.Format),d(b,[{key:"read",value:function(a){var b,c,d;a=a.replace(/[\n\r]/g," ");var e=this.regExes.typeStr.exec(a);return e&&(c=e[1].toLowerCase(),d=e[2],this.parse[c]&&(b=this.parse[c].apply(this,[d]))),b}},{key:"write",value:function(a){var b,c,d;a.constructor===Array?(b=a,d=!0):(b=[a],d=!1);var e=[];d&&e.push("GEOMETRYCOLLECTION(");for(var f=0,g=b.length;g>f;++f)d&&f>0&&e.push(","),c=b[f].geometry,e.push(this.extractGeometry(c));return d&&e.push(")"),e.join("")}},{key:"extractGeometry",value:function(a){var b=a.CLASS_NAME.split(".")[2].toLowerCase();return this.extract[b]?("collection"===b?"GEOMETRYCOLLECTION":b.toUpperCase())+"("+this.extract[b].apply(this,[a])+")":null}}]),b}();e.SuperMap.Format.WKT=p},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.WKT=b.GeoJSON=b.JSONFormat=b.Format=void 0;var d=c(134),e=c(17),f=c(133),g=c(568);b.Format=d.Format,b.JSONFormat=f.JSONFormat,b.GeoJSON=e.GeoJSON,b.WKT=g.WKT},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.DateExt=void 0;var d=c(0);b.DateExt=d.SuperMap.Date={toISOString:function(){if("toISOString"in Date.prototype)return function(a){return a.toISOString()};var a=function(a,b){for(var c=a+"";c.length<b;)c="0"+c;return c};return function(b){return isNaN(b.getTime())?"Invalid Date":b.getUTCFullYear()+"-"+a(b.getUTCMonth()+1,2)+"-"+a(b.getUTCDate(),2)+"T"+a(b.getUTCHours(),2)+":"+a(b.getUTCMinutes(),2)+":"+a(b.getUTCSeconds(),2)+"."+a(b.getUTCMilliseconds(),3)+"Z"}}(),parse:function(a){var b,c=a.match(/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:(?:T(\d{1,2}):(\d{2}):(\d{2}(?:\.\d+)?)(Z|(?:[+-]\d{1,2}(?::(\d{2}))?)))|Z)?$/);if(c&&(c[1]||c[7])){var d=parseInt(c[1],10)||0,e=parseInt(c[2],10)-1||0,f=parseInt(c[3],10)||1;b=new Date(Date.UTC(d,e,f));var g=c[7];if(g){var h=parseInt(c[4],10),i=parseInt(c[5],10),j=parseFloat(c[6]),k=0|j,l=Math.round(1e3*(j-k));if(b.setUTCHours(h,i,k,l),"Z"!==g){var m=-1e3*(60*parseInt(g,10)*60+60*(parseInt(c[8],10)||0));b=new Date(b.getTime()+m)}}}else b=new Date("invalid");return b}}},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Rectangle=b.Polygon=b.GeometryPoint=b.MultiPolygon=b.MultiPoint=b.MultiLineString=b.LineString=b.LinearRing=b.GeoText=b.Curve=b.Collection=void 0;var d=c(34),e=c(137),f=c(136),g=c(41),h=c(23),i=c(65),j=c(48),k=c(64),l=c(24),m=c(63),n=c(323);b.Collection=d.Collection,b.Curve=e.Curve,b.GeoText=f.GeoText,b.LinearRing=g.LinearRing,b.LineString=h.LineString,b.MultiLineString=i.MultiLineString,b.MultiPoint=j.MultiPoint,b.MultiPolygon=k.MultiPolygon,b.GeometryPoint=l.Point,b.Polygon=m.Polygon,b.Rectangle=n.Rectangle},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.GeometryVector=b.CommonUtil=b.Size=b.Pixel=b.LonLat=b.Geometry=b.Feature=b.Events=b.Event=b.DateExt=b.Credential=b.Bounds=b.ArrayExt=b.FunctionExt=b.NumberExt=b.StringExt=b.Rectangle=b.Polygon=b.GeometryPoint=b.MultiPolygon=b.MultiPoint=b.MultiLineString=b.LineString=b.LinearRing=b.GeoText=b.Curve=b.Collection=void 0;var d=c(571),e=c(66),f=c(30),g=c(135),h=c(570),i=c(322),j=c(91),k=c(321),l=c(29),m=c(49),n=c(92),o=c(324),p=c(1),q=c(90);b.Collection=d.Collection,b.Curve=d.Curve,b.GeoText=d.GeoText,b.LinearRing=d.LinearRing,b.LineString=d.LineString,b.MultiLineString=d.MultiLineString,b.MultiPoint=d.MultiPoint,b.MultiPolygon=d.MultiPolygon,b.GeometryPoint=d.GeometryPoint,b.Polygon=d.Polygon,b.Rectangle=d.Rectangle,b.StringExt=e.StringExt,b.NumberExt=e.NumberExt,b.FunctionExt=e.FunctionExt,b.ArrayExt=e.ArrayExt,b.Bounds=f.Bounds,b.Credential=g.Credential,b.DateExt=h.DateExt,b.Event=i.Event,b.Events=j.Events,b.Feature=k.Feature,b.Geometry=l.Geometry,b.LonLat=m.LonLat,b.Pixel=n.Pixel,b.Size=o.Size,b.CommonUtil=p.Util,b.GeometryVector=q.Vector},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.trafficTransferAnalystService=b.TrafficTransferAnalystService=b.themeService=b.ThemeService=b.spatialAnalystService=b.SpatialAnalystService=b.ServiceBase=b.queryService=b.QueryService=b.processingService=b.ProcessingService=b.networkAnalystService=b.NetworkAnalystService=b.networkAnalyst3DService=b.NetworkAnalyst3DService=b.measureService=b.MeasureService=b.mapService=b.MapService=b.layerInfoService=b.LayerInfoService=b.gridCellInfosService=b.GridCellInfosService=b.fieldService=b.FieldService=b.featureService=b.FeatureService=b.dataFlowService=b.DataFlowService=b.chartService=b.ChartService=b.addressMatchService=b.AddressMatchService=b.VectorTilePBF=b.VectorTileJSON=b.VectorTile=b.VectorGrid=b.VectorFeatureType=b.TextSymbolizer=b.PolyBase=b.Symbolizer=b.SVGRenderer=b.RegionSymbolizer=b.PointSymbolizer=b.LineSymbolizer=b.CanvasRenderer=b.ThemeLayer=b.themeFeature=b.ThemeFeature=b.GeoFeatureThemeLayer=b.MapVRenderer=b.cloverStyle=b.CloverStyle=b.graphic=b.Graphic=b.circleStyle=b.CircleStyle=b.imageStyle=b.ImageStyle=b.CompOpMap=b.ServerStyleMap=b.CartoStyleMap=b.DefaultStyle=b.CartoCSSToLeaflet=b.VectorTileFormat=b.uniqueThemeLayer=b.UniqueThemeLayer=b.unicodeMarker=b.UnicodeMarker=b.turfLayer=b.TurfLayer=b.tiledVectorLayer=b.TileVectorLayer=b.rankSymbolThemeLayer=b.RankSymbolThemeLayer=b.rangeThemeLayer=b.RangeThemeLayer=b.mapVLayer=b.MapVLayer=b.labelThemeLayer=b.LabelThemeLayer=b.graphThemeLayer=b.GraphThemeLayer=b.graphicLayer=b.GraphicLayer=b.LeafletMapCoordSys=b.echartsLayer=b.EchartsLayer=b.dataFlowLayer=b.DataFlowLayer=b.webMap=void 0,b.WebMap=b.wmtsLayer=b.WMTSLayer=b.tiledMapLayer=b.TiledMapLayer=b.tiandituTileLayer=b.TiandituTileLayer=b.imageMapLayer=b.ImageMapLayer=b.cloudTileLayer=b.CloudTileLayer=b.baiduTileLayer=b.BaiduTileLayer=b.NormalizeScale=b.GetResolutionFromScaleDpi=b.scaleToResolution=b.resolutionToScale=b.getMeterPerMapUnit=b.toSuperMapGeometry=b.toGeoJSON=b.crs=b.CRS=b.nonEarthCRS=b.NonEarthCRS=b.nonProjection=b.NonProjection=b.TianDiTu_MercatorCRS=b.TianDiTu_WGS84CRS=b.BaiduCRS=b.CommontypesConversion=b.changeTileVersion=b.ChangeTileVersion=b.logo=b.Logo=b.FileReaderUtil=b.widgetsUtil=b.PaginationContainer=b.NavTabsPage=b.CityTabsPage=b.IndexTabsPageContainer=b.PopContainer=b.AttributesPopContainer=b.Select=b.DropDownBox=b.CommonContainer=b.MessageBox=b.FileModel=b.FileConfig=b.FileTypes=b.VectorClipJobsParameter=b.Vector=b.UpdateTurnNodeWeightParameters=b.UpdateEdgeWeightParameters=b.UGCSubLayer=b.UGCMapLayer=b.UGCLayer=b.TransportationAnalystResultSetting=b.TransportationAnalystParameter=b.TransferSolutionParameters=b.TransferPathParameters=b.TransferLine=b.TopologyValidatorJobsParameter=b.ThiessenAnalystParameters=b.ThemeUniqueItem=b.ThemeUnique=b.ThemeRangeItem=b.ThemeRange=b.ThemeParameters=b.ThemeOffset=b.ThemeMemoryData=b.ThemeLabelUniqueItem=b.ThemeLabelText=b.ThemeLabelItem=b.ThemeLabelBackground=b.ThemeLabelAlongLine=b.ThemeLabel=b.ThemeGridUniqueItem=b.ThemeGridUnique=b.ThemeGridRangeItem=b.ThemeGridRange=b.ThemeGraphText=b.ThemeGraphSize=b.ThemeGraphItem=b.ThemeGraphAxes=b.ThemeGraph=b.ThemeGraduatedSymbolStyle=b.ThemeGraduatedSymbol=b.ThemeFlow=b.ThemeDotDensity=b.Theme=b.TerrainCurvatureCalculationParameters=b.SurfaceAnalystParametersSetting=b.SurfaceAnalystParameters=b.SupplyCenter=b.SummaryRegionJobParameter=b.SummaryMeshJobParameter=b.SummaryAttributesJobsParameter=b.StopQueryParameters=b.SingleObjectQueryJobsParameter=b.SetLayerStatusParameters=void 0,b.SetLayersInfoParameters=b.SetLayerInfoParameters=b.ServerTheme=b.ServerTextStyle=b.ServerStyle=b.ServerGeometry=b.ServerFeature=b.ServerColor=b.RouteLocatorParameters=b.RouteCalculateMeasureParameters=b.Route=b.QueryParameters=b.QueryBySQLParameters=b.QueryByGeometryParameters=b.QueryByDistanceParameters=b.QueryByBoundsParameters=b.PointWithMeasure=b.OverlayGeoJobParameter=b.OverlayAnalystParameters=b.OverlapDisplayedOptions=b.MappingParameters=b.OutputSetting=b.MeasureParameters=b.MathExpressionAnalysisParameters=b.LinkItem=b.LayerStatus=b.LabelThemeCell=b.LabelSymbolCell=b.LabelMixedTextStyle=b.LabelMatrixCell=b.LabelImageCell=b.KernelDensityJobParameter=b.JoinItem=b.InterpolationRBFAnalystParameters=b.InterpolationKrigingAnalystParameters=b.InterpolationIDWAnalystParameters=b.InterpolationAnalystParameters=b.Image=b.Grid=b.GetGridCellInfosParameters=b.GetFeaturesBySQLParameters=b.GetFeaturesByIDsParameters=b.GetFeaturesByGeometryParameters=b.GetFeaturesByBufferParameters=b.GetFeaturesByBoundsParameters=b.GeoRelationAnalystParameters=b.GeometryThiessenAnalystParameters=b.GeometrySurfaceAnalystParameters=b.GeometryOverlayAnalystParameters=b.GeometryBufferAnalystParameters=b.GeoHashGridAggParameter=b.GeoDecodingParameter=b.GeoCodingParameter=b.GeoBoundingBoxQueryBuilderParameter=b.GenerateSpatialDataParameters=b.FindTSPPathsParameters=b.FindServiceAreasParameters=b.FindPathParameters=b.FindMTSPPathsParameters=b.FindLocationParameters=b.FindClosestFacilitiesParameters=b.FilterParameter=b.FieldStatisticsParameters=b.FilterAggParameter=b.FieldParameters=b.FacilityAnalystUpstream3DParameters=b.FacilityAnalystTraceup3DParameters=b.FacilityAnalystTracedown3DParameters=b.FacilityAnalystStreamParameters=b.FacilityAnalystSources3DParameters=b.FacilityAnalystSinks3DParameters=b.FacilityAnalyst3DParameters=b.EditFeaturesParameters=b.DensityKernelAnalystParameters=b.DatasourceConnectionInfo=b.DatasetThiessenAnalystParameters=b.DatasetSurfaceAnalystParameters=b.DatasetOverlayAnalystParameters=b.DatasetInfo=b.DatasetBufferAnalystParameters=b.DataReturnOption=b.ComputeWeightMatrixParameters=b.ColorDictionary=b.ClipParameter=b.ChartQueryParameters=b.ChartQueryFilterParameter=b.BurstPipelineAnalystParameters=b.BufferSetting=b.BuffersAnalystJobsParameter=b.BufferDistance=b.BufferAnalystParameters=b.AggQueryBuilderParameter=b.AggregationParameter=b.AreaSolarRadiationParameters=b.FetchRequest=b.ElasticSearch=b.TokenServiceParameter=b.ServerInfo=b.SecurityManager=b.KeyServiceParameter=void 0,b.OnlineServiceBase=b.FilterField=b.DataItemOrderBy=b.DataItemType=b.ServiceStatus=b.OnlineQueryDatasParameter=b.OnlineData=b.Online=b.IPortalServicesQueryParam=b.IPortalServiceBase=b.IPortalService=b.IPortalMapsQueryParam=b.IPortalMap=b.IPortal=b.IManagerCreateNodeParam=b.IManagerServiceBase=b.IManager=b.TimeFlowControl=b.GetFeatureMode=b.AggregationType=b.AggregationQueryBuilderType=b.OutputType=b.TopologyValidatorRule=b.StatisticAnalystMode=b.AnalystSizeUnit=b.AnalystAreaUnit=b.ClipAnalystMode=b.Exponent=b.VariogramMode=b.InterpolationAlgorithmType=b.SummaryType=b.SearchMode=b.PixelFormat=b.StatisticMode=b.UGCLayerType=b.LayerType=b.ClientType=b.GridType=b.TransferPreference=b.TransferTactic=b.EditType=b.ChartType=b.ColorSpaceType=b.SurfaceAnalystMethod=b.SmoothMethod=b.BufferEndType=b.TurnType=b.SupplyCenterType=b.OverlayOperationType=b.DirectionType=b.LabelOverLengthMode=b.LabelBackShape=b.AlongLineDirection=b.SideType=b.FillGradientMode=b.TextAlignment=b.ColorGradientType=b.ThemeType=b.RangeMode=b.GraduatedMode=b.GraphAxesTextDisplayMode=b.ThemeGraphType=b.ThemeGraphTextFormat=b.SpatialQueryMode=b.BufferRadiusUnit=b.Unit=b.DataReturnMode=b.SpatialRelationType=b.MeasureMode=b.EngineType=b.JoinType=b.QueryOption=b.GeometryType=b.ServerType=b.DataFormat=b.SuperMap=b.dataServiceQueryViewModel=b.DataServiceQueryViewModel=b.dataServiceQueryView=b.DataServiceQueryView=b.DistributedAnalysisViewModel=b.distributedAnalysisView=b.DistributedAnalysisView=b.GeoJsonLayerDataModel=b.GeoJsonLayersDataModel=b.geoJSONLayerWithName=b.GeoJSONLayerWithName=b.clientComputationLayer=b.ClientComputationLayer=b.ClientComputationViewModel=b.ClientComputationView=b.clientComputationView=b.dataFlowView=b.DataFlowView=b.searchView=b.SearchView=b.openFileViewModel=b.OpenFileViewModel=b.openFileView=b.OpenFileView=void 0;var d=c(5),e=c(430),f=c(384),g=c(382),h=c(377),i=c(350),j=c(337);b.OpenFileView=j.OpenFileView,b.openFileView=j.openFileView,b.OpenFileViewModel=j.OpenFileViewModel,b.openFileViewModel=j.openFileViewModel,b.SearchView=j.SearchView,b.searchView=j.searchView,b.DataFlowView=j.DataFlowView,b.dataFlowView=j.dataFlowView,b.clientComputationView=j.clientComputationView,b.ClientComputationView=j.ClientComputationView,b.ClientComputationViewModel=j.ClientComputationViewModel,b.ClientComputationLayer=j.ClientComputationLayer,b.clientComputationLayer=j.clientComputationLayer,b.GeoJSONLayerWithName=j.GeoJSONLayerWithName,b.geoJSONLayerWithName=j.geoJSONLayerWithName,b.GeoJsonLayersDataModel=j.GeoJsonLayersDataModel,b.GeoJsonLayerDataModel=j.GeoJsonLayerDataModel,b.DistributedAnalysisView=j.DistributedAnalysisView,b.distributedAnalysisView=j.distributedAnalysisView,b.DistributedAnalysisViewModel=j.DistributedAnalysisViewModel,b.DataServiceQueryView=j.DataServiceQueryView,b.dataServiceQueryView=j.dataServiceQueryView,b.DataServiceQueryViewModel=j.DataServiceQueryViewModel,b.dataServiceQueryViewModel=j.dataServiceQueryViewModel,b.SuperMap=d.SuperMap,b.DataFormat=d.DataFormat,b.ServerType=d.ServerType,b.GeometryType=d.GeometryType,b.QueryOption=d.QueryOption,b.JoinType=d.JoinType,b.EngineType=d.EngineType,b.MeasureMode=d.MeasureMode,b.SpatialRelationType=d.SpatialRelationType,b.DataReturnMode=d.DataReturnMode,b.Unit=d.Unit,b.BufferRadiusUnit=d.BufferRadiusUnit,b.SpatialQueryMode=d.SpatialQueryMode,b.ThemeGraphTextFormat=d.ThemeGraphTextFormat,b.ThemeGraphType=d.ThemeGraphType,b.GraphAxesTextDisplayMode=d.GraphAxesTextDisplayMode,b.GraduatedMode=d.GraduatedMode,b.RangeMode=d.RangeMode,b.ThemeType=d.ThemeType,b.ColorGradientType=d.ColorGradientType,b.TextAlignment=d.TextAlignment,b.FillGradientMode=d.FillGradientMode,b.SideType=d.SideType,b.AlongLineDirection=d.AlongLineDirection,b.LabelBackShape=d.LabelBackShape,b.LabelOverLengthMode=d.LabelOverLengthMode,b.DirectionType=d.DirectionType,b.OverlayOperationType=d.OverlayOperationType,b.SupplyCenterType=d.SupplyCenterType,b.TurnType=d.TurnType,b.BufferEndType=d.BufferEndType,b.SmoothMethod=d.SmoothMethod,b.SurfaceAnalystMethod=d.SurfaceAnalystMethod,b.ColorSpaceType=d.ColorSpaceType,b.ChartType=d.ChartType,b.EditType=d.EditType,b.TransferTactic=d.TransferTactic,b.TransferPreference=d.TransferPreference,b.GridType=d.GridType,b.ClientType=d.ClientType,b.LayerType=d.LayerType,b.UGCLayerType=d.UGCLayerType,b.StatisticMode=d.StatisticMode,b.PixelFormat=d.PixelFormat,b.SearchMode=d.SearchMode,b.SummaryType=d.SummaryType,b.InterpolationAlgorithmType=d.InterpolationAlgorithmType,b.VariogramMode=d.VariogramMode,b.Exponent=d.Exponent,b.ClipAnalystMode=d.ClipAnalystMode,b.AnalystAreaUnit=d.AnalystAreaUnit,b.AnalystSizeUnit=d.AnalystSizeUnit,b.StatisticAnalystMode=d.StatisticAnalystMode,b.TopologyValidatorRule=d.TopologyValidatorRule,b.OutputType=d.OutputType,b.AggregationQueryBuilderType=d.AggregationQueryBuilderType,b.AggregationType=d.AggregationType,b.GetFeatureMode=d.GetFeatureMode,b.TimeFlowControl=d.TimeFlowControl,b.IManager=d.IManager,b.IManagerServiceBase=d.IManagerServiceBase,b.IManagerCreateNodeParam=d.IManagerCreateNodeParam,b.IPortal=d.IPortal,b.IPortalMap=d.IPortalMap,b.IPortalMapsQueryParam=d.IPortalMapsQueryParam,b.IPortalService=d.IPortalService,b.IPortalServiceBase=d.IPortalServiceBase,b.IPortalServicesQueryParam=d.IPortalServicesQueryParam,b.Online=d.Online,b.OnlineData=d.OnlineData,b.OnlineQueryDatasParameter=d.OnlineQueryDatasParameter,b.ServiceStatus=d.ServiceStatus,b.DataItemType=d.DataItemType,b.DataItemOrderBy=d.DataItemOrderBy,b.FilterField=d.FilterField,b.OnlineServiceBase=d.OnlineServiceBase,b.KeyServiceParameter=d.KeyServiceParameter,b.SecurityManager=d.SecurityManager,b.ServerInfo=d.ServerInfo,b.TokenServiceParameter=d.TokenServiceParameter,b.ElasticSearch=d.ElasticSearch,b.FetchRequest=d.FetchRequest,b.AreaSolarRadiationParameters=d.AreaSolarRadiationParameters,b.AggregationParameter=d.AggregationParameter,b.AggQueryBuilderParameter=d.AggQueryBuilderParameter,b.BufferAnalystParameters=d.BufferAnalystParameters,b.BufferDistance=d.BufferDistance,b.BuffersAnalystJobsParameter=d.BuffersAnalystJobsParameter,b.BufferSetting=d.BufferSetting,b.BurstPipelineAnalystParameters=d.BurstPipelineAnalystParameters,b.ChartQueryFilterParameter=d.ChartQueryFilterParameter,b.ChartQueryParameters=d.ChartQueryParameters,b.ClipParameter=d.ClipParameter,b.ColorDictionary=d.ColorDictionary,b.ComputeWeightMatrixParameters=d.ComputeWeightMatrixParameters,b.DataReturnOption=d.DataReturnOption,b.DatasetBufferAnalystParameters=d.DatasetBufferAnalystParameters,b.DatasetInfo=d.DatasetInfo,b.DatasetOverlayAnalystParameters=d.DatasetOverlayAnalystParameters,b.DatasetSurfaceAnalystParameters=d.DatasetSurfaceAnalystParameters,b.DatasetThiessenAnalystParameters=d.DatasetThiessenAnalystParameters,b.DatasourceConnectionInfo=d.DatasourceConnectionInfo,b.DensityKernelAnalystParameters=d.DensityKernelAnalystParameters,b.EditFeaturesParameters=d.EditFeaturesParameters,b.FacilityAnalyst3DParameters=d.FacilityAnalyst3DParameters,b.FacilityAnalystSinks3DParameters=d.FacilityAnalystSinks3DParameters,b.FacilityAnalystSources3DParameters=d.FacilityAnalystSources3DParameters,b.FacilityAnalystStreamParameters=d.FacilityAnalystStreamParameters,b.FacilityAnalystTracedown3DParameters=d.FacilityAnalystTracedown3DParameters,b.FacilityAnalystTraceup3DParameters=d.FacilityAnalystTraceup3DParameters,b.FacilityAnalystUpstream3DParameters=d.FacilityAnalystUpstream3DParameters,b.FieldParameters=d.FieldParameters,b.FilterAggParameter=d.FilterAggParameter,b.FieldStatisticsParameters=d.FieldStatisticsParameters,b.FilterParameter=d.FilterParameter,b.FindClosestFacilitiesParameters=d.FindClosestFacilitiesParameters,b.FindLocationParameters=d.FindLocationParameters,b.FindMTSPPathsParameters=d.FindMTSPPathsParameters,b.FindPathParameters=d.FindPathParameters,b.FindServiceAreasParameters=d.FindServiceAreasParameters,b.FindTSPPathsParameters=d.FindTSPPathsParameters,b.GenerateSpatialDataParameters=d.GenerateSpatialDataParameters,b.GeoBoundingBoxQueryBuilderParameter=d.GeoBoundingBoxQueryBuilderParameter,b.GeoCodingParameter=d.GeoCodingParameter,b.GeoDecodingParameter=d.GeoDecodingParameter,b.GeoHashGridAggParameter=d.GeoHashGridAggParameter,b.GeometryBufferAnalystParameters=d.GeometryBufferAnalystParameters,b.GeometryOverlayAnalystParameters=d.GeometryOverlayAnalystParameters,b.GeometrySurfaceAnalystParameters=d.GeometrySurfaceAnalystParameters,b.GeometryThiessenAnalystParameters=d.GeometryThiessenAnalystParameters,b.GeoRelationAnalystParameters=d.GeoRelationAnalystParameters,b.GetFeaturesByBoundsParameters=d.GetFeaturesByBoundsParameters,b.GetFeaturesByBufferParameters=d.GetFeaturesByBufferParameters,b.GetFeaturesByGeometryParameters=d.GetFeaturesByGeometryParameters,b.GetFeaturesByIDsParameters=d.GetFeaturesByIDsParameters,b.GetFeaturesBySQLParameters=d.GetFeaturesBySQLParameters,b.GetGridCellInfosParameters=d.GetGridCellInfosParameters,b.Grid=d.Grid,b.Image=d.Image,b.InterpolationAnalystParameters=d.InterpolationAnalystParameters,b.InterpolationIDWAnalystParameters=d.InterpolationIDWAnalystParameters,b.InterpolationKrigingAnalystParameters=d.InterpolationKrigingAnalystParameters,b.InterpolationRBFAnalystParameters=d.InterpolationRBFAnalystParameters,b.JoinItem=d.JoinItem,b.KernelDensityJobParameter=d.KernelDensityJobParameter,b.LabelImageCell=d.LabelImageCell,b.LabelMatrixCell=d.LabelMatrixCell,b.LabelMixedTextStyle=d.LabelMixedTextStyle,b.LabelSymbolCell=d.LabelSymbolCell,b.LabelThemeCell=d.LabelThemeCell,b.LayerStatus=d.LayerStatus,b.LinkItem=d.LinkItem,b.MathExpressionAnalysisParameters=d.MathExpressionAnalysisParameters,b.MeasureParameters=d.MeasureParameters,b.OutputSetting=d.OutputSetting,b.MappingParameters=d.MappingParameters,b.OverlapDisplayedOptions=d.OverlapDisplayedOptions,b.OverlayAnalystParameters=d.OverlayAnalystParameters,b.OverlayGeoJobParameter=d.OverlayGeoJobParameter,b.PointWithMeasure=d.PointWithMeasure,b.QueryByBoundsParameters=d.QueryByBoundsParameters,b.QueryByDistanceParameters=d.QueryByDistanceParameters,b.QueryByGeometryParameters=d.QueryByGeometryParameters,b.QueryBySQLParameters=d.QueryBySQLParameters,b.QueryParameters=d.QueryParameters,b.Route=d.Route,b.RouteCalculateMeasureParameters=d.RouteCalculateMeasureParameters,b.RouteLocatorParameters=d.RouteLocatorParameters,b.ServerColor=d.ServerColor,b.ServerFeature=d.ServerFeature,b.ServerGeometry=d.ServerGeometry,b.ServerStyle=d.ServerStyle,b.ServerTextStyle=d.ServerTextStyle,b.ServerTheme=d.ServerTheme,b.SetLayerInfoParameters=d.SetLayerInfoParameters,b.SetLayersInfoParameters=d.SetLayersInfoParameters,b.SetLayerStatusParameters=d.SetLayerStatusParameters,b.SingleObjectQueryJobsParameter=d.SingleObjectQueryJobsParameter,b.StopQueryParameters=d.StopQueryParameters,b.SummaryAttributesJobsParameter=d.SummaryAttributesJobsParameter,b.SummaryMeshJobParameter=d.SummaryMeshJobParameter,b.SummaryRegionJobParameter=d.SummaryRegionJobParameter,b.SupplyCenter=d.SupplyCenter,b.SurfaceAnalystParameters=d.SurfaceAnalystParameters,b.SurfaceAnalystParametersSetting=d.SurfaceAnalystParametersSetting,b.TerrainCurvatureCalculationParameters=d.TerrainCurvatureCalculationParameters,b.Theme=d.Theme,b.ThemeDotDensity=d.ThemeDotDensity,b.ThemeFlow=d.ThemeFlow,b.ThemeGraduatedSymbol=d.ThemeGraduatedSymbol,b.ThemeGraduatedSymbolStyle=d.ThemeGraduatedSymbolStyle,b.ThemeGraph=d.ThemeGraph,b.ThemeGraphAxes=d.ThemeGraphAxes,b.ThemeGraphItem=d.ThemeGraphItem,b.ThemeGraphSize=d.ThemeGraphSize,b.ThemeGraphText=d.ThemeGraphText,b.ThemeGridRange=d.ThemeGridRange,b.ThemeGridRangeItem=d.ThemeGridRangeItem,b.ThemeGridUnique=d.ThemeGridUnique,b.ThemeGridUniqueItem=d.ThemeGridUniqueItem,b.ThemeLabel=d.ThemeLabel,b.ThemeLabelAlongLine=d.ThemeLabelAlongLine,b.ThemeLabelBackground=d.ThemeLabelBackground,b.ThemeLabelItem=d.ThemeLabelItem,b.ThemeLabelText=d.ThemeLabelText,b.ThemeLabelUniqueItem=d.ThemeLabelUniqueItem,b.ThemeMemoryData=d.ThemeMemoryData,b.ThemeOffset=d.ThemeOffset,b.ThemeParameters=d.ThemeParameters,b.ThemeRange=d.ThemeRange,b.ThemeRangeItem=d.ThemeRangeItem,b.ThemeUnique=d.ThemeUnique,b.ThemeUniqueItem=d.ThemeUniqueItem,b.ThiessenAnalystParameters=d.ThiessenAnalystParameters,b.TopologyValidatorJobsParameter=d.TopologyValidatorJobsParameter,b.TransferLine=d.TransferLine,b.TransferPathParameters=d.TransferPathParameters,b.TransferSolutionParameters=d.TransferSolutionParameters,b.TransportationAnalystParameter=d.TransportationAnalystParameter,b.TransportationAnalystResultSetting=d.TransportationAnalystResultSetting,b.UGCLayer=d.UGCLayer,b.UGCMapLayer=d.UGCMapLayer,b.UGCSubLayer=d.UGCSubLayer,b.UpdateEdgeWeightParameters=d.UpdateEdgeWeightParameters,b.UpdateTurnNodeWeightParameters=d.UpdateTurnNodeWeightParameters,b.Vector=d.Vector,b.VectorClipJobsParameter=d.VectorClipJobsParameter,b.FileTypes=d.FileTypes,b.FileConfig=d.FileConfig,b.FileModel=d.FileModel,b.MessageBox=d.MessageBox,b.CommonContainer=d.CommonContainer,b.DropDownBox=d.DropDownBox,b.Select=d.Select,b.AttributesPopContainer=d.AttributesPopContainer,b.PopContainer=d.PopContainer,b.IndexTabsPageContainer=d.IndexTabsPageContainer,b.CityTabsPage=d.CityTabsPage,b.NavTabsPage=d.NavTabsPage,b.PaginationContainer=d.PaginationContainer,b.widgetsUtil=d.widgetsUtil,b.FileReaderUtil=d.FileReaderUtil,b.Logo=e.Logo,b.logo=e.logo,b.ChangeTileVersion=e.ChangeTileVersion,b.changeTileVersion=e.changeTileVersion,b.CommontypesConversion=f.CommontypesConversion,b.BaiduCRS=f.BaiduCRS,b.TianDiTu_WGS84CRS=f.TianDiTu_WGS84CRS,b.TianDiTu_MercatorCRS=f.TianDiTu_MercatorCRS,b.NonProjection=f.NonProjection,b.nonProjection=f.nonProjection,b.NonEarthCRS=f.NonEarthCRS,b.nonEarthCRS=f.nonEarthCRS,b.CRS=f.CRS,b.crs=f.crs,b.toGeoJSON=f.toGeoJSON,b.toSuperMapGeometry=f.toSuperMapGeometry,b.getMeterPerMapUnit=f.getMeterPerMapUnit,b.resolutionToScale=f.resolutionToScale,b.scaleToResolution=f.scaleToResolution,b.GetResolutionFromScaleDpi=f.GetResolutionFromScaleDpi,b.NormalizeScale=f.NormalizeScale,b.BaiduTileLayer=g.BaiduTileLayer,b.baiduTileLayer=g.baiduTileLayer,b.CloudTileLayer=g.CloudTileLayer,b.cloudTileLayer=g.cloudTileLayer,b.ImageMapLayer=g.ImageMapLayer,b.imageMapLayer=g.imageMapLayer,b.TiandituTileLayer=g.TiandituTileLayer,b.tiandituTileLayer=g.tiandituTileLayer,b.TiledMapLayer=g.TiledMapLayer,b.tiledMapLayer=g.tiledMapLayer,b.WMTSLayer=g.WMTSLayer,b.wmtsLayer=g.wmtsLayer,b.WebMap=g.WebMap,b.webMap=g.webMap,b.DataFlowLayer=h.DataFlowLayer,b.dataFlowLayer=h.dataFlowLayer,b.EchartsLayer=h.EchartsLayer,b.echartsLayer=h.echartsLayer,b.LeafletMapCoordSys=h.LeafletMapCoordSys,b.GraphicLayer=h.GraphicLayer,b.graphicLayer=h.graphicLayer,b.GraphThemeLayer=h.GraphThemeLayer,b.graphThemeLayer=h.graphThemeLayer,b.LabelThemeLayer=h.LabelThemeLayer,b.labelThemeLayer=h.labelThemeLayer,b.MapVLayer=h.MapVLayer,b.mapVLayer=h.mapVLayer,b.RangeThemeLayer=h.RangeThemeLayer,b.rangeThemeLayer=h.rangeThemeLayer,b.RankSymbolThemeLayer=h.RankSymbolThemeLayer,b.rankSymbolThemeLayer=h.rankSymbolThemeLayer,b.TileVectorLayer=h.TileVectorLayer,b.tiledVectorLayer=h.tiledVectorLayer,b.TurfLayer=h.TurfLayer,b.turfLayer=h.turfLayer,b.UnicodeMarker=h.UnicodeMarker,b.unicodeMarker=h.unicodeMarker,b.UniqueThemeLayer=h.UniqueThemeLayer,b.uniqueThemeLayer=h.uniqueThemeLayer,b.VectorTileFormat=h.VectorTileFormat,b.CartoCSSToLeaflet=h.CartoCSSToLeaflet,b.DefaultStyle=h.DefaultStyle,b.CartoStyleMap=h.CartoStyleMap,b.ServerStyleMap=h.ServerStyleMap,b.CompOpMap=h.CompOpMap,b.ImageStyle=h.ImageStyle,b.imageStyle=h.imageStyle,b.CircleStyle=h.CircleStyle,b.circleStyle=h.circleStyle,b.Graphic=h.Graphic,b.graphic=h.graphic,b.CloverStyle=h.CloverStyle,b.cloverStyle=h.cloverStyle,b.MapVRenderer=h.MapVRenderer,b.GeoFeatureThemeLayer=h.GeoFeatureThemeLayer,b.ThemeFeature=h.ThemeFeature,b.themeFeature=h.themeFeature,b.ThemeLayer=h.ThemeLayer,b.CanvasRenderer=h.CanvasRenderer,b.LineSymbolizer=h.LineSymbolizer,b.PointSymbolizer=h.PointSymbolizer,b.RegionSymbolizer=h.RegionSymbolizer,b.SVGRenderer=h.SVGRenderer,b.Symbolizer=h.Symbolizer,b.PolyBase=h.PolyBase,b.TextSymbolizer=h.TextSymbolizer,b.VectorFeatureType=h.VectorFeatureType,b.VectorGrid=h.VectorGrid,b.VectorTile=h.VectorTile,b.VectorTileJSON=h.VectorTileJSON,b.VectorTilePBF=h.VectorTilePBF,b.AddressMatchService=i.AddressMatchService,b.addressMatchService=i.addressMatchService,b.ChartService=i.ChartService,b.chartService=i.chartService,b.DataFlowService=i.DataFlowService,b.dataFlowService=i.dataFlowService,b.FeatureService=i.FeatureService,b.featureService=i.featureService,b.FieldService=i.FieldService,b.fieldService=i.fieldService,b.GridCellInfosService=i.GridCellInfosService,
b.gridCellInfosService=i.gridCellInfosService,b.LayerInfoService=i.LayerInfoService,b.layerInfoService=i.layerInfoService,b.MapService=i.MapService,b.mapService=i.mapService,b.MeasureService=i.MeasureService,b.measureService=i.measureService,b.NetworkAnalyst3DService=i.NetworkAnalyst3DService,b.networkAnalyst3DService=i.networkAnalyst3DService,b.NetworkAnalystService=i.NetworkAnalystService,b.networkAnalystService=i.networkAnalystService,b.ProcessingService=i.ProcessingService,b.processingService=i.processingService,b.QueryService=i.QueryService,b.queryService=i.queryService,b.ServiceBase=i.ServiceBase,b.SpatialAnalystService=i.SpatialAnalystService,b.spatialAnalystService=i.spatialAnalystService,b.ThemeService=i.ThemeService,b.themeService=i.themeService,b.TrafficTransferAnalystService=i.TrafficTransferAnalystService,b.trafficTransferAnalystService=i.trafficTransferAnalystService},function(a,b,c){c(573),a.exports=c(326)},function(a,b){},function(a,b){},function(a,b){},function(a,b){},function(a,b){},function(a,b){},function(a,b){},function(a,b){},function(a,b){},function(a,b){},function(a,b){},function(a,b){},function(a,b){},function(a,b){},function(a,b){},function(a,b){},,,,,,,,,,,,function(a,b){},,,,,function(a,b){},,,,,,,function(a,b){}]),Aqsc.KSH=L.supermap;